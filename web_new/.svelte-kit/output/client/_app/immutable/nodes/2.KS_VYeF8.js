import{S as ll,i as al,s as sl,F as ul,n as Le,d as f,G as dl,H as fl,p as $e,I as V,J as Qt,K as et,b as ae,e as s,L as G,M as ml,N as hl,f as t,O as _l,g as r,h as p,q as tt,k as E,j as N,l as n,r as lt,m as k,P as vl,o as ol,Q as pl,R as Lt,T as gl,t as Te,a as we,c as Vt,U as Xt,u as Pt,v as rl,w as nl,x as il,y as cl}from"../chunks/-3cQnFvs.js";import{e as at,u as bl,G as El,o as kl}from"../chunks/CcNbzAFb.js";import"../chunks/IHki7fMi.js";import{M as Cl}from"../chunks/CY1Kz5oP.js";function Dl(o,{show:l}){const e=new Cl(o);return l&&e.show(),o.addEventListener("hidden.bs.modal",()=>{o.dispatchEvent(new CustomEvent("close"))}),{update({show:a}){a?e.show():e.hide()},destroy(){e.dispose()}}}function Wt(o,l,e){const a=o.slice();return a[28]=l[e],a}function Zt(o){let l,e=o[28].name+"",a,u;return{c(){l=n("option"),a=lt(e),this.h()},l(m){l=r(m,"OPTION",{});var c=p(l);a=tt(c,e),c.forEach(f),this.h()},h(){l.__value=u=o[28].id,V(l,l.__value)},m(m,c){ae(m,l,c),s(l,a)},p(m,c){c&2&&e!==(e=m[28].name+"")&&$e(a,e),c&2&&u!==(u=m[28].id)&&(l.__value=u,V(l,l.__value))},d(m){m&&f(l)}}}function yl(o){let l,e,a,u,m,c=o[0]?"Edit Game":"Add New Game",i,d,h,I,P,b,D,C,A="Title",x,y,H,g,_,T="Platform",R,O,z,Ge="Select Platform",Ne,Y,se,J,K,Q="Year",st,X,ot,Ve,oe,re,At="Genre",rt,W,nt,ne,ie,Mt="Description",it,Z,ct,ce,ue,Nt="Cover Art URL",ut,$,dt,de,Pe,fe,me,Ot="Rating (0-10)",ft,j,mt,Ae,he,_e,Gt="Purchase Date",ht,ee,_t,S,ve,Ut="Collection Format(s)",vt,pe,U,pt,ge,Bt='<i class="fas fa-box me-1"></i>Physical Copy',gt,be,B,bt,Ee,Ft='<i class="fas fa-download me-1"></i>Digital Purchase',Et,ke,F,kt,Ce,Rt='<i class="fas fa-hdd me-1"></i>ROM File',Ct,De,te,St="Cancel",Dt,ye,Oe=o[0]?"Save Changes":"Add Game",Ue,Be,yt,It,qt,Me=at(o[1]),M=[];for(let v=0;v<Me.length;v+=1)M[v]=Zt(Wt(o,Me,v));return yt=ul(o[23][0]),{c(){l=n("div"),e=n("div"),a=n("div"),u=n("div"),m=n("h5"),i=lt(c),d=k(),h=n("button"),I=k(),P=n("div"),b=n("form"),D=n("div"),C=n("label"),C.textContent=A,x=k(),y=n("input"),H=k(),g=n("div"),_=n("label"),_.textContent=T,R=k(),O=n("select"),z=n("option"),z.textContent=Ge;for(let v=0;v<M.length;v+=1)M[v].c();Ne=k(),Y=n("div"),se=n("div"),J=n("div"),K=n("label"),K.textContent=Q,st=k(),X=n("input"),ot=k(),Ve=n("div"),oe=n("div"),re=n("label"),re.textContent=At,rt=k(),W=n("input"),nt=k(),ne=n("div"),ie=n("label"),ie.textContent=Mt,it=k(),Z=n("textarea"),ct=k(),ce=n("div"),ue=n("label"),ue.textContent=Nt,ut=k(),$=n("input"),dt=k(),de=n("div"),Pe=n("div"),fe=n("div"),me=n("label"),me.textContent=Ot,ft=k(),j=n("input"),mt=k(),Ae=n("div"),he=n("div"),_e=n("label"),_e.textContent=Gt,ht=k(),ee=n("input"),_t=k(),S=n("div"),ve=n("div"),ve.textContent=Ut,vt=k(),pe=n("div"),U=n("input"),pt=k(),ge=n("label"),ge.innerHTML=Bt,gt=k(),be=n("div"),B=n("input"),bt=k(),Ee=n("label"),Ee.innerHTML=Ft,Et=k(),ke=n("div"),F=n("input"),kt=k(),Ce=n("label"),Ce.innerHTML=Rt,Ct=k(),De=n("div"),te=n("button"),te.textContent=St,Dt=k(),ye=n("button"),Ue=lt(Oe),this.h()},l(v){l=r(v,"DIV",{class:!0,tabindex:!0});var w=p(l);e=r(w,"DIV",{class:!0});var L=p(e);a=r(L,"DIV",{class:!0});var le=p(a);u=r(le,"DIV",{class:!0});var Fe=p(u);m=r(Fe,"H5",{class:!0});var Ht=p(m);i=tt(Ht,c),Ht.forEach(f),d=E(Fe),h=r(Fe,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0}),p(h).forEach(f),Fe.forEach(f),I=E(le),P=r(le,"DIV",{class:!0});var jt=p(P);b=r(jt,"FORM",{});var q=p(b);D=r(q,"DIV",{class:!0});var Re=p(D);C=r(Re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(C)!=="svelte-8by8gw"&&(C.textContent=A),x=E(Re),y=r(Re,"INPUT",{type:!0,class:!0,id:!0}),Re.forEach(f),H=E(q),g=r(q,"DIV",{class:!0});var Se=p(g);_=r(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(_)!=="svelte-y40p5i"&&(_.textContent=T),R=E(Se),O=r(Se,"SELECT",{class:!0,id:!0});var wt=p(O);z=r(wt,"OPTION",{"data-svelte-h":!0}),N(z)!=="svelte-11ldttk"&&(z.textContent=Ge);for(let Tt=0;Tt<M.length;Tt+=1)M[Tt].l(wt);wt.forEach(f),Se.forEach(f),Ne=E(q),Y=r(q,"DIV",{class:!0});var qe=p(Y);se=r(qe,"DIV",{class:!0});var xt=p(se);J=r(xt,"DIV",{class:!0});var He=p(J);K=r(He,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(K)!=="svelte-6wqzxu"&&(K.textContent=Q),st=E(He),X=r(He,"INPUT",{type:!0,class:!0,id:!0}),He.forEach(f),xt.forEach(f),ot=E(qe),Ve=r(qe,"DIV",{class:!0});var zt=p(Ve);oe=r(zt,"DIV",{class:!0});var je=p(oe);re=r(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(re)!=="svelte-qqqxz4"&&(re.textContent=At),rt=E(je),W=r(je,"INPUT",{type:!0,class:!0,id:!0}),je.forEach(f),zt.forEach(f),qe.forEach(f),nt=E(q),ne=r(q,"DIV",{class:!0});var xe=p(ne);ie=r(xe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(ie)!=="svelte-1wqguy4"&&(ie.textContent=Mt),it=E(xe),Z=r(xe,"TEXTAREA",{class:!0,id:!0,rows:!0}),p(Z).forEach(f),xe.forEach(f),ct=E(q),ce=r(q,"DIV",{class:!0});var ze=p(ce);ue=r(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(ue)!=="svelte-1pn3pwv"&&(ue.textContent=Nt),ut=E(ze),$=r(ze,"INPUT",{type:!0,class:!0,id:!0}),ze.forEach(f),dt=E(q),de=r(q,"DIV",{class:!0});var Ye=p(de);Pe=r(Ye,"DIV",{class:!0});var Yt=p(Pe);fe=r(Yt,"DIV",{class:!0});var Je=p(fe);me=r(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(me)!=="svelte-dda38j"&&(me.textContent=Ot),ft=E(Je),j=r(Je,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0,step:!0}),Je.forEach(f),Yt.forEach(f),mt=E(Ye),Ae=r(Ye,"DIV",{class:!0});var Jt=p(Ae);he=r(Jt,"DIV",{class:!0});var Ke=p(he);_e=r(Ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(_e)!=="svelte-1sim88u"&&(_e.textContent=Gt),ht=E(Ke),ee=r(Ke,"INPUT",{type:!0,class:!0,id:!0}),Ke.forEach(f),Jt.forEach(f),Ye.forEach(f),_t=E(q),S=r(q,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var Ie=p(S);ve=r(Ie,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),N(ve)!=="svelte-10d0to5"&&(ve.textContent=Ut),vt=E(Ie),pe=r(Ie,"DIV",{class:!0});var Qe=p(pe);U=r(Qe,"INPUT",{class:!0,type:!0,id:!0}),pt=E(Qe),ge=r(Qe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(ge)!=="svelte-mxkj0"&&(ge.innerHTML=Bt),Qe.forEach(f),gt=E(Ie),be=r(Ie,"DIV",{class:!0});var Xe=p(be);B=r(Xe,"INPUT",{class:!0,type:!0,id:!0}),bt=E(Xe),Ee=r(Xe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(Ee)!=="svelte-1rrla7l"&&(Ee.innerHTML=Ft),Xe.forEach(f),Et=E(Ie),ke=r(Ie,"DIV",{class:!0});var We=p(ke);F=r(We,"INPUT",{class:!0,type:!0,id:!0}),kt=E(We),Ce=r(We,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(Ce)!=="svelte-1dtffhm"&&(Ce.innerHTML=Rt),We.forEach(f),Ie.forEach(f),q.forEach(f),jt.forEach(f),Ct=E(le),De=r(le,"DIV",{class:!0});var Ze=p(De);te=r(Ze,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(te)!=="svelte-znpp9w"&&(te.textContent=St),Dt=E(Ze),ye=r(Ze,"BUTTON",{type:!0,class:!0});var Kt=p(ye);Ue=tt(Kt,Oe),Kt.forEach(f),Ze.forEach(f),le.forEach(f),L.forEach(f),w.forEach(f),this.h()},h(){t(m,"class","modal-title"),t(h,"type","button"),t(h,"class","btn-close"),t(h,"data-bs-dismiss","modal"),t(u,"class","modal-header"),t(C,"for","gameTitle"),t(C,"class","form-label"),t(y,"type","text"),t(y,"class","form-control"),t(y,"id","gameTitle"),y.required=!0,t(D,"class","mb-3"),t(_,"for","gamePlatform"),t(_,"class","form-label"),z.__value=null,V(z,z.__value),t(O,"class","form-select"),t(O,"id","gamePlatform"),O.required=!0,o[4]===void 0&&_l(()=>o[15].call(O)),t(g,"class","mb-3"),t(K,"for","gameYear"),t(K,"class","form-label"),t(X,"type","number"),t(X,"class","form-control"),t(X,"id","gameYear"),t(J,"class","mb-3"),t(se,"class","col-md-6"),t(re,"for","gameGenre"),t(re,"class","form-label"),t(W,"type","text"),t(W,"class","form-control"),t(W,"id","gameGenre"),t(oe,"class","mb-3"),t(Ve,"class","col-md-6"),t(Y,"class","row"),t(ie,"for","gameDescription"),t(ie,"class","form-label"),t(Z,"class","form-control"),t(Z,"id","gameDescription"),t(Z,"rows","3"),t(ne,"class","mb-3"),t(ue,"for","gameCoverUrl"),t(ue,"class","form-label"),t($,"type","url"),t($,"class","form-control"),t($,"id","gameCoverUrl"),t(ce,"class","mb-3"),t(me,"for","gameRating"),t(me,"class","form-label"),t(j,"type","number"),t(j,"class","form-control"),t(j,"id","gameRating"),t(j,"min","0"),t(j,"max","10"),t(j,"step","0.1"),t(fe,"class","mb-3"),t(Pe,"class","col-md-6"),t(_e,"for","gamePurchaseDate"),t(_e,"class","form-label"),t(ee,"type","date"),t(ee,"class","form-control"),t(ee,"id","gamePurchaseDate"),t(he,"class","mb-3"),t(Ae,"class","col-md-6"),t(de,"class","row"),t(ve,"id","collectionFormatsLabel"),t(ve,"class","form-label"),t(U,"class","form-check-input"),t(U,"type","checkbox"),t(U,"id","gameFormatPhysical"),U.__value="physical",V(U,U.__value),t(ge,"class","form-check-label"),t(ge,"for","gameFormatPhysical"),t(pe,"class","form-check"),t(B,"class","form-check-input"),t(B,"type","checkbox"),t(B,"id","gameFormatDigital"),B.__value="digital",V(B,B.__value),t(Ee,"class","form-check-label"),t(Ee,"for","gameFormatDigital"),t(be,"class","form-check"),t(F,"class","form-check-input"),t(F,"type","checkbox"),t(F,"id","gameFormatRom"),F.__value="rom",V(F,F.__value),t(Ce,"class","form-check-label"),t(Ce,"for","gameFormatRom"),t(ke,"class","form-check"),t(S,"class","mb-3"),t(S,"role","group"),t(S,"aria-labelledby","collectionFormatsLabel"),t(P,"class","modal-body"),t(te,"type","button"),t(te,"class","btn btn-secondary"),t(ye,"type","button"),t(ye,"class","btn btn-primary"),t(De,"class","modal-footer"),t(a,"class","modal-content"),t(e,"class","modal-dialog modal-lg"),t(l,"class","modal fade"),t(l,"tabindex","-1"),yt.p(U,B,F)},m(v,w){ae(v,l,w),s(l,e),s(e,a),s(a,u),s(u,m),s(m,i),s(u,d),s(u,h),s(a,I),s(a,P),s(P,b),s(b,D),s(D,C),s(D,x),s(D,y),V(y,o[3]),s(b,H),s(b,g),s(g,_),s(g,R),s(g,O),s(O,z);for(let L=0;L<M.length;L+=1)M[L]&&M[L].m(O,null);Qt(O,o[4],!0),s(b,Ne),s(b,Y),s(Y,se),s(se,J),s(J,K),s(J,st),s(J,X),V(X,o[5]),s(Y,ot),s(Y,Ve),s(Ve,oe),s(oe,re),s(oe,rt),s(oe,W),V(W,o[6]),s(b,nt),s(b,ne),s(ne,ie),s(ne,it),s(ne,Z),V(Z,o[7]),s(b,ct),s(b,ce),s(ce,ue),s(ce,ut),s(ce,$),V($,o[8]),s(b,dt),s(b,de),s(de,Pe),s(Pe,fe),s(fe,me),s(fe,ft),s(fe,j),V(j,o[9]),s(de,mt),s(de,Ae),s(Ae,he),s(he,_e),s(he,ht),s(he,ee),V(ee,o[10]),s(b,_t),s(b,S),s(S,ve),s(S,vt),s(S,pe),s(pe,U),U.checked=~(o[11]||[]).indexOf(U.__value),s(pe,pt),s(pe,ge),s(S,gt),s(S,be),s(be,B),B.checked=~(o[11]||[]).indexOf(B.__value),s(be,bt),s(be,Ee),s(S,Et),s(S,ke),s(ke,F),F.checked=~(o[11]||[]).indexOf(F.__value),s(ke,kt),s(ke,Ce),s(a,Ct),s(a,De),s(De,te),s(De,Dt),s(De,ye),s(ye,Ue),It||(qt=[G(y,"input",o[14]),G(O,"change",o[15]),G(X,"input",o[16]),G(W,"input",o[17]),G(Z,"input",o[18]),G($,"input",o[19]),G(j,"input",o[20]),G(ee,"input",o[21]),G(U,"change",o[22]),G(B,"change",o[24]),G(F,"change",o[25]),G(b,"submit",hl(o[13])),G(te,"click",o[26]),G(ye,"click",o[13]),ml(Be=Dl.call(null,l,{show:o[2]})),G(l,"close",o[27])],It=!0)},p(v,[w]){if(w&1&&c!==(c=v[0]?"Edit Game":"Add New Game")&&$e(i,c),w&8&&y.value!==v[3]&&V(y,v[3]),w&2){Me=at(v[1]);let L;for(L=0;L<Me.length;L+=1){const le=Wt(v,Me,L);M[L]?M[L].p(le,w):(M[L]=Zt(le),M[L].c(),M[L].m(O,null))}for(;L<M.length;L+=1)M[L].d(1);M.length=Me.length}w&18&&Qt(O,v[4]),w&32&&et(X.value)!==v[5]&&V(X,v[5]),w&64&&W.value!==v[6]&&V(W,v[6]),w&128&&V(Z,v[7]),w&256&&$.value!==v[8]&&V($,v[8]),w&512&&et(j.value)!==v[9]&&V(j,v[9]),w&1024&&V(ee,v[10]),w&2048&&(U.checked=~(v[11]||[]).indexOf(U.__value)),w&2048&&(B.checked=~(v[11]||[]).indexOf(B.__value)),w&2048&&(F.checked=~(v[11]||[]).indexOf(F.__value)),w&1&&Oe!==(Oe=v[0]?"Save Changes":"Add Game")&&$e(Ue,Oe),Be&&gl(Be.update)&&w&4&&Be.update.call(null,{show:v[2]})},i:Le,o:Le,d(v){v&&f(l),dl(M,v),yt.r(),It=!1,fl(qt)}}}function Il(o,l,e){let{game:a=null}=l,{platforms:u=[]}=l,{show:m}=l,c="",i=null,d=null,h="",I="",P="",b=null,D="",C=[];const A=vl();ol(()=>{a&&(e(3,c=a.title),e(4,i=a.platform_id),e(5,d=a.year),e(6,h=a.genre),e(7,I=a.description),e(8,P=a.cover_art_url),e(9,b=a.rating),e(10,D=a.purchase_date?new Date(a.purchase_date).toISOString().split("T")[0]:""),e(11,C=a.collection_formats||[]))});function x(){A("submit",{title:c,platform_id:i,year:d,genre:h,description:I,cover_art_url:P,rating:b,purchase_date:D,collection_formats:C})}const y=[[]];function H(){c=this.value,e(3,c)}function g(){i=pl(this),e(4,i),e(1,u)}function _(){d=et(this.value),e(5,d)}function T(){h=this.value,e(6,h)}function R(){I=this.value,e(7,I)}function O(){P=this.value,e(8,P)}function z(){b=et(this.value),e(9,b)}function Ge(){D=this.value,e(10,D)}function Ne(){C=Lt(y[0],this.__value,this.checked),e(11,C)}function Y(){C=Lt(y[0],this.__value,this.checked),e(11,C)}function se(){C=Lt(y[0],this.__value,this.checked),e(11,C)}const J=()=>A("close"),K=()=>A("close");return o.$$set=Q=>{"game"in Q&&e(0,a=Q.game),"platforms"in Q&&e(1,u=Q.platforms),"show"in Q&&e(2,m=Q.show)},[a,u,m,c,i,d,h,I,P,b,D,C,A,x,H,g,_,T,R,O,z,Ge,Ne,y,Y,se,J,K]}class wl extends ll{constructor(l){super(),al(this,l,Il,yl,sl,{game:0,platforms:1,show:2})}}function $t(o,l,e){const a=o.slice();return a[10]=l[e],a}function Tl(o){let l,e=[],a=new Map,u,m=at(o[0]);const c=i=>i[10].id;for(let i=0;i<m.length;i+=1){let d=$t(o,m,i),h=c(d);a.set(h,e[i]=el(h,d))}return{c(){l=n("div");for(let i=0;i<e.length;i+=1)e[i].c();this.h()},l(i){l=r(i,"DIV",{class:!0});var d=p(l);for(let h=0;h<e.length;h+=1)e[h].l(d);d.forEach(f),this.h()},h(){t(l,"class","row")},m(i,d){ae(i,l,d);for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(l,null);u=!0},p(i,d){d&129&&(m=at(i[0]),Pt(),e=bl(e,d,c,1,i,m,a,l,kl,el,null,$t),Vt())},i(i){if(!u){for(let d=0;d<m.length;d+=1)we(e[d]);u=!0}},o(i){for(let d=0;d<e.length;d+=1)Te(e[d]);u=!1},d(i){i&&f(l);for(let d=0;d<e.length;d+=1)e[d].d()}}}function Ll(o){let l,e;return{c(){l=n("div"),e=lt(o[3]),this.h()},l(a){l=r(a,"DIV",{class:!0});var u=p(l);e=tt(u,o[3]),u.forEach(f),this.h()},h(){t(l,"class","alert alert-danger")},m(a,u){ae(a,l,u),s(l,e)},p(a,u){u&8&&$e(e,a[3])},i:Le,o:Le,d(a){a&&f(l)}}}function Vl(o){let l,e="Loading games...";return{c(){l=n("p"),l.textContent=e},l(a){l=r(a,"P",{"data-svelte-h":!0}),N(l)!=="svelte-uis8ph"&&(l.textContent=e)},m(a,u){ae(a,l,u)},p:Le,i:Le,o:Le,d(a){a&&f(l)}}}function el(o,l){let e,a,u,m;return a=new El({props:{game:l[10]}}),a.$on("edit",l[7]),{key:o,first:null,c(){e=n("div"),cl(a.$$.fragment),u=k(),this.h()},l(c){e=r(c,"DIV",{class:!0});var i=p(e);il(a.$$.fragment,i),u=E(i),i.forEach(f),this.h()},h(){t(e,"class","col-lg-3 col-md-4 col-sm-6 mb-4"),this.first=e},m(c,i){ae(c,e,i),nl(a,e,null),s(e,u),m=!0},p(c,i){l=c;const d={};i&1&&(d.game=l[10]),a.$set(d)},i(c){m||(we(a.$$.fragment,c),m=!0)},o(c){Te(a.$$.fragment,c),m=!1},d(c){c&&f(e),rl(a)}}}function tl(o){let l,e;return l=new wl({props:{game:o[5],platforms:o[1]}}),l.$on("submit",o[8]),l.$on("close",o[9]),{c(){cl(l.$$.fragment)},l(a){il(l.$$.fragment,a)},m(a,u){nl(l,a,u),e=!0},p(a,u){const m={};u&32&&(m.game=a[5]),u&2&&(m.platforms=a[1]),l.$set(m)},i(a){e||(we(l.$$.fragment,a),e=!0)},o(a){Te(l.$$.fragment,a),e=!1},d(a){rl(l,a)}}}function Pl(o){let l,e,a,u="Game Collection",m,c,i='<i class="fas fa-plus me-1"></i> Add Game',d,h,I,P,b,D,C,A;const x=[Vl,Ll,Tl],y=[];function H(_,T){return _[2]?0:_[3]?1:2}h=H(o),I=y[h]=x[h](o);let g=o[4]&&tl(o);return{c(){l=n("div"),e=n("div"),a=n("h1"),a.textContent=u,m=k(),c=n("button"),c.innerHTML=i,d=k(),I.c(),P=k(),g&&g.c(),b=Xt(),this.h()},l(_){l=r(_,"DIV",{class:!0});var T=p(l);e=r(T,"DIV",{class:!0});var R=p(e);a=r(R,"H1",{"data-svelte-h":!0}),N(a)!=="svelte-8q22c4"&&(a.textContent=u),m=E(R),c=r(R,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-1pqzu4l"&&(c.innerHTML=i),R.forEach(f),d=E(T),I.l(T),T.forEach(f),P=E(_),g&&g.l(_),b=Xt(),this.h()},h(){t(c,"class","btn btn-primary"),t(e,"class","d-flex justify-content-between align-items-center mb-4"),t(l,"class","container-fluid mt-4")},m(_,T){ae(_,l,T),s(l,e),s(e,a),s(e,m),s(e,c),s(l,d),y[h].m(l,null),ae(_,P,T),g&&g.m(_,T),ae(_,b,T),D=!0,C||(A=G(c,"click",o[6]),C=!0)},p(_,[T]){let R=h;h=H(_),h===R?y[h].p(_,T):(Pt(),Te(y[R],1,1,()=>{y[R]=null}),Vt(),I=y[h],I?I.p(_,T):(I=y[h]=x[h](_),I.c()),we(I,1),I.m(l,null)),_[4]?g?(g.p(_,T),T&16&&we(g,1)):(g=tl(_),g.c(),we(g,1),g.m(b.parentNode,b)):g&&(Pt(),Te(g,1,1,()=>{g=null}),Vt())},i(_){D||(we(I),we(g),D=!0)},o(_){Te(I),Te(g),D=!1},d(_){_&&(f(l),f(P),f(b)),y[h].d(),g&&g.d(_),C=!1,A()}}}function Al(o,l,e){let a=[],u=[],m=!0,c=null,i=!1,d=null;ol(async()=>{try{const[D,C]=await Promise.all([fetch("/api/v1/games"),fetch("/api/v1/platforms")]);if(D.ok&&C.ok){const A=await D.json(),x=await C.json();e(0,a=A.games),e(1,u=x)}else e(3,c="Failed to load data from the backend.")}catch(D){e(3,c="Error connecting to the backend."),console.error(D)}finally{e(2,m=!1)}});function h(){e(5,d=null),e(4,i=!0)}function I(D){const C=D.detail;e(5,d=a.find(A=>A.id===C)||null),e(4,i=!0)}async function P(D){const C=D.detail,A=!!d,x=A?`/api/v1/games/${d.id}`:"/api/v1/games",y=A?"PUT":"POST";try{const H=await fetch(x,{method:y,headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(H.ok){e(4,i=!1);const _=await(await fetch("/api/v1/games")).json();e(0,a=_.games)}else{const g=await H.json();alert(`Error: ${g.error}`)}}catch(H){alert("An error occurred while saving the game."),console.error(H)}}return[a,u,m,c,i,d,h,I,P,()=>e(4,i=!1)]}class Ul extends ll{constructor(l){super(),al(this,l,Al,Pl,sl,{})}}export{Ul as component};
