import{H as ce,a as oe,t as re,S as ue,i as de,s as fe,n as $,d as k,p as Q,b as x,e as i,L as R,f as r,g as b,h as H,k as j,q,j as Z,l as w,m as B,r as A,P as he,V as ie}from"./-3cQnFvs.js";import"./IHki7fMi.js";function we(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ke(t,e){re(t,1,1,()=>{e.delete(t.key)})}function Te(t,e,s,n,c,d,_,L,S,l,v,Y){let p=t.length,u=d.length,T=p;const P={};for(;T--;)P[t[T].key]=T;const m=[],N=new Map,C=new Map,y=[];for(T=u;T--;){const a=Y(c,d,T),o=s(a);let f=_.get(o);f?y.push(()=>f.p(a,e)):(f=l(o,a),f.c()),N.set(o,m[T]=f),o in P&&C.set(o,Math.abs(T-P[o]))}const M=new Set,D=new Set;function I(a){oe(a,1),a.m(L,v),_.set(a.key,a),v=a.first,u--}for(;p&&u;){const a=m[u-1],o=t[p-1],f=a.key,U=o.key;a===o?(v=a.first,p--,u--):N.has(U)?!_.has(f)||M.has(f)?I(a):D.has(U)?p--:C.get(f)>C.get(U)?(D.add(f),I(a)):(M.add(U),p--):(S(o,_),p--)}for(;p--;){const a=t[p];N.has(a.key)||S(a,_)}for(;u;)I(m[u-1]);return ce(y),m}function me(t){let e;return{c(){e=w("i"),this.h()},l(s){e=b(s,"I",{class:!0}),H(e).forEach(k),this.h()},h(){r(e,"class","fas fa-gamepad")},m(s,n){x(s,e,n)},p:$,d(s){s&&k(e)}}}function _e(t){let e,s,n;return{c(){e=w("img"),this.h()},l(c){e=b(c,"IMG",{src:!0,alt:!0}),this.h()},h(){ie(e.src,s=t[0].cover_art_url)||r(e,"src",s),r(e,"alt",n=t[0].title)},m(c,d){x(c,e,d)},p(c,d){d&1&&!ie(e.src,s=c[0].cover_art_url)&&r(e,"src",s),d&1&&n!==(n=c[0].title)&&r(e,"alt",n)},d(c){c&&k(e)}}}function ve(t){var se;let e,s,n,c,d,_=(((se=t[0].platform)==null?void 0:se.name)||"Unknown")+"",L,S,l,v,Y='<i class="fas fa-edit"></i>',p,u,T='<i class="fas fa-trash"></i>',P,m,N='<i class="fas fa-play"></i>',C,y,M,D=t[0].title+"",I,a,o,f=(t[0].year||"Unknown Year")+"",U,W,O=(t[0].genre||"Unknown Genre")+"",z,X,ee;function te(h,g){return h[0].cover_art_url?_e:me}let F=te(t),E=F(t);return{c(){e=w("button"),s=w("div"),n=w("div"),E.c(),c=B(),d=w("span"),L=A(_),S=B(),l=w("div"),v=w("button"),v.innerHTML=Y,p=B(),u=w("button"),u.innerHTML=T,P=B(),m=w("button"),m.innerHTML=N,C=B(),y=w("div"),M=w("h6"),I=A(D),a=B(),o=w("p"),U=A(f),W=A(" • "),z=A(O),this.h()},l(h){e=b(h,"BUTTON",{class:!0});var g=H(e);s=b(g,"DIV",{class:!0});var G=H(s);n=b(G,"DIV",{class:!0});var ne=H(n);E.l(ne),ne.forEach(k),c=j(G),d=b(G,"SPAN",{class:!0});var ae=H(d);L=q(ae,_),ae.forEach(k),S=j(G),l=b(G,"DIV",{class:!0});var V=H(l);v=b(V,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Z(v)!=="svelte-1c5sno0"&&(v.innerHTML=Y),p=j(V),u=b(V,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1jv1kaj"&&(u.innerHTML=T),P=j(V),m=b(V,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Z(m)!=="svelte-4wkj7d"&&(m.innerHTML=N),V.forEach(k),G.forEach(k),C=j(g),y=b(g,"DIV",{class:!0});var J=H(y);M=b(J,"H6",{class:!0});var le=H(M);I=q(le,D),le.forEach(k),a=j(J),o=b(J,"P",{class:!0});var K=H(o);U=q(K,f),W=q(K," • "),z=q(K,O),K.forEach(k),J.forEach(k),g.forEach(k),this.h()},h(){r(n,"class","game-cover"),r(d,"class","platform-badge"),r(v,"class","btn btn-sm btn-primary"),r(v,"title","Edit Game"),r(u,"class","btn btn-sm btn-danger"),r(u,"title","Delete Game"),r(m,"class","btn btn-sm btn-success"),r(m,"title","Log Session"),r(l,"class","btn-group-actions position-absolute bottom-0 end-0 p-2"),r(s,"class","position-relative"),r(M,"class","card-title"),r(o,"class","card-text small text-muted"),r(y,"class","card-body"),r(e,"class","card game-card svelte-251wub")},m(h,g){x(h,e,g),i(e,s),i(s,n),E.m(n,null),i(s,c),i(s,d),i(d,L),i(s,S),i(s,l),i(l,v),i(l,p),i(l,u),i(l,P),i(l,m),i(e,C),i(e,y),i(y,M),i(M,I),i(y,a),i(y,o),i(o,U),i(o,W),i(o,z),X||(ee=[R(v,"click",t[2]),R(u,"click",t[3]),R(m,"click",t[4]),R(e,"click",t[5])],X=!0)},p(h,[g]){var G;F===(F=te(h))&&E?E.p(h,g):(E.d(1),E=F(h),E&&(E.c(),E.m(n,null))),g&1&&_!==(_=(((G=h[0].platform)==null?void 0:G.name)||"Unknown")+"")&&Q(L,_),g&1&&D!==(D=h[0].title+"")&&Q(I,D),g&1&&f!==(f=(h[0].year||"Unknown Year")+"")&&Q(U,f),g&1&&O!==(O=(h[0].genre||"Unknown Genre")+"")&&Q(z,O)},i:$,o:$,d(h){h&&k(e),E.d(),X=!1,ce(ee)}}}function pe(t,e,s){let{game:n}=e;const c=he();function d(l){l.stopPropagation(),c("edit",n.id)}function _(l){l.stopPropagation(),c("delete",n.id)}function L(l){l.stopPropagation(),c("log",n.id)}const S=()=>c("view",n.id);return t.$$set=l=>{"game"in l&&s(0,n=l.game)},[n,c,d,_,L,S]}class ye extends ue{constructor(e){super(),de(this,e,pe,ve,fe,{game:0})}}export{ye as G,we as e,ke as o,Te as u};
