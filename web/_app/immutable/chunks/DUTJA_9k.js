import{S as Ae,i as Me,s as Ne,n as R,d as u,b as y,q as we,L as He,o as n,e as f,p as Ue,j as d,u as Ye,a as z,c,m as O,f as m,h as D,g as U,k as L,t as A,z as je,M as Ie}from"./kp0KmzAt.js";import{e as De}from"./NZ8AIpzC.js";import"./IHki7fMi.js";function Le(s,e,l){const t=s.slice();return t[10]=e[l],t[12]=l,t}function qe(s){let e,l,t,a,r,i=(s[0].platform?.name||"Unknown Platform")+"",_,k,M,G,N=Ge(s[0].completion_status)+"",q,v,ie,T,S,F,W,re,P,J,X,ne,V,K,Z,oe,E,H,Q=s[0].title+"",x,$,ce,C,ee,ue,te,fe,de;function _e(o,h){return o[0].cover_art_url&&!o[2]?ze:Oe}let le=_e(s),w=le(s);function he(o,h){return o[0].release_date?Je:Fe}let ae=he(s),I=ae(s),p=s[0].genre&&Te(s),b=s[0].rating&&Se(s),g=s[0].playtime_hours&&Ve(s);return{c(){e=d("div"),l=d("div"),t=d("div"),w.c(),a=L(),r=d("span"),_=A(i),k=L(),M=d("div"),G=d("span"),q=A(N),ie=L(),T=d("div"),S=d("button"),F=d("i"),re=L(),P=d("button"),J=d("i"),ne=L(),V=d("button"),K=d("i"),oe=L(),E=d("div"),H=d("h6"),x=A(Q),ce=L(),C=d("p"),I.c(),ee=L(),p&&p.c(),ue=L(),b&&b.c(),te=L(),g&&g.c(),this.h()},l(o){e=f(o,"DIV",{class:!0,role:!0,tabindex:!0});var h=m(e);l=f(h,"DIV",{class:!0});var Y=m(l);t=f(Y,"DIV",{class:!0});var me=m(t);w.l(me),me.forEach(u),a=D(Y),r=f(Y,"SPAN",{class:!0});var ve=m(r);_=U(ve,i),ve.forEach(u),k=D(Y),M=f(Y,"DIV",{class:!0});var pe=m(M);G=f(pe,"SPAN",{class:!0});var be=m(G);q=U(be,N),be.forEach(u),pe.forEach(u),ie=D(Y),T=f(Y,"DIV",{class:!0});var B=m(T);S=f(B,"BUTTON",{class:!0,title:!0,"aria-label":!0});var ge=m(S);F=f(ge,"I",{class:!0}),m(F).forEach(u),ge.forEach(u),re=D(B),P=f(B,"BUTTON",{class:!0,title:!0,"aria-label":!0});var ke=m(P);J=f(ke,"I",{class:!0}),m(J).forEach(u),ke.forEach(u),ne=D(B),V=f(B,"BUTTON",{class:!0,title:!0,"aria-label":!0});var Ee=m(V);K=f(Ee,"I",{class:!0}),m(K).forEach(u),Ee.forEach(u),B.forEach(u),Y.forEach(u),oe=D(h),E=f(h,"DIV",{class:!0});var j=m(E);H=f(j,"H6",{class:!0,title:!0});var ye=m(H);x=U(ye,Q),ye.forEach(u),ce=D(j),C=f(j,"P",{class:!0});var se=m(C);I.l(se),ee=D(se),p&&p.l(se),se.forEach(u),ue=D(j),b&&b.l(j),te=D(j),g&&g.l(j),j.forEach(u),h.forEach(u),this.h()},h(){n(t,"class","game-cover svelte-1fhkxsu"),n(r,"class","platform-badge svelte-1fhkxsu"),n(G,"class",v="badge "+Ce(s[0].completion_status)+" svelte-1fhkxsu"),n(M,"class","completion-badge svelte-1fhkxsu"),n(F,"class","fas fa-edit"),n(S,"class","btn btn-sm btn-outline-light shadow-sm svelte-1fhkxsu"),n(S,"title","Edit Game"),n(S,"aria-label",W="Edit "+s[0].title),n(J,"class","fas fa-trash"),n(P,"class","btn btn-sm btn-outline-danger shadow-sm svelte-1fhkxsu"),n(P,"title","Delete Game"),n(P,"aria-label",X="Delete "+s[0].title),n(K,"class","fas fa-play"),n(V,"class","btn btn-sm btn-outline-success shadow-sm svelte-1fhkxsu"),n(V,"title","Log Session"),n(V,"aria-label",Z="Log session for "+s[0].title),n(T,"class","btn-group-actions position-absolute bottom-0 end-0 p-2 svelte-1fhkxsu"),n(l,"class","position-relative"),n(H,"class","card-title mb-1 svelte-1fhkxsu"),n(H,"title",$=s[0].title),n(C,"class","card-text small text-muted mb-1"),n(E,"class","card-body"),n(e,"class","card game-card svelte-1fhkxsu"),n(e,"role","button"),n(e,"tabindex","0")},m(o,h){y(o,e,h),c(e,l),c(l,t),w.m(t,null),c(l,a),c(l,r),c(r,_),c(l,k),c(l,M),c(M,G),c(G,q),c(l,ie),c(l,T),c(T,S),c(S,F),c(T,re),c(T,P),c(P,J),c(T,ne),c(T,V),c(V,K),c(e,oe),c(e,E),c(E,H),c(H,x),c(E,ce),c(E,C),I.m(C,null),c(C,ee),p&&p.m(C,null),c(E,ue),b&&b.m(E,null),c(E,te),g&&g.m(E,null),fe||(de=[O(S,"click",s[3]),O(P,"click",s[4]),O(V,"click",s[5]),O(e,"click",s[7]),O(e,"keydown",s[8])],fe=!0)},p(o,h){le===(le=_e(o))&&w?w.p(o,h):(w.d(1),w=le(o),w&&(w.c(),w.m(t,null))),h&1&&i!==(i=(o[0].platform?.name||"Unknown Platform")+"")&&z(_,i),h&1&&N!==(N=Ge(o[0].completion_status)+"")&&z(q,N),h&1&&v!==(v="badge "+Ce(o[0].completion_status)+" svelte-1fhkxsu")&&n(G,"class",v),h&1&&W!==(W="Edit "+o[0].title)&&n(S,"aria-label",W),h&1&&X!==(X="Delete "+o[0].title)&&n(P,"aria-label",X),h&1&&Z!==(Z="Log session for "+o[0].title)&&n(V,"aria-label",Z),h&1&&Q!==(Q=o[0].title+"")&&z(x,Q),h&1&&$!==($=o[0].title)&&n(H,"title",$),ae===(ae=he(o))&&I?I.p(o,h):(I.d(1),I=ae(o),I&&(I.c(),I.m(C,ee))),o[0].genre?p?p.p(o,h):(p=Te(o),p.c(),p.m(C,null)):p&&(p.d(1),p=null),o[0].rating?b?b.p(o,h):(b=Se(o),b.c(),b.m(E,te)):b&&(b.d(1),b=null),o[0].playtime_hours?g?g.p(o,h):(g=Ve(o),g.c(),g.m(E,null)):g&&(g.d(1),g=null)},d(o){o&&u(e),w.d(),I.d(),p&&p.d(),b&&b.d(),g&&g.d(),fe=!1,Ye(de)}}}function Be(s){let e,l='<div class="d-flex justify-content-center align-items-center" style="height: 200px;"><div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div></div>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-17dgdgl"&&(e.innerHTML=l),this.h()},h(){n(e,"class","card game-card loading svelte-1fhkxsu")},m(t,a){y(t,e,a)},p:R,d(t){t&&u(e)}}}function Oe(s){let e,l='<i class="fas fa-gamepad fa-2x text-muted"></i>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1gw0kcy"&&(e.innerHTML=l),this.h()},h(){n(e,"class","placeholder-cover d-flex align-items-center justify-content-center svelte-1fhkxsu")},m(t,a){y(t,e,a)},p:R,d(t){t&&u(e)}}}function ze(s){let e,l,t,a,r;return{c(){e=d("img"),this.h()},l(i){e=f(i,"IMG",{src:!0,alt:!0,loading:!0,class:!0}),this.h()},h(){Ie(e.src,l=s[0].cover_art_url)||n(e,"src",l),n(e,"alt",t=s[0].title),n(e,"loading","lazy"),n(e,"class","svelte-1fhkxsu")},m(i,_){y(i,e,_),a||(r=O(e,"error",s[6]),a=!0)},p(i,_){_&1&&!Ie(e.src,l=i[0].cover_art_url)&&n(e,"src",l),_&1&&t!==(t=i[0].title)&&n(e,"alt",t)},d(i){i&&u(e),a=!1,r()}}}function Fe(s){let e;return{c(){e=A("Unknown Year")},l(l){e=U(l,"Unknown Year")},m(l,t){y(l,e,t)},p:R,d(l){l&&u(e)}}}function Je(s){let e=new Date(s[0].release_date).getFullYear()+"",l;return{c(){l=A(e)},l(t){l=U(t,e)},m(t,a){y(t,l,a)},p(t,a){a&1&&e!==(e=new Date(t[0].release_date).getFullYear()+"")&&z(l,e)},d(t){t&&u(l)}}}function Te(s){let e,l=s[0].genre+"",t;return{c(){e=A("• "),t=A(l)},l(a){e=U(a,"• "),t=U(a,l)},m(a,r){y(a,e,r),y(a,t,r)},p(a,r){r&1&&l!==(l=a[0].genre+"")&&z(t,l)},d(a){a&&(u(e),u(t))}}}function Se(s){let e,l=De(Array(5)),t=[];for(let a=0;a<l.length;a+=1)t[a]=Pe(Le(s,l,a));return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=f(a,"DIV",{class:!0});var r=m(e);for(let i=0;i<t.length;i+=1)t[i].l(r);r.forEach(u),this.h()},h(){n(e,"class","rating mb-1 svelte-1fhkxsu")},m(a,r){y(a,e,r);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(a,r){if(r&1){l=De(Array(5));let i;for(i=0;i<l.length;i+=1){const _=Le(a,l,i);t[i]?t[i].p(_,r):(t[i]=Pe(_),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(a){a&&u(e),je(t,a)}}}function Pe(s){let e,l;return{c(){e=d("i"),this.h()},l(t){e=f(t,"I",{class:!0}),m(e).forEach(u),this.h()},h(){n(e,"class",l="fas fa-star "+(s[12]<s[0].rating?"text-warning":"text-light")+" svelte-1fhkxsu")},m(t,a){y(t,e,a)},p(t,a){a&1&&l!==(l="fas fa-star "+(t[12]<t[0].rating?"text-warning":"text-light")+" svelte-1fhkxsu")&&n(e,"class",l)},d(t){t&&u(e)}}}function Ve(s){let e,l,t,a=s[0].playtime_hours+"",r,i;return{c(){e=d("small"),l=d("i"),t=L(),r=A(a),i=A("h played"),this.h()},l(_){e=f(_,"SMALL",{class:!0});var k=m(e);l=f(k,"I",{class:!0}),m(l).forEach(u),t=D(k),r=U(k,a),i=U(k,"h played"),k.forEach(u),this.h()},h(){n(l,"class","fas fa-clock"),n(e,"class","text-muted")},m(_,k){y(_,e,k),c(e,l),c(e,t),c(e,r),c(e,i)},p(_,k){k&1&&a!==(a=_[0].playtime_hours+"")&&z(r,a)},d(_){_&&u(e)}}}function Ke(s){let e;function l(r,i){return r[1]?Be:qe}let t=l(s),a=t(s);return{c(){a.c(),e=we()},l(r){a.l(r),e=we()},m(r,i){a.m(r,i),y(r,e,i)},p(r,[i]){t===(t=l(r))&&a?a.p(r,i):(a.d(1),a=t(r),a&&(a.c(),a.m(e.parentNode,e)))},i:R,o:R,d(r){r&&u(e),a.d(r)}}}function Ce(s){switch(s){case"completed":return"text-success";case"in_progress":return"text-warning";case"abandoned":return"text-danger";default:return"text-muted"}}function Ge(s){switch(s){case"not_started":return"Not Started";case"in_progress":return"In Progress";case"completed":return"Completed";case"abandoned":return"Abandoned";default:return"Unknown"}}function Qe(s,e,l){let{game:t}=e,{loading:a=!1}=e;const r=He();let i=!1;function _(v){v.stopPropagation(),r("edit",t)}function k(v){v.stopPropagation(),confirm(`Are you sure you want to delete "${t.title}"?`)&&r("delete",t.id)}function M(v){v.stopPropagation(),r("log",t.id)}function G(){l(2,i=!0)}function N(){r("view",t)}const q=v=>v.key==="Enter"&&N();return s.$$set=v=>{"game"in v&&l(0,t=v.game),"loading"in v&&l(1,a=v.loading)},[t,a,i,_,k,M,G,N,q]}class Ze extends Ae{constructor(e){super(),Me(this,e,Qe,Ke,Ne,{game:0,loading:1})}}export{Ze as G};
