import{S as Gt,i as Nt,s as jt,d as a,m as it,r as Ft,o as re,p as te,q as n,v as Ue,b as N,c as t,w as nt,x as mt,e as o,f as m,y as U,h as g,g as X,z as ct,A as Ze,j as r,k as E,t as Y,B as dt,C as Rt,n as Ve,D as ht,a as de,E as We}from"../chunks/TI43a4Sy.js";import{e as vt,u as xt,o as $t}from"../chunks/CoBWRV4_.js";import"../chunks/IHki7fMi.js";import{a as Fe,A as ft}from"../chunks/BKjMUoYB.js";import{G as St}from"../chunks/BMM_9bXc.js";import{G as zt,a as qt,S as Bt}from"../chunks/d4Zu9pFX.js";function Dt(d,e,l){const s=d.slice();return s[21]=e[l],s}function wt(d,e,l){const s=d.slice();return s[21]=e[l],s}function Ot(d){let e,l,s,f,u,h,v=`<i class="fas fa-history me-2"></i>
              Recently Played`,I,k,i,c,_,L,P,y,M,$,x,Z=`<i class="fas fa-plus-circle me-2"></i>
              Recently Added`,K,F,S,j,V,z,w=d[0]&&Vt(d),C=d[1].length>0&&Ct(d);const H=[Kt,Jt],T=[];function b(D,R){return D[1].length===0?0:1}c=b(d),_=T[c]=H[c](d);let p=d[2].length>0&&Tt(d);const q=[Xt,Qt],G=[];function se(D,R){return D[2].length===0?0:1}return j=se(d),V=G[j]=q[j](d),{c(){w&&w.c(),e=E(),l=r("div"),s=r("div"),f=r("div"),u=r("div"),h=r("h5"),h.innerHTML=v,I=E(),C&&C.c(),k=E(),i=r("div"),_.c(),L=E(),P=r("div"),y=r("div"),M=r("div"),$=r("div"),x=r("h5"),x.innerHTML=Z,K=E(),p&&p.c(),F=E(),S=r("div"),V.c(),this.h()},l(D){w&&w.l(D),e=g(D),l=o(D,"DIV",{class:!0});var R=m(l);s=o(R,"DIV",{class:!0});var fe=m(s);f=o(fe,"DIV",{class:!0});var Q=m(f);u=o(Q,"DIV",{class:!0});var ae=m(u);h=o(ae,"H5",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-tlwnjx"&&(h.innerHTML=v),I=g(ae),C&&C.l(ae),ae.forEach(a),k=g(Q),i=o(Q,"DIV",{class:!0});var le=m(i);_.l(le),le.forEach(a),Q.forEach(a),fe.forEach(a),R.forEach(a),L=g(D),P=o(D,"DIV",{class:!0});var ge=m(P);y=o(ge,"DIV",{class:!0});var he=m(y);M=o(he,"DIV",{class:!0});var W=m(M);$=o(W,"DIV",{class:!0});var me=m($);x=o(me,"H5",{class:!0,"data-svelte-h":!0}),U(x)!=="svelte-d8elzb"&&(x.innerHTML=Z),K=g(me),p&&p.l(me),me.forEach(a),F=g(W),S=o(W,"DIV",{class:!0});var ye=m(S);V.l(ye),ye.forEach(a),W.forEach(a),he.forEach(a),ge.forEach(a),this.h()},h(){n(h,"class","mb-0"),n(u,"class","card-header d-flex justify-content-between align-items-center"),n(i,"class","card-body"),n(f,"class","card"),n(s,"class","col-12"),n(l,"class","row mb-4"),n(x,"class","mb-0"),n($,"class","card-header d-flex justify-content-between align-items-center"),n(S,"class","card-body"),n(M,"class","card"),n(y,"class","col-12"),n(P,"class","row mb-4")},m(D,R){w&&w.m(D,R),N(D,e,R),N(D,l,R),t(l,s),t(s,f),t(f,u),t(u,h),t(u,I),C&&C.m(u,null),t(f,k),t(f,i),T[c].m(i,null),N(D,L,R),N(D,P,R),t(P,y),t(y,M),t(M,$),t($,x),t($,K),p&&p.m($,null),t(M,F),t(M,S),G[j].m(S,null),z=!0},p(D,R){D[0]?w?w.p(D,R):(w=Vt(D),w.c(),w.m(e.parentNode,e)):w&&(w.d(1),w=null),D[1].length>0?C?C.p(D,R):(C=Ct(D),C.c(),C.m(u,null)):C&&(C.d(1),C=null);let fe=c;c=b(D),c===fe?T[c].p(D,R):(We(),re(T[fe],1,1,()=>{T[fe]=null}),Ue(),_=T[c],_?_.p(D,R):(_=T[c]=H[c](D),_.c()),te(_,1),_.m(i,null)),D[2].length>0?p?p.p(D,R):(p=Tt(D),p.c(),p.m($,null)):p&&(p.d(1),p=null);let Q=j;j=se(D),j===Q?G[j].p(D,R):(We(),re(G[Q],1,1,()=>{G[Q]=null}),Ue(),V=G[j],V?V.p(D,R):(V=G[j]=q[j](D),V.c()),te(V,1),V.m(S,null))},i(D){z||(te(_),te(V),z=!0)},o(D){re(_),re(V),z=!1},d(D){D&&(a(e),a(l),a(L),a(P)),w&&w.d(D),C&&C.d(),T[c].d(),p&&p.d(),G[j].d()}}}function Ut(d){let e,l,s,f,u,h,v,I="Try Again",k,i;return{c(){e=r("div"),l=r("i"),s=E(),f=r("div"),u=Y(d[5]),h=E(),v=r("button"),v.textContent=I,this.h()},l(c){e=o(c,"DIV",{class:!0});var _=m(e);l=o(_,"I",{class:!0}),m(l).forEach(a),s=g(_),f=o(_,"DIV",{});var L=m(f);u=X(L,d[5]),h=g(L),v=o(L,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-10cr3o9"&&(v.textContent=I),L.forEach(a),_.forEach(a),this.h()},h(){n(l,"class","fas fa-exclamation-triangle me-2"),n(v,"class","btn btn-sm btn-outline-danger ms-2"),n(e,"class","alert alert-danger d-flex align-items-center")},m(c,_){N(c,e,_),t(e,l),t(e,s),t(e,f),t(f,u),t(f,h),t(f,v),k||(i=mt(v,"click",d[10]),k=!0)},p(c,_){_&32&&de(u,c[5])},i:Ve,o:Ve,d(c){c&&a(e),k=!1,i()}}}function Wt(d){let e,l='<div class="text-center"><div class="spinner-border text-primary mb-3" role="status"><span class="visually-hidden">Loading...</span></div> <p class="text-muted">Loading dashboard...</p></div>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),U(e)!=="svelte-1xbbkmy"&&(e.innerHTML=l),this.h()},h(){n(e,"class","d-flex justify-content-center align-items-center"),ht(e,"height","300px")},m(s,f){N(s,e,f)},p:Ve,i:Ve,o:Ve,d(s){s&&a(e)}}}function Vt(d){let e,l,s,f,u,h,v,I="Total Games",k,i,c=d[0].total_games+"",_,L,P,y,M,$,x,Z,K="Platforms",F,S,j=d[0].total_platforms+"",V,z,w,C,H,T,b,p,q="Play Sessions",G,se,D=d[0].total_sessions+"",R,fe,Q,ae,le,ge,he,W,me="Total Hours",ye,ve,Ge=(d[0].playtime_stats?.total_hours||0)+"",Ne,Ce,Ee,Ie,ue,ie,He,Me,Je="Shortlist",ke,oe,De=d[0].total_shortlist+"",Ae,Re,Te,ne,ce,Le,ze,_e,qe="Wishlist",Be,J,ee=d[0].total_wishlist+"",Oe,Pe,we,B=d[0].completion_stats&&yt(d);return{c(){e=r("div"),l=r("div"),s=r("div"),f=r("div"),u=r("i"),h=E(),v=r("h6"),v.textContent=I,k=E(),i=r("p"),_=Y(c),L=E(),P=r("div"),y=r("div"),M=r("div"),$=r("i"),x=E(),Z=r("h6"),Z.textContent=K,F=E(),S=r("p"),V=Y(j),z=E(),w=r("div"),C=r("div"),H=r("div"),T=r("i"),b=E(),p=r("h6"),p.textContent=q,G=E(),se=r("p"),R=Y(D),fe=E(),Q=r("div"),ae=r("div"),le=r("div"),ge=r("i"),he=E(),W=r("h6"),W.textContent=me,ye=E(),ve=r("p"),Ne=Y(Ge),Ce=E(),Ee=r("div"),Ie=r("div"),ue=r("div"),ie=r("i"),He=E(),Me=r("h6"),Me.textContent=Je,ke=E(),oe=r("p"),Ae=Y(De),Re=E(),Te=r("div"),ne=r("div"),ce=r("div"),Le=r("i"),ze=E(),_e=r("h6"),_e.textContent=qe,Be=E(),J=r("p"),Oe=Y(ee),Pe=E(),B&&B.c(),we=Ze(),this.h()},l(O){e=o(O,"DIV",{class:!0});var A=m(e);l=o(A,"DIV",{class:!0});var et=m(l);s=o(et,"DIV",{class:!0});var tt=m(s);f=o(tt,"DIV",{class:!0});var pe=m(f);u=o(pe,"I",{class:!0}),m(u).forEach(a),h=g(pe),v=o(pe,"H6",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1a9i4pr"&&(v.textContent=I),k=g(pe),i=o(pe,"P",{class:!0});var lt=m(i);_=X(lt,c),lt.forEach(a),pe.forEach(a),tt.forEach(a),et.forEach(a),L=g(A),P=o(A,"DIV",{class:!0});var st=m(P);y=o(st,"DIV",{class:!0});var xe=m(y);M=o(xe,"DIV",{class:!0});var $e=m(M);$=o($e,"I",{class:!0}),m($).forEach(a),x=g($e),Z=o($e,"H6",{class:!0,"data-svelte-h":!0}),U(Z)!=="svelte-33njsa"&&(Z.textContent=K),F=g($e),S=o($e,"P",{class:!0});var at=m(S);V=X(at,j),at.forEach(a),$e.forEach(a),xe.forEach(a),st.forEach(a),z=g(A),w=o(A,"DIV",{class:!0});var Se=m(w);C=o(Se,"DIV",{class:!0});var ot=m(C);H=o(ot,"DIV",{class:!0});var be=m(H);T=o(be,"I",{class:!0}),m(T).forEach(a),b=g(be),p=o(be,"H6",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-1qe5qi5"&&(p.textContent=q),G=g(be),se=o(be,"P",{class:!0});var rt=m(se);R=X(rt,D),rt.forEach(a),be.forEach(a),ot.forEach(a),Se.forEach(a),fe=g(A),Q=o(A,"DIV",{class:!0});var Ke=m(Q);ae=o(Ke,"DIV",{class:!0});var je=m(ae);le=o(je,"DIV",{class:!0});var Qe=m(le);ge=o(Qe,"I",{class:!0}),m(ge).forEach(a),he=g(Qe),W=o(Qe,"H6",{class:!0,"data-svelte-h":!0}),U(W)!=="svelte-1drisfj"&&(W.textContent=me),ye=g(Qe),ve=o(Qe,"P",{class:!0});var _t=m(ve);Ne=X(_t,Ge),_t.forEach(a),Qe.forEach(a),je.forEach(a),Ke.forEach(a),Ce=g(A),Ee=o(A,"DIV",{class:!0});var pt=m(Ee);Ie=o(pt,"DIV",{class:!0});var bt=m(Ie);ue=o(bt,"DIV",{class:!0});var Xe=m(ue);ie=o(Xe,"I",{class:!0}),m(ie).forEach(a),He=g(Xe),Me=o(Xe,"H6",{class:!0,"data-svelte-h":!0}),U(Me)!=="svelte-in51is"&&(Me.textContent=Je),ke=g(Xe),oe=o(Xe,"P",{class:!0});var gt=m(oe);Ae=X(gt,De),gt.forEach(a),Xe.forEach(a),bt.forEach(a),pt.forEach(a),Re=g(A),Te=o(A,"DIV",{class:!0});var Et=m(Te);ne=o(Et,"DIV",{class:!0});var It=m(ne);ce=o(It,"DIV",{class:!0});var Ye=m(ce);Le=o(Ye,"I",{class:!0}),m(Le).forEach(a),ze=g(Ye),_e=o(Ye,"H6",{class:!0,"data-svelte-h":!0}),U(_e)!=="svelte-9rj5pr"&&(_e.textContent=qe),Be=g(Ye),J=o(Ye,"P",{class:!0});var kt=m(J);Oe=X(kt,ee),kt.forEach(a),Ye.forEach(a),It.forEach(a),Et.forEach(a),A.forEach(a),Pe=g(O),B&&B.l(O),we=Ze(),this.h()},h(){n(u,"class","fas fa-gamepad fa-2x mb-2"),n(v,"class","card-title"),n(i,"class","card-text fs-3 fw-bold mb-0"),n(f,"class","card-body"),n(s,"class","card text-center h-100 bg-primary text-white"),n(l,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n($,"class","fas fa-desktop fa-2x mb-2"),n(Z,"class","card-title"),n(S,"class","card-text fs-3 fw-bold mb-0"),n(M,"class","card-body"),n(y,"class","card text-center h-100 bg-secondary text-white"),n(P,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(T,"class","fas fa-play fa-2x mb-2"),n(p,"class","card-title"),n(se,"class","card-text fs-3 fw-bold mb-0"),n(H,"class","card-body"),n(C,"class","card text-center h-100 bg-success text-white"),n(w,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(ge,"class","fas fa-clock fa-2x mb-2"),n(W,"class","card-title"),n(ve,"class","card-text fs-3 fw-bold mb-0"),n(le,"class","card-body"),n(ae,"class","card text-center h-100 bg-info text-white"),n(Q,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(ie,"class","fas fa-list fa-2x mb-2"),n(Me,"class","card-title"),n(oe,"class","card-text fs-3 fw-bold mb-0"),n(ue,"class","card-body"),n(Ie,"class","card text-center h-100 bg-warning text-dark"),n(Ee,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(Le,"class","fas fa-heart fa-2x mb-2"),n(_e,"class","card-title"),n(J,"class","card-text fs-3 fw-bold mb-0"),n(ce,"class","card-body"),n(ne,"class","card text-center h-100 bg-danger text-white"),n(Te,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(e,"class","row mb-4")},m(O,A){N(O,e,A),t(e,l),t(l,s),t(s,f),t(f,u),t(f,h),t(f,v),t(f,k),t(f,i),t(i,_),t(e,L),t(e,P),t(P,y),t(y,M),t(M,$),t(M,x),t(M,Z),t(M,F),t(M,S),t(S,V),t(e,z),t(e,w),t(w,C),t(C,H),t(H,T),t(H,b),t(H,p),t(H,G),t(H,se),t(se,R),t(e,fe),t(e,Q),t(Q,ae),t(ae,le),t(le,ge),t(le,he),t(le,W),t(le,ye),t(le,ve),t(ve,Ne),t(e,Ce),t(e,Ee),t(Ee,Ie),t(Ie,ue),t(ue,ie),t(ue,He),t(ue,Me),t(ue,ke),t(ue,oe),t(oe,Ae),t(e,Re),t(e,Te),t(Te,ne),t(ne,ce),t(ce,Le),t(ce,ze),t(ce,_e),t(ce,Be),t(ce,J),t(J,Oe),N(O,Pe,A),B&&B.m(O,A),N(O,we,A)},p(O,A){A&1&&c!==(c=O[0].total_games+"")&&de(_,c),A&1&&j!==(j=O[0].total_platforms+"")&&de(V,j),A&1&&D!==(D=O[0].total_sessions+"")&&de(R,D),A&1&&Ge!==(Ge=(O[0].playtime_stats?.total_hours||0)+"")&&de(Ne,Ge),A&1&&De!==(De=O[0].total_shortlist+"")&&de(Ae,De),A&1&&ee!==(ee=O[0].total_wishlist+"")&&de(Oe,ee),O[0].completion_stats?B?B.p(O,A):(B=yt(O),B.c(),B.m(we.parentNode,we)):B&&(B.d(1),B=null)},d(O){O&&(a(e),a(Pe),a(we)),B&&B.d(O)}}}function yt(d){let e,l,s,f,u=`<h5 class="mb-0"><i class="fas fa-trophy me-2"></i>
                  Completion Progress</h5>`,h,v,I,k,i,c,_,L,P="Completed",y,M,$=d[0].completion_stats.completed+"",x,Z,K,F,S,j,V,z="In Progress",w,C,H=d[0].completion_stats.in_progress+"",T,b,p,q,G,se,D,R="Not Started",fe,Q,ae=d[0].completion_stats.not_started+"",le,ge,he,W,me,ye,ve,Ge="Abandoned",Ne,Ce,Ee=d[0].completion_stats.abandoned+"",Ie,ue,ie,He,Me="Overall Completion Rate",Je,ke,oe,De=ut(d[0].completion_stats.completed,d[0].total_games)+"",Ae,Re,Te,ne,ce=d[0].completion_stats.completed+"",Le,ze,_e=d[0].total_games+"",qe,Be;return{c(){e=r("div"),l=r("div"),s=r("div"),f=r("div"),f.innerHTML=u,h=E(),v=r("div"),I=r("div"),k=r("div"),i=r("div"),c=r("i"),_=E(),L=r("h6"),L.textContent=P,y=E(),M=r("span"),x=Y($),Z=E(),K=r("div"),F=r("div"),S=r("i"),j=E(),V=r("h6"),V.textContent=z,w=E(),C=r("span"),T=Y(H),b=E(),p=r("div"),q=r("div"),G=r("i"),se=E(),D=r("h6"),D.textContent=R,fe=E(),Q=r("span"),le=Y(ae),ge=E(),he=r("div"),W=r("div"),me=r("i"),ye=E(),ve=r("h6"),ve.textContent=Ge,Ne=E(),Ce=r("span"),Ie=Y(Ee),ue=E(),ie=r("div"),He=r("h6"),He.textContent=Me,Je=E(),ke=r("div"),oe=r("div"),Ae=Y(De),Re=Y("%"),Te=E(),ne=r("p"),Le=Y(ce),ze=Y(" of "),qe=Y(_e),Be=Y(" games completed"),this.h()},l(J){e=o(J,"DIV",{class:!0});var ee=m(e);l=o(ee,"DIV",{class:!0});var Oe=m(l);s=o(Oe,"DIV",{class:!0});var Pe=m(s);f=o(Pe,"DIV",{class:!0,"data-svelte-h":!0}),U(f)!=="svelte-15kzp07"&&(f.innerHTML=u),h=g(Pe),v=o(Pe,"DIV",{class:!0});var we=m(v);I=o(we,"DIV",{class:!0});var B=m(I);k=o(B,"DIV",{class:!0});var O=m(k);i=o(O,"DIV",{class:!0});var A=m(i);c=o(A,"I",{class:!0}),m(c).forEach(a),_=g(A),L=o(A,"H6",{"data-svelte-h":!0}),U(L)!=="svelte-fv7s79"&&(L.textContent=P),y=g(A),M=o(A,"SPAN",{class:!0});var et=m(M);x=X(et,$),et.forEach(a),A.forEach(a),O.forEach(a),Z=g(B),K=o(B,"DIV",{class:!0});var tt=m(K);F=o(tt,"DIV",{class:!0});var pe=m(F);S=o(pe,"I",{class:!0}),m(S).forEach(a),j=g(pe),V=o(pe,"H6",{"data-svelte-h":!0}),U(V)!=="svelte-xnaco4"&&(V.textContent=z),w=g(pe),C=o(pe,"SPAN",{class:!0});var lt=m(C);T=X(lt,H),lt.forEach(a),pe.forEach(a),tt.forEach(a),b=g(B),p=o(B,"DIV",{class:!0});var st=m(p);q=o(st,"DIV",{class:!0});var xe=m(q);G=o(xe,"I",{class:!0}),m(G).forEach(a),se=g(xe),D=o(xe,"H6",{"data-svelte-h":!0}),U(D)!=="svelte-k1p612"&&(D.textContent=R),fe=g(xe),Q=o(xe,"SPAN",{class:!0});var $e=m(Q);le=X($e,ae),$e.forEach(a),xe.forEach(a),st.forEach(a),ge=g(B),he=o(B,"DIV",{class:!0});var at=m(he);W=o(at,"DIV",{class:!0});var Se=m(W);me=o(Se,"I",{class:!0}),m(me).forEach(a),ye=g(Se),ve=o(Se,"H6",{"data-svelte-h":!0}),U(ve)!=="svelte-qci1b6"&&(ve.textContent=Ge),Ne=g(Se),Ce=o(Se,"SPAN",{class:!0});var ot=m(Ce);Ie=X(ot,Ee),ot.forEach(a),Se.forEach(a),at.forEach(a),B.forEach(a),ue=g(we),ie=o(we,"DIV",{class:!0});var be=m(ie);He=o(be,"H6",{"data-svelte-h":!0}),U(He)!=="svelte-6xxneh"&&(He.textContent=Me),Je=g(be),ke=o(be,"DIV",{class:!0,style:!0});var rt=m(ke);oe=o(rt,"DIV",{class:!0,role:!0,style:!0});var Ke=m(oe);Ae=X(Ke,De),Re=X(Ke,"%"),Ke.forEach(a),rt.forEach(a),Te=g(be),ne=o(be,"P",{class:!0});var je=m(ne);Le=X(je,ce),ze=X(je," of "),qe=X(je,_e),Be=X(je," games completed"),je.forEach(a),be.forEach(a),we.forEach(a),Pe.forEach(a),Oe.forEach(a),ee.forEach(a),this.h()},h(){n(f,"class","card-header"),n(c,"class","fas fa-check-circle fa-2x mb-1"),n(M,"class","fs-4 fw-bold"),n(i,"class","completion-stat text-success svelte-7xe000"),n(k,"class","col-3"),n(S,"class","fas fa-play-circle fa-2x mb-1"),n(C,"class","fs-4 fw-bold"),n(F,"class","completion-stat text-warning svelte-7xe000"),n(K,"class","col-3"),n(G,"class","fas fa-pause-circle fa-2x mb-1"),n(Q,"class","fs-4 fw-bold"),n(q,"class","completion-stat text-muted svelte-7xe000"),n(p,"class","col-3"),n(me,"class","fas fa-times-circle fa-2x mb-1"),n(Ce,"class","fs-4 fw-bold"),n(W,"class","completion-stat text-danger svelte-7xe000"),n(he,"class","col-3"),n(I,"class","row text-center"),n(oe,"class","progress-bar bg-success"),n(oe,"role","progressbar"),ht(oe,"width",ut(d[0].completion_stats.completed,d[0].total_games)+"%"),n(ke,"class","progress mb-2"),ht(ke,"height","20px"),n(ne,"class","text-muted mb-0"),n(ie,"class","text-center mt-3"),n(v,"class","card-body"),n(s,"class","card"),n(l,"class","col-12"),n(e,"class","row mb-4")},m(J,ee){N(J,e,ee),t(e,l),t(l,s),t(s,f),t(s,h),t(s,v),t(v,I),t(I,k),t(k,i),t(i,c),t(i,_),t(i,L),t(i,y),t(i,M),t(M,x),t(I,Z),t(I,K),t(K,F),t(F,S),t(F,j),t(F,V),t(F,w),t(F,C),t(C,T),t(I,b),t(I,p),t(p,q),t(q,G),t(q,se),t(q,D),t(q,fe),t(q,Q),t(Q,le),t(I,ge),t(I,he),t(he,W),t(W,me),t(W,ye),t(W,ve),t(W,Ne),t(W,Ce),t(Ce,Ie),t(v,ue),t(v,ie),t(ie,He),t(ie,Je),t(ie,ke),t(ke,oe),t(oe,Ae),t(oe,Re),t(ie,Te),t(ie,ne),t(ne,Le),t(ne,ze),t(ne,qe),t(ne,Be)},p(J,ee){ee&1&&$!==($=J[0].completion_stats.completed+"")&&de(x,$),ee&1&&H!==(H=J[0].completion_stats.in_progress+"")&&de(T,H),ee&1&&ae!==(ae=J[0].completion_stats.not_started+"")&&de(le,ae),ee&1&&Ee!==(Ee=J[0].completion_stats.abandoned+"")&&de(Ie,Ee),ee&1&&De!==(De=ut(J[0].completion_stats.completed,J[0].total_games)+"")&&de(Ae,De),ee&1&&ht(oe,"width",ut(J[0].completion_stats.completed,J[0].total_games)+"%"),ee&1&&ce!==(ce=J[0].completion_stats.completed+"")&&de(Le,ce),ee&1&&_e!==(_e=J[0].total_games+"")&&de(qe,_e)},d(J){J&&a(e)}}}function Ct(d){let e,l=d[1].length+"",s,f;return{c(){e=r("small"),s=Y(l),f=Y(" games"),this.h()},l(u){e=o(u,"SMALL",{class:!0});var h=m(e);s=X(h,l),f=X(h," games"),h.forEach(a),this.h()},h(){n(e,"class","text-muted")},m(u,h){N(u,e,h),t(e,s),t(e,f)},p(u,h){h&2&&l!==(l=u[1].length+"")&&de(s,l)},d(u){u&&a(e)}}}function Jt(d){let e,l=[],s=new Map,f,u,h,v=vt(d[1].slice(0,5));const I=i=>i[21].id;for(let i=0;i<v.length;i+=1){let c=wt(d,v,i),_=I(c);s.set(_,l[i]=Ht(_,c))}let k=d[1].length>5&&Mt();return{c(){e=r("div");for(let i=0;i<l.length;i+=1)l[i].c();f=E(),k&&k.c(),u=Ze(),this.h()},l(i){e=o(i,"DIV",{class:!0});var c=m(e);for(let _=0;_<l.length;_+=1)l[_].l(c);c.forEach(a),f=g(i),k&&k.l(i),u=Ze(),this.h()},h(){n(e,"class","row")},m(i,c){N(i,e,c);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);N(i,f,c),k&&k.m(i,c),N(i,u,c),h=!0},p(i,c){c&176130&&(v=vt(i[1].slice(0,5)),We(),l=xt(l,c,I,1,i,v,s,e,$t,Ht,null,wt),Ue()),i[1].length>5?k||(k=Mt(),k.c(),k.m(u.parentNode,u)):k&&(k.d(1),k=null)},i(i){if(!h){for(let c=0;c<v.length;c+=1)te(l[c]);h=!0}},o(i){for(let c=0;c<l.length;c+=1)re(l[c]);h=!1},d(i){i&&(a(e),a(f),a(u));for(let c=0;c<l.length;c+=1)l[c].d();k&&k.d(i)}}}function Kt(d){let e,l='<i class="fas fa-play fa-3x text-muted mb-3"></i> <h6>No recent sessions</h6> <p class="text-muted">Start playing games to see them here!</p>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-b5cck8"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center py-4")},m(s,f){N(s,e,f)},p:Ve,i:Ve,o:Ve,d(s){s&&a(e)}}}function Ht(d,e){let l,s,f,u;return s=new St({props:{game:e[21]}}),s.$on("edit",e[12]),s.$on("delete",e[13]),s.$on("log",e[15]),s.$on("view",e[17]),{key:d,first:null,c(){l=r("div"),dt(s.$$.fragment),f=E(),this.h()},l(h){l=o(h,"DIV",{class:!0});var v=m(l);ct(s.$$.fragment,v),f=g(v),v.forEach(a),this.h()},h(){n(l,"class","col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-3"),this.first=l},m(h,v){N(h,l,v),nt(s,l,null),t(l,f),u=!0},p(h,v){e=h;const I={};v&2&&(I.game=e[21]),s.$set(I)},i(h){u||(te(s.$$.fragment,h),u=!0)},o(h){re(s.$$.fragment,h),u=!1},d(h){h&&a(l),it(s)}}}function Mt(d){let e,l='<a href="/collection" class="btn btn-outline-primary">View All Recent Games</a>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1bemib1"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center")},m(s,f){N(s,e,f)},d(s){s&&a(e)}}}function Tt(d){let e,l=d[2].length+"",s,f;return{c(){e=r("small"),s=Y(l),f=Y(" games"),this.h()},l(u){e=o(u,"SMALL",{class:!0});var h=m(e);s=X(h,l),f=X(h," games"),h.forEach(a),this.h()},h(){n(e,"class","text-muted")},m(u,h){N(u,e,h),t(e,s),t(e,f)},p(u,h){h&4&&l!==(l=u[2].length+"")&&de(s,l)},d(u){u&&a(e)}}}function Qt(d){let e,l=[],s=new Map,f,u,h='<a href="/collection" class="btn btn-outline-primary"><i class="fas fa-eye me-1"></i> View Full Collection</a>',v,I=vt(d[2]);const k=i=>i[21].id;for(let i=0;i<I.length;i+=1){let c=Dt(d,I,i),_=k(c);s.set(_,l[i]=Lt(_,c))}return{c(){e=r("div");for(let i=0;i<l.length;i+=1)l[i].c();f=E(),u=r("div"),u.innerHTML=h,this.h()},l(i){e=o(i,"DIV",{class:!0});var c=m(e);for(let _=0;_<l.length;_+=1)l[_].l(c);c.forEach(a),f=g(i),u=o(i,"DIV",{class:!0,"data-svelte-h":!0}),U(u)!=="svelte-o00scw"&&(u.innerHTML=h),this.h()},h(){n(e,"class","row"),n(u,"class","text-center")},m(i,c){N(i,e,c);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);N(i,f,c),N(i,u,c),v=!0},p(i,c){c&176132&&(I=vt(i[2]),We(),l=xt(l,c,k,1,i,I,s,e,$t,Lt,null,Dt),Ue())},i(i){if(!v){for(let c=0;c<I.length;c+=1)te(l[c]);v=!0}},o(i){for(let c=0;c<l.length;c+=1)re(l[c]);v=!1},d(i){i&&(a(e),a(f),a(u));for(let c=0;c<l.length;c+=1)l[c].d()}}}function Xt(d){let e,l,s,f,u="No games yet",h,v,I="Add your first game to get started!",k,i,c='<i class="fas fa-plus me-1"></i> Add Game',_,L;return{c(){e=r("div"),l=r("i"),s=E(),f=r("h6"),f.textContent=u,h=E(),v=r("p"),v.textContent=I,k=E(),i=r("button"),i.innerHTML=c,this.h()},l(P){e=o(P,"DIV",{class:!0});var y=m(e);l=o(y,"I",{class:!0}),m(l).forEach(a),s=g(y),f=o(y,"H6",{"data-svelte-h":!0}),U(f)!=="svelte-1r5zzm0"&&(f.textContent=u),h=g(y),v=o(y,"P",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1varcz7"&&(v.textContent=I),k=g(y),i=o(y,"BUTTON",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-1ke8yth"&&(i.innerHTML=c),y.forEach(a),this.h()},h(){n(l,"class","fas fa-gamepad fa-3x text-muted mb-3"),n(v,"class","text-muted"),n(i,"class","btn btn-primary"),n(e,"class","text-center py-4")},m(P,y){N(P,e,y),t(e,l),t(e,s),t(e,f),t(e,h),t(e,v),t(e,k),t(e,i),_||(L=mt(i,"click",d[11]),_=!0)},p:Ve,i:Ve,o:Ve,d(P){P&&a(e),_=!1,L()}}}function Lt(d,e){let l,s,f,u;return s=new St({props:{game:e[21]}}),s.$on("edit",e[12]),s.$on("delete",e[13]),s.$on("log",e[15]),s.$on("view",e[17]),{key:d,first:null,c(){l=r("div"),dt(s.$$.fragment),f=E(),this.h()},l(h){l=o(h,"DIV",{class:!0});var v=m(l);ct(s.$$.fragment,v),f=g(v),v.forEach(a),this.h()},h(){n(l,"class","col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-3"),this.first=l},m(h,v){N(h,l,v),nt(s,l,null),t(l,f),u=!0},p(h,v){e=h;const I={};v&4&&(I.game=e[21]),s.$set(I)},i(h){u||(te(s.$$.fragment,h),u=!0)},o(h){re(s.$$.fragment,h),u=!1},d(h){h&&a(l),it(s)}}}function At(d){let e,l;return e=new qt({props:{game:d[9],show:d[7]}}),e.$on("close",d[19]),e.$on("edit",d[12]),e.$on("delete",d[13]),e.$on("log",d[15]),{c(){dt(e.$$.fragment)},l(s){ct(e.$$.fragment,s)},m(s,f){nt(e,s,f),l=!0},p(s,f){const u={};f&512&&(u.game=s[9]),f&128&&(u.show=s[7]),e.$set(u)},i(s){l||(te(e.$$.fragment,s),l=!0)},o(s){re(e.$$.fragment,s),l=!1},d(s){it(e,s)}}}function Pt(d){let e,l;return e=new Bt({props:{game:d[9],show:d[8]}}),e.$on("submit",d[16]),e.$on("close",d[20]),{c(){dt(e.$$.fragment)},l(s){ct(e.$$.fragment,s)},m(s,f){nt(e,s,f),l=!0},p(s,f){const u={};f&512&&(u.game=s[9]),f&256&&(u.show=s[8]),e.$set(u)},i(s){l||(te(e.$$.fragment,s),l=!0)},o(s){re(e.$$.fragment,s),l=!1},d(s){it(e,s)}}}function Yt(d){let e,l,s,f=`<h1><i class="fas fa-home me-2 text-primary"></i>
        Dashboard</h1> <p class="text-muted mb-0">Welcome to your game collection</p>`,u,h,v,I,k,i,c,_,L='<i class="fas fa-plus me-1"></i> Add Game',P,y,M,$,x,Z,K,F,S,j,V;const z=[Wt,Ut,Ot],w=[];function C(b,p){return b[4]?0:b[5]?1:2}y=C(d),M=w[y]=z[y](d),x=new zt({props:{game:d[9],platforms:d[3],show:d[6]}}),x.$on("submit",d[14]),x.$on("close",d[18]);let H=d[7]&&d[9]&&At(d),T=d[8]&&d[9]&&Pt(d);return{c(){e=r("div"),l=r("div"),s=r("div"),s.innerHTML=f,u=E(),h=r("div"),v=r("button"),I=r("i"),i=Y(" Refresh"),c=E(),_=r("button"),_.innerHTML=L,P=E(),M.c(),$=E(),dt(x.$$.fragment),Z=E(),H&&H.c(),K=E(),T&&T.c(),F=Ze(),this.h()},l(b){e=o(b,"DIV",{class:!0});var p=m(e);l=o(p,"DIV",{class:!0});var q=m(l);s=o(q,"DIV",{"data-svelte-h":!0}),U(s)!=="svelte-1ctjr4a"&&(s.innerHTML=f),u=g(q),h=o(q,"DIV",{class:!0});var G=m(h);v=o(G,"BUTTON",{class:!0});var se=m(v);I=o(se,"I",{class:!0}),m(I).forEach(a),i=X(se," Refresh"),se.forEach(a),c=g(G),_=o(G,"BUTTON",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-mzv9ad"&&(_.innerHTML=L),G.forEach(a),q.forEach(a),P=g(p),M.l(p),p.forEach(a),$=g(b),ct(x.$$.fragment,b),Z=g(b),H&&H.l(b),K=g(b),T&&T.l(b),F=Ze(),this.h()},h(){n(I,"class",k="fas fa-sync-alt "+(d[4]?"fa-spin":"")),n(v,"class","btn btn-outline-secondary"),v.disabled=d[4],n(_,"class","btn btn-primary"),n(h,"class","d-flex gap-2"),n(l,"class","d-flex justify-content-between align-items-center mb-4"),n(e,"class","container-fluid mt-4")},m(b,p){N(b,e,p),t(e,l),t(l,s),t(l,u),t(l,h),t(h,v),t(v,I),t(v,i),t(h,c),t(h,_),t(e,P),w[y].m(e,null),N(b,$,p),nt(x,b,p),N(b,Z,p),H&&H.m(b,p),N(b,K,p),T&&T.m(b,p),N(b,F,p),S=!0,j||(V=[mt(v,"click",d[10]),mt(_,"click",d[11])],j=!0)},p(b,[p]){(!S||p&16&&k!==(k="fas fa-sync-alt "+(b[4]?"fa-spin":"")))&&n(I,"class",k),(!S||p&16)&&(v.disabled=b[4]);let q=y;y=C(b),y===q?w[y].p(b,p):(We(),re(w[q],1,1,()=>{w[q]=null}),Ue(),M=w[y],M?M.p(b,p):(M=w[y]=z[y](b),M.c()),te(M,1),M.m(e,null));const G={};p&512&&(G.game=b[9]),p&8&&(G.platforms=b[3]),p&64&&(G.show=b[6]),x.$set(G),b[7]&&b[9]?H?(H.p(b,p),p&640&&te(H,1)):(H=At(b),H.c(),te(H,1),H.m(K.parentNode,K)):H&&(We(),re(H,1,1,()=>{H=null}),Ue()),b[8]&&b[9]?T?(T.p(b,p),p&768&&te(T,1)):(T=Pt(b),T.c(),te(T,1),T.m(F.parentNode,F)):T&&(We(),re(T,1,1,()=>{T=null}),Ue())},i(b){S||(te(M),te(x.$$.fragment,b),te(H),te(T),S=!0)},o(b){re(M),re(x.$$.fragment,b),re(H),re(T),S=!1},d(b){b&&(a(e),a($),a(Z),a(K),a(F)),w[y].d(),it(x,b),H&&H.d(b),T&&T.d(b),j=!1,Ft(V)}}}function ut(d,e){return e>0?Math.round(d/e*100):0}function Zt(d,e,l){let s=null,f=[],u=[],h=[],v=!0,I=null,k=!1,i=!1,c=!1,_=null;Rt(async()=>{await L()});async function L(){try{l(4,v=!0),l(5,I=null);const[V,z,w,C]=await Promise.all([Fe.getStats().catch(()=>null),Fe.getRecentlyPlayedGames().catch(()=>[]),Fe.getRecentlyAddedGames(5).catch(()=>[]),Fe.getPlatforms().catch(()=>[])]);l(0,s=V),l(1,f=z||[]),l(2,u=w||[]),l(3,h=C||[])}catch(V){V instanceof ft?l(5,I=`Failed to load data: ${V.message}`):l(5,I="Error connecting to the backend. Please check if the server is running."),console.error("Load data error:",V)}finally{l(4,v=!1)}}function P(){l(9,_=null),l(6,k=!0)}function y(V){l(9,_=V.detail),l(7,i=!1),l(6,k=!0)}async function M(V){const z=V.detail;try{await Fe.deleteGame(z),await L()}catch(w){w instanceof ft?alert(`Failed to delete game: ${w.message}`):alert("An error occurred while deleting the game."),console.error("Delete game error:",w)}}async function $(V){const z=V.detail,w=!!_;try{w&&_?await Fe.updateGame(_.id,z):await Fe.createGame(z),l(6,k=!1),await L()}catch(C){C instanceof ft?alert(`Failed to save game: ${C.message}`):alert("An error occurred while saving the game."),console.error("Save game error:",C)}}function x(V){const z=V.detail,C=[...Array.isArray(f)?f:[],...Array.isArray(u)?u:[]].find(H=>H.id===z);C&&(l(9,_=C),l(8,c=!0),l(7,i=!1))}async function Z(V){const z=V.detail;if(_)try{await Fe.createSession(_.id,z),l(8,c=!1),await L()}catch(w){w instanceof ft?alert(`Failed to log session: ${w.message}`):alert("An error occurred while logging the session."),console.error("Log session error:",w)}}function K(V){l(9,_=V.detail),l(7,i=!0)}return[s,f,u,h,v,I,k,i,c,_,L,P,y,M,$,x,Z,K,()=>l(6,k=!1),()=>l(7,i=!1),()=>l(8,c=!1)]}class rl extends Gt{constructor(e){super(),Nt(this,e,Zt,Yt,jt,{})}}export{rl as component};
