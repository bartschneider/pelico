import{S as De,i as Le,s as Ve,n as ne,d as n,u as Te,o as f,v as fe,b as w,c as o,m as Z,e as d,f as b,p as z,h as T,g as P,q as ue,j as h,k as I,t as S,r as He,y as Ie,a as Q}from"../chunks/kp0KmzAt.js";import{e as de,u as Me,d as Ae}from"../chunks/NZ8AIpzC.js";import"../chunks/IHki7fMi.js";import{a as he,A as _e}from"../chunks/C_uHZB6E.js";function me(u,e,t){const i=u.slice();return i[16]=e[t],i}function ve(u){let e,t='<i class="fas fa-times"></i>',i,l;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(a){e=d(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(e)!=="svelte-82a2sv"&&(e.innerHTML=t),this.h()},h(){f(e,"class","btn btn-outline-secondary"),f(e,"type","button")},m(a,s){w(a,e,s),i||(l=Z(e,"click",u[10]),i=!0)},p:ne,d(a){a&&n(e),i=!1,l()}}}function Ne(u){let e=u[0].length+"",t,i;return{c(){t=S(e),i=S(" items on your wishlist")},l(l){t=P(l,e),i=P(l," items on your wishlist")},m(l,a){w(l,t,a),w(l,i,a)},p(l,a){a&1&&e!==(e=l[0].length+"")&&Q(t,e)},d(l){l&&(n(t),n(i))}}}function Pe(u){let e,t=u[5].length+"",i,l,a=u[0].length+"",s,r;return{c(){e=S("Showing "),i=S(t),l=S(" of "),s=S(a),r=S(" items")},l(c){e=P(c,"Showing "),i=P(c,t),l=P(c," of "),s=P(c,a),r=P(c," items")},m(c,_){w(c,e,_),w(c,i,_),w(c,l,_),w(c,s,_),w(c,r,_)},p(c,_){_&32&&t!==(t=c[5].length+"")&&Q(i,t),_&1&&a!==(a=c[0].length+"")&&Q(s,a)},d(c){c&&(n(e),n(i),n(l),n(s),n(r))}}}function Se(u){let e,t=[],i=new Map,l=de(u[5]);const a=s=>s[16].id;for(let s=0;s<l.length;s+=1){let r=me(u,l,s),c=a(r);i.set(c,t[s]=ge(c,r))}return{c(){e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=d(s,"DIV",{class:!0});var r=b(e);for(let c=0;c<t.length;c+=1)t[c].l(r);r.forEach(n),this.h()},h(){f(e,"class","row")},m(s,r){w(s,e,r);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(s,r){r&160&&(l=de(s[5]),t=Me(t,r,a,1,s,l,i,e,Ae,ge,null,me))},d(s){s&&n(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ue(u){let e;function t(a,s){return a[1]?Fe:We}let i=t(u),l=i(u);return{c(){e=h("div"),l.c(),this.h()},l(a){e=d(a,"DIV",{class:!0});var s=b(e);l.l(s),s.forEach(n),this.h()},h(){f(e,"class","text-center py-5")},m(a,s){w(a,e,s),l.m(e,null)},p(a,s){i===(i=t(a))&&l?l.p(a,s):(l.d(1),l=i(a),l&&(l.c(),l.m(e,null)))},d(a){a&&n(e),l.d()}}}function Be(u){let e,t,i,l,a,s,r,c="Try Again",_,D;return{c(){e=h("div"),t=h("i"),i=I(),l=h("div"),a=S(u[3]),s=I(),r=h("button"),r.textContent=c,this.h()},l(p){e=d(p,"DIV",{class:!0});var g=b(e);t=d(g,"I",{class:!0}),b(t).forEach(n),i=T(g),l=d(g,"DIV",{});var m=b(l);a=P(m,u[3]),s=T(m),r=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-faqewk"&&(r.textContent=c),m.forEach(n),g.forEach(n),this.h()},h(){f(t,"class","fas fa-exclamation-triangle me-2"),f(r,"class","btn btn-sm btn-outline-danger ms-2"),f(e,"class","alert alert-danger d-flex align-items-center")},m(p,g){w(p,e,g),o(e,t),o(e,i),o(e,l),o(l,a),o(l,s),o(l,r),_||(D=Z(r,"click",u[6]),_=!0)},p(p,g){g&8&&Q(a,p[3])},d(p){p&&n(e),_=!1,D()}}}function Oe(u){let e,t='<div class="text-center"><div class="spinner-border text-primary mb-3" role="status"><span class="visually-hidden">Loading...</span></div> <p class="text-muted">Loading wishlist...</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(i){e=d(i,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),z(e)!=="svelte-12ozwn5"&&(e.innerHTML=t),this.h()},h(){f(e,"class","d-flex justify-content-center align-items-center"),Ie(e,"height","300px")},m(i,l){w(i,e,l)},p:ne,d(i){i&&n(e)}}}function pe(u){let e,t,i,l=u[16].platform_name+"",a;return{c(){e=h("p"),t=h("i"),i=I(),a=S(l),this.h()},l(s){e=d(s,"P",{class:!0});var r=b(e);t=d(r,"I",{class:!0}),b(t).forEach(n),i=T(r),a=P(r,l),r.forEach(n),this.h()},h(){f(t,"class","fas fa-gamepad me-1"),f(e,"class","text-muted small mb-2")},m(s,r){w(s,e,r),o(e,t),o(e,i),o(e,a)},p(s,r){r&32&&l!==(l=s[16].platform_name+"")&&Q(a,l)},d(s){s&&n(e)}}}function be(u){let e,t,i,l=new Date(u[16].release_date).toLocaleDateString()+"",a;return{c(){e=h("p"),t=h("i"),i=I(),a=S(l),this.h()},l(s){e=d(s,"P",{class:!0});var r=b(e);t=d(r,"I",{class:!0}),b(t).forEach(n),i=T(r),a=P(r,l),r.forEach(n),this.h()},h(){f(t,"class","fas fa-calendar me-1"),f(e,"class","text-muted small mb-2")},m(s,r){w(s,e,r),o(e,t),o(e,i),o(e,a)},p(s,r){r&32&&l!==(l=new Date(s[16].release_date).toLocaleDateString()+"")&&Q(a,l)},d(s){s&&n(e)}}}function ke(u){let e,t,i,l=u[16].estimated_price+"",a;return{c(){e=h("p"),t=h("i"),i=S(`
                  ~$`),a=S(l),this.h()},l(s){e=d(s,"P",{class:!0});var r=b(e);t=d(r,"I",{class:!0}),b(t).forEach(n),i=P(r,`
                  ~$`),a=P(r,l),r.forEach(n),this.h()},h(){f(t,"class","fas fa-tag me-1"),f(e,"class","text-success small mb-2")},m(s,r){w(s,e,r),o(e,t),o(e,i),o(e,a)},p(s,r){r&32&&l!==(l=s[16].estimated_price+"")&&Q(a,l)},d(s){s&&n(e)}}}function ye(u){let e,t=u[16].notes+"",i;return{c(){e=h("p"),i=S(t),this.h()},l(l){e=d(l,"P",{class:!0});var a=b(e);i=P(a,t),a.forEach(n),this.h()},h(){f(e,"class","card-text small text-muted mb-3")},m(l,a){w(l,e,a),o(e,i)},p(l,a){a&32&&t!==(t=l[16].notes+"")&&Q(i,t)},d(l){l&&n(e)}}}function ge(u,e){let t,i,l,a,s,r=e[16].title+"",c,_,D,p,g,m,C,k=e[16].priority.charAt(0).toUpperCase()+e[16].priority.slice(1)+"",E,A,B,H,F,M,Y,q,R,J,x=new Date(e[16].created_at||"").toLocaleDateString()+"",$,X,G,oe='<i class="fas fa-trash"></i>',U,ae,te,L=e[16].platform_name&&pe(e),O=e[16].release_date&&be(e),N=e[16].estimated_price&&ke(e),V=e[16].notes&&ye(e);function W(){return e[13](e[16])}return{key:u,first:null,c(){t=h("div"),i=h("div"),l=h("div"),a=h("div"),s=h("h6"),c=S(r),D=I(),p=h("span"),g=h("i"),C=I(),E=S(k),B=I(),L&&L.c(),H=I(),O&&O.c(),F=I(),N&&N.c(),M=I(),V&&V.c(),Y=I(),q=h("div"),R=h("small"),J=S("Added "),$=S(x),X=I(),G=h("button"),G.innerHTML=oe,U=I(),this.h()},l(v){t=d(v,"DIV",{class:!0});var y=b(t);i=d(y,"DIV",{class:!0});var le=b(i);l=d(le,"DIV",{class:!0});var j=b(l);a=d(j,"DIV",{class:!0});var ee=b(a);s=d(ee,"H6",{class:!0,title:!0});var se=b(s);c=P(se,r),se.forEach(n),D=T(ee),p=d(ee,"SPAN",{class:!0});var ie=b(p);g=d(ie,"I",{class:!0}),b(g).forEach(n),C=T(ie),E=P(ie,k),ie.forEach(n),ee.forEach(n),B=T(j),L&&L.l(j),H=T(j),O&&O.l(j),F=T(j),N&&N.l(j),M=T(j),V&&V.l(j),Y=T(j),q=d(j,"DIV",{class:!0});var K=b(q);R=d(K,"SMALL",{class:!0});var re=b(R);J=P(re,"Added "),$=P(re,x),re.forEach(n),X=T(K),G=d(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(G)!=="svelte-wztnuz"&&(G.innerHTML=oe),K.forEach(n),j.forEach(n),le.forEach(n),U=T(y),y.forEach(n),this.h()},h(){f(s,"class","card-title mb-0"),f(s,"title",_=e[16].title),f(g,"class",m=Ce(e[16].priority)+" me-1"),f(p,"class",A="badge "+Ee(e[16].priority)+" ms-2"),f(a,"class","d-flex justify-content-between align-items-start mb-2"),f(R,"class","text-muted"),f(G,"class","btn btn-sm btn-outline-danger"),f(G,"title","Remove from wishlist"),f(q,"class","d-flex justify-content-between align-items-center"),f(l,"class","card-body"),f(i,"class","card h-100"),f(t,"class","col-xl-3 col-lg-4 col-md-6 mb-4"),this.first=t},m(v,y){w(v,t,y),o(t,i),o(i,l),o(l,a),o(a,s),o(s,c),o(a,D),o(a,p),o(p,g),o(p,C),o(p,E),o(l,B),L&&L.m(l,null),o(l,H),O&&O.m(l,null),o(l,F),N&&N.m(l,null),o(l,M),V&&V.m(l,null),o(l,Y),o(l,q),o(q,R),o(R,J),o(R,$),o(q,X),o(q,G),o(t,U),ae||(te=Z(G,"click",W),ae=!0)},p(v,y){e=v,y&32&&r!==(r=e[16].title+"")&&Q(c,r),y&32&&_!==(_=e[16].title)&&f(s,"title",_),y&32&&m!==(m=Ce(e[16].priority)+" me-1")&&f(g,"class",m),y&32&&k!==(k=e[16].priority.charAt(0).toUpperCase()+e[16].priority.slice(1)+"")&&Q(E,k),y&32&&A!==(A="badge "+Ee(e[16].priority)+" ms-2")&&f(p,"class",A),e[16].platform_name?L?L.p(e,y):(L=pe(e),L.c(),L.m(l,H)):L&&(L.d(1),L=null),e[16].release_date?O?O.p(e,y):(O=be(e),O.c(),O.m(l,F)):O&&(O.d(1),O=null),e[16].estimated_price?N?N.p(e,y):(N=ke(e),N.c(),N.m(l,M)):N&&(N.d(1),N=null),e[16].notes?V?V.p(e,y):(V=ye(e),V.c(),V.m(l,Y)):V&&(V.d(1),V=null),y&32&&x!==(x=new Date(e[16].created_at||"").toLocaleDateString()+"")&&Q($,x)},d(v){v&&n(t),L&&L.d(),O&&O.d(),N&&N.d(),V&&V.d(),ae=!1,te()}}}function We(u){let e,t,i,l="Your wishlist is empty",a,s,r="Start adding games you want to play to your wishlist!",c,_,D='<i class="fas fa-plus me-1"></i> Add Your First Game',p,g;return{c(){e=h("i"),t=I(),i=h("h4"),i.textContent=l,a=I(),s=h("p"),s.textContent=r,c=I(),_=h("button"),_.innerHTML=D,this.h()},l(m){e=d(m,"I",{class:!0}),b(e).forEach(n),t=T(m),i=d(m,"H4",{"data-svelte-h":!0}),z(i)!=="svelte-14gre15"&&(i.textContent=l),a=T(m),s=d(m,"P",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-q1zu56"&&(s.textContent=r),c=T(m),_=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-nv3ilg"&&(_.innerHTML=D),this.h()},h(){f(e,"class","fas fa-heart fa-3x text-muted mb-3"),f(s,"class","text-muted"),f(_,"class","btn btn-primary")},m(m,C){w(m,e,C),w(m,t,C),w(m,i,C),w(m,a,C),w(m,s,C),w(m,c,C),w(m,_,C),p||(g=Z(_,"click",u[12]),p=!0)},p:ne,d(m){m&&(n(e),n(t),n(i),n(a),n(s),n(c),n(_)),p=!1,g()}}}function Fe(u){let e,t,i,l="No items found",a,s,r,c,_,D,p,g="Clear Search",m,C;return{c(){e=h("i"),t=I(),i=h("h4"),i.textContent=l,a=I(),s=h("p"),r=S('No wishlist items match your search "'),c=S(u[1]),_=S('"'),D=I(),p=h("button"),p.textContent=g,this.h()},l(k){e=d(k,"I",{class:!0}),b(e).forEach(n),t=T(k),i=d(k,"H4",{"data-svelte-h":!0}),z(i)!=="svelte-1t85vr9"&&(i.textContent=l),a=T(k),s=d(k,"P",{class:!0});var E=b(s);r=P(E,'No wishlist items match your search "'),c=P(E,u[1]),_=P(E,'"'),E.forEach(n),D=T(k),p=d(k,"BUTTON",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-ocaac3"&&(p.textContent=g),this.h()},h(){f(e,"class","fas fa-search fa-3x text-muted mb-3"),f(s,"class","text-muted"),f(p,"class","btn btn-outline-primary")},m(k,E){w(k,e,E),w(k,t,E),w(k,i,E),w(k,a,E),w(k,s,E),o(s,r),o(s,c),o(s,_),w(k,D,E),w(k,p,E),m||(C=Z(p,"click",u[11]),m=!0)},p(k,E){E&2&&Q(c,k[1])},d(k){k&&(n(e),n(t),n(i),n(a),n(s),n(D),n(p)),m=!1,C()}}}function we(u){let e,t,i,l,a,s="Add to Wishlist",r,c,_,D,p='<p class="text-muted">Feature coming soon! Add new games to your wishlist.</p>',g,m,C,k="Close",E,A;return{c(){e=h("div"),t=h("div"),i=h("div"),l=h("div"),a=h("h5"),a.textContent=s,r=I(),c=h("button"),_=I(),D=h("div"),D.innerHTML=p,g=I(),m=h("div"),C=h("button"),C.textContent=k,this.h()},l(B){e=d(B,"DIV",{class:!0,style:!0});var H=b(e);t=d(H,"DIV",{class:!0});var F=b(t);i=d(F,"DIV",{class:!0});var M=b(i);l=d(M,"DIV",{class:!0});var Y=b(l);a=d(Y,"H5",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-m4vh7u"&&(a.textContent=s),r=T(Y),c=d(Y,"BUTTON",{type:!0,class:!0}),b(c).forEach(n),Y.forEach(n),_=T(M),D=d(M,"DIV",{class:!0,"data-svelte-h":!0}),z(D)!=="svelte-175r102"&&(D.innerHTML=p),g=T(M),m=d(M,"DIV",{class:!0});var q=b(m);C=d(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(C)!=="svelte-1nskcgu"&&(C.textContent=k),q.forEach(n),M.forEach(n),F.forEach(n),H.forEach(n),this.h()},h(){f(a,"class","modal-title"),f(c,"type","button"),f(c,"class","btn-close"),f(l,"class","modal-header"),f(D,"class","modal-body"),f(C,"type","button"),f(C,"class","btn btn-secondary"),f(m,"class","modal-footer"),f(i,"class","modal-content"),f(t,"class","modal-dialog"),f(e,"class","modal fade show d-block"),Ie(e,"background-color","rgba(0,0,0,0.5)")},m(B,H){w(B,e,H),o(e,t),o(t,i),o(i,l),o(l,a),o(l,r),o(l,c),o(i,_),o(i,D),o(i,g),o(i,m),o(m,C),E||(A=[Z(c,"click",u[14]),Z(C,"click",u[15])],E=!0)},p:ne,d(B){B&&n(e),E=!1,Te(A)}}}function je(u){let e,t,i,l=`<i class="fas fa-heart me-2 text-danger"></i>
      Wishlist`,a,s,r,c,_,D,p,g,m='<i class="fas fa-plus me-1"></i> Add to Wishlist',C,k,E,A,B,H='<i class="fas fa-search"></i>',F,M,Y,q,R,J,x,$,X,G,oe,U=u[1]&&ve(u);function ae(v,y){return v[1]?Pe:Ne}let te=ae(u),L=te(u);function O(v,y){return v[2]?Oe:v[3]?Be:v[5].length===0?Ue:Se}let N=O(u),V=N(u),W=u[4]&&we(u);return{c(){e=h("div"),t=h("div"),i=h("h1"),i.innerHTML=l,a=I(),s=h("div"),r=h("button"),c=h("i"),D=S(" Refresh"),p=I(),g=h("button"),g.innerHTML=m,C=I(),k=h("div"),E=h("div"),A=h("div"),B=h("span"),B.innerHTML=H,F=I(),M=h("input"),Y=I(),U&&U.c(),q=I(),R=h("div"),J=h("p"),L.c(),x=I(),V.c(),$=I(),W&&W.c(),X=ue(),this.h()},l(v){e=d(v,"DIV",{class:!0});var y=b(e);t=d(y,"DIV",{class:!0});var le=b(t);i=d(le,"H1",{"data-svelte-h":!0}),z(i)!=="svelte-76ul9b"&&(i.innerHTML=l),a=T(le),s=d(le,"DIV",{class:!0});var j=b(s);r=d(j,"BUTTON",{class:!0});var ee=b(r);c=d(ee,"I",{class:!0}),b(c).forEach(n),D=P(ee," Refresh"),ee.forEach(n),p=T(j),g=d(j,"BUTTON",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-bczvwd"&&(g.innerHTML=m),j.forEach(n),le.forEach(n),C=T(y),k=d(y,"DIV",{class:!0});var se=b(k);E=d(se,"DIV",{class:!0});var ie=b(E);A=d(ie,"DIV",{class:!0});var K=b(A);B=d(K,"SPAN",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-1ag4q0b"&&(B.innerHTML=H),F=T(K),M=d(K,"INPUT",{type:!0,class:!0,placeholder:!0}),Y=T(K),U&&U.l(K),K.forEach(n),ie.forEach(n),q=T(se),R=d(se,"DIV",{class:!0});var re=b(R);J=d(re,"P",{class:!0});var ce=b(J);L.l(ce),ce.forEach(n),re.forEach(n),se.forEach(n),x=T(y),V.l(y),y.forEach(n),$=T(v),W&&W.l(v),X=ue(),this.h()},h(){f(c,"class",_="fas fa-sync-alt "+(u[2]?"fa-spin":"")),f(r,"class","btn btn-outline-secondary"),r.disabled=u[2],f(g,"class","btn btn-primary"),f(s,"class","d-flex gap-2"),f(t,"class","d-flex justify-content-between align-items-center mb-4"),f(B,"class","input-group-text"),f(M,"type","text"),f(M,"class","form-control"),f(M,"placeholder","Search wishlist by title or platform..."),f(A,"class","input-group"),f(E,"class","col-md-6"),f(J,"class","text-muted mt-2 mb-0"),f(R,"class","col-md-6"),f(k,"class","row mb-4"),f(e,"class","container-fluid mt-4")},m(v,y){w(v,e,y),o(e,t),o(t,i),o(t,a),o(t,s),o(s,r),o(r,c),o(r,D),o(s,p),o(s,g),o(e,C),o(e,k),o(k,E),o(E,A),o(A,B),o(A,F),o(A,M),fe(M,u[1]),o(A,Y),U&&U.m(A,null),o(k,q),o(k,R),o(R,J),L.m(J,null),o(e,x),V.m(e,null),w(v,$,y),W&&W.m(v,y),w(v,X,y),G||(oe=[Z(r,"click",u[6]),Z(g,"click",u[8]),Z(M,"input",u[9])],G=!0)},p(v,[y]){y&4&&_!==(_="fas fa-sync-alt "+(v[2]?"fa-spin":""))&&f(c,"class",_),y&4&&(r.disabled=v[2]),y&2&&M.value!==v[1]&&fe(M,v[1]),v[1]?U?U.p(v,y):(U=ve(v),U.c(),U.m(A,null)):U&&(U.d(1),U=null),te===(te=ae(v))&&L?L.p(v,y):(L.d(1),L=te(v),L&&(L.c(),L.m(J,null))),N===(N=O(v))&&V?V.p(v,y):(V.d(1),V=N(v),V&&(V.c(),V.m(e,null))),v[4]?W?W.p(v,y):(W=we(v),W.c(),W.m(X.parentNode,X)):W&&(W.d(1),W=null)},i:ne,o:ne,d(v){v&&(n(e),n($),n(X)),U&&U.d(),L.d(),V.d(),W&&W.d(v),G=!1,Te(oe)}}}function Ee(u){switch(u){case"high":return"text-danger";case"medium":return"text-warning";case"low":return"text-success";default:return"text-muted"}}function Ce(u){switch(u){case"high":return"fas fa-exclamation-circle";case"medium":return"fas fa-exclamation-triangle";case"low":return"fas fa-info-circle";default:return"fas fa-circle"}}function qe(u,e,t){let i=[],l=!0,a=null,s=!1,r="",c=[];He(async()=>{await _()});async function _(){try{t(2,l=!0),t(3,a=null),t(0,i=await he.getWishlist())}catch(H){H instanceof _e?t(3,a=`Failed to load wishlist: ${H.message}`):t(3,a="Error connecting to the backend. Please check if the server is running."),console.error("Load wishlist error:",H)}finally{t(2,l=!1)}}async function D(H){try{await he.removeFromWishlist(H),t(0,i=i.filter(F=>F.id!==H))}catch(F){F instanceof _e?alert(`Failed to remove from wishlist: ${F.message}`):alert("An error occurred while removing the game from the wishlist."),console.error("Remove from wishlist error:",F)}}const p=()=>t(4,s=!0);function g(){r=this.value,t(1,r)}const m=()=>t(1,r=""),C=()=>t(1,r=""),k=()=>t(4,s=!0),E=H=>D(H.id),A=()=>t(4,s=!1),B=()=>t(4,s=!1);return u.$$.update=()=>{u.$$.dirty&3&&t(5,c=r?i.filter(H=>H.title.toLowerCase().includes(r.toLowerCase())||H.platform_name?.toLowerCase().includes(r.toLowerCase())):i)},[i,r,l,a,s,c,_,D,p,g,m,C,k,E,A,B]}class Qe extends De{constructor(e){super(),Le(this,e,qe,je,Ve,{})}}export{Qe as component};
