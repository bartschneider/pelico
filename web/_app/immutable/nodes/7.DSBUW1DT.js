import{S as Dl,i as wl,s as xl,n as gl,d as a,u as El,a as te,o as n,b as v,c as s,m as ve,e as o,f as i,p as b,h as m,g,j as c,k as h,t as C,r as Tl}from"../chunks/kp0KmzAt.js";import"../chunks/IHki7fMi.js";import{a as A}from"../chunks/C_uHZB6E.js";import{s as K,a as at,b as Il}from"../chunks/DFd06uIb.js";function Ll(r){let t,l;return{c(){t=c("i"),l=C("Download Full Backup"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Download Full Backup"),this.h()},h(){n(t,"class","fas fa-download me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Ul(r){let t,l;return{c(){t=c("i"),l=C("Exporting..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Exporting..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Vl(r){let t,l;return{c(){t=c("i"),l=C("Download Games Only"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Download Games Only"),this.h()},h(){n(t,"class","fas fa-gamepad me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Ml(r){let t,l;return{c(){t=c("i"),l=C("Exporting..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Exporting..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Nl(r){let t,l;return{c(){t=c("i"),l=C("Restore Backup"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Restore Backup"),this.h()},h(){n(t,"class","fas fa-upload me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Hl(r){let t,l;return{c(){t=c("i"),l=C("Importing..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Importing..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Cl(r){let t,l;return{c(){t=c("p"),l=C(r[3]),this.h()},l(e){t=o(e,"P",{class:!0});var d=i(t);l=g(d,r[3]),d.forEach(a),this.h()},h(){n(t,"class","small text-muted mb-3")},m(e,d){v(e,t,d),s(t,l)},p(e,d){d&8&&te(l,e[3])},d(e){e&&a(t)}}}function kl(r){let t,l,e,d,k,O=`<i class="fas fa-info-circle me-1"></i>
								Creates JSON backup and uploads to Nextcloud automatically. To restore, download from Nextcloud and use local restore above.`,M,T;function N(p,D){return p[9]?Bl:Sl}let x=N(r),E=x(r);function W(p,D){return p[10]?Ol:Pl}let S=W(r),y=S(r);return{c(){t=c("button"),E.c(),l=h(),e=c("button"),y.c(),d=h(),k=c("div"),k.innerHTML=O,this.h()},l(p){t=o(p,"BUTTON",{class:!0});var D=i(t);E.l(D),D.forEach(a),l=m(p),e=o(p,"BUTTON",{class:!0});var se=i(e);y.l(se),se.forEach(a),d=m(p),k=o(p,"DIV",{class:!0,"data-svelte-h":!0}),b(k)!=="svelte-lm0v2s"&&(k.innerHTML=O),this.h()},h(){t.disabled=r[9],n(t,"class","btn btn-primary btn-sm"),e.disabled=r[10],n(e,"class","btn btn-outline-primary btn-sm"),n(k,"class","small text-muted mb-2")},m(p,D){v(p,t,D),E.m(t,null),v(p,l,D),v(p,e,D),y.m(e,null),v(p,d,D),v(p,k,D),M||(T=[ve(t,"click",r[15]),ve(e,"click",r[16])],M=!0)},p(p,D){x!==(x=N(p))&&(E.d(1),E=x(p),E&&(E.c(),E.m(t,null))),D&512&&(t.disabled=p[9]),S!==(S=W(p))&&(y.d(1),y=S(p),y&&(y.c(),y.m(e,null))),D&1024&&(e.disabled=p[10])},d(p){p&&(a(t),a(l),a(e),a(d),a(k)),E.d(),y.d(),M=!1,El(T)}}}function Sl(r){let t,l;return{c(){t=c("i"),l=C("Create & Upload Backup"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Create & Upload Backup"),this.h()},h(){n(t,"class","fas fa-cloud-upload-alt me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Bl(r){let t,l;return{c(){t=c("i"),l=C("Creating & Uploading..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Creating & Uploading..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Pl(r){let t,l;return{c(){t=c("i"),l=C("Upload Games Only"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Upload Games Only"),this.h()},h(){n(t,"class","fas fa-gamepad me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Ol(r){let t,l;return{c(){t=c("i"),l=C("Uploading Games..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Uploading Games..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Fl(r){let t,l;return{c(){t=c("i"),l=C("Test Connection"),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Test Connection"),this.h()},h(){n(t,"class","fas fa-wifi me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Gl(r){let t,l;return{c(){t=c("i"),l=C("Testing..."),this.h()},l(e){t=o(e,"I",{class:!0}),i(t).forEach(a),l=g(e,"Testing..."),this.h()},h(){n(t,"class","fas fa-spinner fa-spin me-1")},m(e,d){v(e,t,d),v(e,l,d)},d(e){e&&(a(t),a(l))}}}function Al(r){let t,l,e='<i class="fas fa-cog me-2 text-primary"></i>Settings',d,k,O="Manage your Pelico installation and data",M,T,N,x,E,W=`<h5 class="mb-0"><i class="fas fa-cloud-download-alt me-2"></i>
						Backup &amp; Restore</h5>`,S,y,p,D="Protect your game collection data with regular backups.",se,j,R,le,pt="Export Data",nt,q,B,ot,u,be,U,_e,Ls="Import Data",Wt,ae,ge,Qt,Ce,Us="Select a Pelico backup file (.json)",Xt,z,vt,Yt,ke,Vs=`<i class="fas fa-exclamation-triangle me-1"></i>
								Warning: This will replace all existing data!`,Zt,P,ne,ye,Ms='<h5 class="mb-0"><i class="fas fa-cloud me-2"></i>Nextcloud Backup</h5>',$t,F,oe,Ke,Ns="Status:",es,Ee,bt,_t,ts,gt,Q,Ct,J,ss,ce,De,Hs='<h5 class="mb-0"><i class="fas fa-database me-2"></i>Cache Management</h5>',ls,re,we,Ss="Clear cached data and refresh the application.",as,ie,Bs='<i class="fas fa-sync-alt me-1"></i>Clear Cache &amp; Refresh',ns,de,xe,Ps='<h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Version Info</h5>',os,ue,H,Te,Os="Version:",Ie,Le,cs,ct=(r[1].version||"Unknown")+"",kt,rs,Ue,Fs="Build:",We,rt=(r[1].build_time||"Unknown")+"",yt,Ve,Gs="Commit:",Me,Qe,it=(r[1].git_commit||"Unknown")+"",Et,is,Ne,As="Go Version:",Xe,dt=(r[1].go_version||"Unknown")+"",Dt,ds,Ye,G,He,js="Games:",Se,Ze,ut=r[0].games_count+"",wt,us,Be,Rs="Platforms:",Pe,$e,ft=r[0].platforms_count+"",xt,fs,Oe,qs="Sessions:",et,tt,mt=r[0].sessions_count+"",Tt,ms,fe,Fe,zs='<h5 class="mb-0"><i class="fas fa-history me-2"></i>Recent Changes</h5>',hs,w,Ge,Js="Version 1.2.1 Changes",ps,Ae,Ks='<li class="mb-1"><small>✅ Fixed edit game modal functionality in game detail modals</small></li> <li class="mb-1"><small>✅ Complete Bootstrap styling for platforms page</small></li> <li class="mb-1"><small>✅ Enhanced Nextcloud backup instructions</small></li> <li class="mb-1"><small>✅ Improved modal transitions and state management</small></li>',vs,je,Ws="Version 1.2.0 Changes",bs,Re,Qs='<li class="mb-1"><small>✅ SvelteKit frontend migration with improved performance</small></li> <li class="mb-1"><small>✅ Bootstrap UI framework for consistent styling</small></li> <li class="mb-1"><small>✅ Enhanced game detail modals with comprehensive metadata</small></li> <li class="mb-1"><small>✅ Improved responsive design for mobile and desktop</small></li> <li class="mb-1"><small>✅ Fixed cover art display and collection view</small></li> <li class="mb-1"><small>✅ Enhanced ROM scanner with better directory browsing</small></li>',_s,qe,Xs="Version 1.1.0 Changes",gs,ze,Ys='<li class="mb-1"><small>✅ Added Docker container logs display in settings page</small></li> <li class="mb-1"><small>✅ Proper versioning system with build information</small></li> <li class="mb-1"><small>✅ Fixed metadata updater HTTP 500 errors for Gameboy Advance games</small></li> <li class="mb-1"><small>✅ Enhanced platform filter system with robust ID-based mapping</small></li>',Cs,st,me,ht,ks,Zs=new Date().toLocaleDateString()+"",ys,Es,$s;function el(f,_){return f[7]?Ul:Ll}let It=el(r),X=It(r);function tl(f,_){return f[8]?Ml:Vl}let Lt=tl(r),Y=Lt(r);function sl(f,_){return f[6]?Hl:Nl}let Ut=sl(r),Z=Ut(r),I=r[3]&&Cl(r),L=r[4]&&kl(r);function ll(f,_){return f[11]?Gl:Fl}let Vt=ll(r),$=Vt(r);return{c(){t=c("div"),l=c("h1"),l.innerHTML=e,d=h(),k=c("p"),k.textContent=O,M=h(),T=c("div"),N=c("div"),x=c("div"),E=c("div"),E.innerHTML=W,S=h(),y=c("div"),p=c("p"),p.textContent=D,se=h(),j=c("div"),R=c("div"),le=c("h6"),le.textContent=pt,nt=h(),q=c("div"),B=c("button"),X.c(),ot=h(),u=c("button"),Y.c(),be=h(),U=c("div"),_e=c("h6"),_e.textContent=Ls,Wt=h(),ae=c("div"),ge=c("input"),Qt=h(),Ce=c("small"),Ce.textContent=Us,Xt=h(),z=c("button"),Z.c(),Yt=h(),ke=c("small"),ke.innerHTML=Vs,Zt=h(),P=c("div"),ne=c("div"),ye=c("div"),ye.innerHTML=Ms,$t=h(),F=c("div"),oe=c("div"),Ke=c("span"),Ke.textContent=Ns,es=h(),Ee=c("span"),bt=C(r[2]),ts=h(),I&&I.c(),gt=h(),Q=c("div"),L&&L.c(),Ct=h(),J=c("button"),$.c(),ss=h(),ce=c("div"),De=c("div"),De.innerHTML=Hs,ls=h(),re=c("div"),we=c("p"),we.textContent=Ss,as=h(),ie=c("button"),ie.innerHTML=Bs,ns=h(),de=c("div"),xe=c("div"),xe.innerHTML=Ps,os=h(),ue=c("div"),H=c("dl"),Te=c("dt"),Te.textContent=Os,Ie=c("dd"),Le=c("span"),cs=C("v"),kt=C(ct),rs=h(),Ue=c("dt"),Ue.textContent=Fs,We=c("dd"),yt=C(rt),Ve=c("dt"),Ve.textContent=Gs,Me=c("dd"),Qe=c("span"),Et=C(it),is=h(),Ne=c("dt"),Ne.textContent=As,Xe=c("dd"),Dt=C(dt),ds=h(),Ye=c("div"),G=c("dl"),He=c("dt"),He.textContent=js,Se=c("dd"),Ze=c("span"),wt=C(ut),us=h(),Be=c("dt"),Be.textContent=Rs,Pe=c("dd"),$e=c("span"),xt=C(ft),fs=h(),Oe=c("dt"),Oe.textContent=qs,et=c("dd"),tt=c("span"),Tt=C(mt),ms=h(),fe=c("div"),Fe=c("div"),Fe.innerHTML=zs,hs=h(),w=c("div"),Ge=c("h6"),Ge.textContent=Js,ps=h(),Ae=c("ul"),Ae.innerHTML=Ks,vs=h(),je=c("h6"),je.textContent=Ws,bs=h(),Re=c("ul"),Re.innerHTML=Qs,_s=h(),qe=c("h6"),qe.textContent=Xs,gs=h(),ze=c("ul"),ze.innerHTML=Ys,Cs=h(),st=c("div"),me=c("small"),ht=c("i"),ks=C(`
							Last updated: `),ys=C(Zs),this.h()},l(f){t=o(f,"DIV",{class:!0});var _=i(t);l=o(_,"H1",{class:!0,"data-svelte-h":!0}),b(l)!=="svelte-iodxqh"&&(l.innerHTML=e),d=m(_),k=o(_,"P",{class:!0,"data-svelte-h":!0}),b(k)!=="svelte-umjlub"&&(k.textContent=O),M=m(_),T=o(_,"DIV",{class:!0});var Mt=i(T);N=o(Mt,"DIV",{class:!0});var al=i(N);x=o(al,"DIV",{class:!0});var Nt=i(x);E=o(Nt,"DIV",{class:!0,"data-svelte-h":!0}),b(E)!=="svelte-12v6gpa"&&(E.innerHTML=W),S=m(Nt),y=o(Nt,"DIV",{class:!0});var Ht=i(y);p=o(Ht,"P",{class:!0,"data-svelte-h":!0}),b(p)!=="svelte-8rqml8"&&(p.textContent=D),se=m(Ht),j=o(Ht,"DIV",{class:!0});var St=i(j);R=o(St,"DIV",{class:!0});var Bt=i(R);le=o(Bt,"H6",{"data-svelte-h":!0}),b(le)!=="svelte-b7elck"&&(le.textContent=pt),nt=m(Bt),q=o(Bt,"DIV",{class:!0});var Pt=i(q);B=o(Pt,"BUTTON",{class:!0});var nl=i(B);X.l(nl),nl.forEach(a),ot=m(Pt),u=o(Pt,"BUTTON",{class:!0});var ol=i(u);Y.l(ol),ol.forEach(a),Pt.forEach(a),Bt.forEach(a),be=m(St),U=o(St,"DIV",{class:!0});var he=i(U);_e=o(he,"H6",{"data-svelte-h":!0}),b(_e)!=="svelte-i73iwr"&&(_e.textContent=Ls),Wt=m(he),ae=o(he,"DIV",{class:!0});var Ot=i(ae);ge=o(Ot,"INPUT",{type:!0,accept:!0,class:!0}),Qt=m(Ot),Ce=o(Ot,"SMALL",{class:!0,"data-svelte-h":!0}),b(Ce)!=="svelte-5bhm2o"&&(Ce.textContent=Us),Ot.forEach(a),Xt=m(he),z=o(he,"BUTTON",{class:!0});var cl=i(z);Z.l(cl),cl.forEach(a),Yt=m(he),ke=o(he,"SMALL",{class:!0,"data-svelte-h":!0}),b(ke)!=="svelte-1obj48r"&&(ke.innerHTML=Vs),he.forEach(a),St.forEach(a),Ht.forEach(a),Nt.forEach(a),al.forEach(a),Zt=m(Mt),P=o(Mt,"DIV",{class:!0});var pe=i(P);ne=o(pe,"DIV",{class:!0});var Ft=i(ne);ye=o(Ft,"DIV",{class:!0,"data-svelte-h":!0}),b(ye)!=="svelte-c9qkpj"&&(ye.innerHTML=Ms),$t=m(Ft),F=o(Ft,"DIV",{class:!0});var lt=i(F);oe=o(lt,"DIV",{class:!0});var Gt=i(oe);Ke=o(Gt,"SPAN",{"data-svelte-h":!0}),b(Ke)!=="svelte-k2z92"&&(Ke.textContent=Ns),es=m(Gt),Ee=o(Gt,"SPAN",{class:!0});var rl=i(Ee);bt=g(rl,r[2]),rl.forEach(a),Gt.forEach(a),ts=m(lt),I&&I.l(lt),gt=m(lt),Q=o(lt,"DIV",{class:!0});var At=i(Q);L&&L.l(At),Ct=m(At),J=o(At,"BUTTON",{class:!0});var il=i(J);$.l(il),il.forEach(a),At.forEach(a),lt.forEach(a),Ft.forEach(a),ss=m(pe),ce=o(pe,"DIV",{class:!0});var jt=i(ce);De=o(jt,"DIV",{class:!0,"data-svelte-h":!0}),b(De)!=="svelte-1yy1s8g"&&(De.innerHTML=Hs),ls=m(jt),re=o(jt,"DIV",{class:!0});var Rt=i(re);we=o(Rt,"P",{class:!0,"data-svelte-h":!0}),b(we)!=="svelte-1j1pg56"&&(we.textContent=Ss),as=m(Rt),ie=o(Rt,"BUTTON",{class:!0,"data-svelte-h":!0}),b(ie)!=="svelte-mu3v6b"&&(ie.innerHTML=Bs),Rt.forEach(a),jt.forEach(a),ns=m(pe),de=o(pe,"DIV",{class:!0});var qt=i(de);xe=o(qt,"DIV",{class:!0,"data-svelte-h":!0}),b(xe)!=="svelte-5xr079"&&(xe.innerHTML=Ps),os=m(qt),ue=o(qt,"DIV",{class:!0});var zt=i(ue);H=o(zt,"DL",{class:!0});var ee=i(H);Te=o(ee,"DT",{class:!0,"data-svelte-h":!0}),b(Te)!=="svelte-1rrp6wm"&&(Te.textContent=Os),Ie=o(ee,"DD",{class:!0});var Ds=i(Ie);Le=o(Ds,"SPAN",{class:!0});var ws=i(Le);cs=g(ws,"v"),kt=g(ws,ct),ws.forEach(a),rs=m(Ds),Ds.forEach(a),Ue=o(ee,"DT",{class:!0,"data-svelte-h":!0}),b(Ue)!=="svelte-ua947e"&&(Ue.textContent=Fs),We=o(ee,"DD",{class:!0});var dl=i(We);yt=g(dl,rt),dl.forEach(a),Ve=o(ee,"DT",{class:!0,"data-svelte-h":!0}),b(Ve)!=="svelte-13pfnh"&&(Ve.textContent=Gs),Me=o(ee,"DD",{class:!0});var xs=i(Me);Qe=o(xs,"SPAN",{class:!0});var ul=i(Qe);Et=g(ul,it),ul.forEach(a),is=m(xs),xs.forEach(a),Ne=o(ee,"DT",{class:!0,"data-svelte-h":!0}),b(Ne)!=="svelte-w18c6w"&&(Ne.textContent=As),Xe=o(ee,"DD",{class:!0});var fl=i(Xe);Dt=g(fl,dt),fl.forEach(a),ee.forEach(a),ds=m(zt),Ye=o(zt,"DIV",{class:!0});var ml=i(Ye);G=o(ml,"DL",{class:!0});var Je=i(G);He=o(Je,"DT",{class:!0,"data-svelte-h":!0}),b(He)!=="svelte-lt1t7t"&&(He.textContent=js),Se=o(Je,"DD",{class:!0});var Ts=i(Se);Ze=o(Ts,"SPAN",{class:!0});var hl=i(Ze);wt=g(hl,ut),hl.forEach(a),us=m(Ts),Ts.forEach(a),Be=o(Je,"DT",{class:!0,"data-svelte-h":!0}),b(Be)!=="svelte-1vpmhve"&&(Be.textContent=Rs),Pe=o(Je,"DD",{class:!0});var Is=i(Pe);$e=o(Is,"SPAN",{class:!0});var pl=i($e);xt=g(pl,ft),pl.forEach(a),fs=m(Is),Is.forEach(a),Oe=o(Je,"DT",{class:!0,"data-svelte-h":!0}),b(Oe)!=="svelte-d5snbh"&&(Oe.textContent=qs),et=o(Je,"DD",{class:!0});var vl=i(et);tt=o(vl,"SPAN",{class:!0});var bl=i(tt);Tt=g(bl,mt),bl.forEach(a),vl.forEach(a),Je.forEach(a),ml.forEach(a),zt.forEach(a),qt.forEach(a),ms=m(pe),fe=o(pe,"DIV",{class:!0});var Jt=i(fe);Fe=o(Jt,"DIV",{class:!0,"data-svelte-h":!0}),b(Fe)!=="svelte-1vw5082"&&(Fe.innerHTML=zs),hs=m(Jt),w=o(Jt,"DIV",{class:!0});var V=i(w);Ge=o(V,"H6",{class:!0,"data-svelte-h":!0}),b(Ge)!=="svelte-kyitb2"&&(Ge.textContent=Js),ps=m(V),Ae=o(V,"UL",{class:!0,"data-svelte-h":!0}),b(Ae)!=="svelte-1764bba"&&(Ae.innerHTML=Ks),vs=m(V),je=o(V,"H6",{class:!0,"data-svelte-h":!0}),b(je)!=="svelte-1dsa0bt"&&(je.textContent=Ws),bs=m(V),Re=o(V,"UL",{class:!0,"data-svelte-h":!0}),b(Re)!=="svelte-6rr6mk"&&(Re.innerHTML=Qs),_s=m(V),qe=o(V,"H6",{class:!0,"data-svelte-h":!0}),b(qe)!=="svelte-1ajedow"&&(qe.textContent=Xs),gs=m(V),ze=o(V,"UL",{class:!0,"data-svelte-h":!0}),b(ze)!=="svelte-kya80e"&&(ze.innerHTML=Ys),Cs=m(V),st=o(V,"DIV",{class:!0});var _l=i(st);me=o(_l,"SMALL",{class:!0});var Kt=i(me);ht=o(Kt,"I",{class:!0}),i(ht).forEach(a),ks=g(Kt,`
							Last updated: `),ys=g(Kt,Zs),Kt.forEach(a),_l.forEach(a),V.forEach(a),Jt.forEach(a),pe.forEach(a),Mt.forEach(a),_.forEach(a),this.h()},h(){n(l,"class","h2 mb-4"),n(k,"class","text-muted mb-4"),n(E,"class","card-header"),n(p,"class","text-muted mb-4"),B.disabled=r[7],n(B,"class","btn btn-primary"),u.disabled=r[8],n(u,"class","btn btn-secondary"),n(q,"class","d-grid gap-2 mb-3"),n(R,"class","col-md-6"),n(ge,"type","file"),n(ge,"accept",".json"),n(ge,"class","form-control mb-2"),n(Ce,"class","text-muted"),n(ae,"class","mb-3"),z.disabled=vt=r[6]||!r[5],n(z,"class","btn btn-warning w-100"),n(ke,"class","text-danger d-block mt-1"),n(U,"class","col-md-6"),n(j,"class","row"),n(y,"class","card-body"),n(x,"class","card mb-4"),n(N,"class","col-lg-8"),n(ye,"class","card-header"),n(Ee,"class",_t="badge "+(r[4]?"bg-success":"bg-danger")),n(oe,"class","d-flex justify-content-between align-items-center mb-3"),J.disabled=r[11],n(J,"class","btn btn-outline-secondary btn-sm"),n(Q,"class","d-grid gap-2"),n(F,"class","card-body"),n(ne,"class","card mb-4"),n(De,"class","card-header"),n(we,"class","small text-muted mb-3"),n(ie,"class","btn btn-warning btn-sm w-100"),n(re,"class","card-body"),n(ce,"class","card mb-4"),n(xe,"class","card-header"),n(Te,"class","col-sm-5"),n(Le,"class","badge bg-primary"),n(Ie,"class","col-sm-7"),n(Ue,"class","col-sm-5"),n(We,"class","col-sm-7"),n(Ve,"class","col-sm-5"),n(Qe,"class","font-monospace small"),n(Me,"class","col-sm-7"),n(Ne,"class","col-sm-5"),n(Xe,"class","col-sm-7"),n(H,"class","row small mb-3"),n(He,"class","col-sm-5"),n(Ze,"class","badge bg-info"),n(Se,"class","col-sm-7"),n(Be,"class","col-sm-5"),n($e,"class","badge bg-info"),n(Pe,"class","col-sm-7"),n(Oe,"class","col-sm-5"),n(tt,"class","badge bg-info"),n(et,"class","col-sm-7"),n(G,"class","row small mb-0"),n(Ye,"class","d-grid gap-2"),n(ue,"class","card-body"),n(de,"class","card mb-4"),n(Fe,"class","card-header"),n(Ge,"class","text-primary"),n(Ae,"class","list-unstyled mb-3"),n(je,"class","text-secondary"),n(Re,"class","list-unstyled mb-3"),n(qe,"class","text-secondary"),n(ze,"class","list-unstyled mb-3"),n(ht,"class","fas fa-clock me-1"),n(me,"class","text-muted"),n(st,"class","text-end"),n(w,"class","card-body"),n(fe,"class","card"),n(P,"class","col-lg-4"),n(T,"class","row"),n(t,"class","container-fluid py-4")},m(f,_){v(f,t,_),s(t,l),s(t,d),s(t,k),s(t,M),s(t,T),s(T,N),s(N,x),s(x,E),s(x,S),s(x,y),s(y,p),s(y,se),s(y,j),s(j,R),s(R,le),s(R,nt),s(R,q),s(q,B),X.m(B,null),s(q,ot),s(q,u),Y.m(u,null),s(j,be),s(j,U),s(U,_e),s(U,Wt),s(U,ae),s(ae,ge),s(ae,Qt),s(ae,Ce),s(U,Xt),s(U,z),Z.m(z,null),s(U,Yt),s(U,ke),s(T,Zt),s(T,P),s(P,ne),s(ne,ye),s(ne,$t),s(ne,F),s(F,oe),s(oe,Ke),s(oe,es),s(oe,Ee),s(Ee,bt),s(F,ts),I&&I.m(F,null),s(F,gt),s(F,Q),L&&L.m(Q,null),s(Q,Ct),s(Q,J),$.m(J,null),s(P,ss),s(P,ce),s(ce,De),s(ce,ls),s(ce,re),s(re,we),s(re,as),s(re,ie),s(P,ns),s(P,de),s(de,xe),s(de,os),s(de,ue),s(ue,H),s(H,Te),s(H,Ie),s(Ie,Le),s(Le,cs),s(Le,kt),s(Ie,rs),s(H,Ue),s(H,We),s(We,yt),s(H,Ve),s(H,Me),s(Me,Qe),s(Qe,Et),s(Me,is),s(H,Ne),s(H,Xe),s(Xe,Dt),s(ue,ds),s(ue,Ye),s(Ye,G),s(G,He),s(G,Se),s(Se,Ze),s(Ze,wt),s(Se,us),s(G,Be),s(G,Pe),s(Pe,$e),s($e,xt),s(Pe,fs),s(G,Oe),s(G,et),s(et,tt),s(tt,Tt),s(P,ms),s(P,fe),s(fe,Fe),s(fe,hs),s(fe,w),s(w,Ge),s(w,ps),s(w,Ae),s(w,vs),s(w,je),s(w,bs),s(w,Re),s(w,_s),s(w,qe),s(w,gs),s(w,ze),s(w,Cs),s(w,st),s(st,me),s(me,ht),s(me,ks),s(me,ys),Es||($s=[ve(B,"click",r[12]),ve(u,"click",r[13]),ve(ge,"change",r[19]),ve(z,"click",r[14]),ve(J,"click",r[17]),ve(ie,"click",r[18])],Es=!0)},p(f,[_]){It!==(It=el(f))&&(X.d(1),X=It(f),X&&(X.c(),X.m(B,null))),_&128&&(B.disabled=f[7]),Lt!==(Lt=tl(f))&&(Y.d(1),Y=Lt(f),Y&&(Y.c(),Y.m(u,null))),_&256&&(u.disabled=f[8]),Ut!==(Ut=sl(f))&&(Z.d(1),Z=Ut(f),Z&&(Z.c(),Z.m(z,null))),_&96&&vt!==(vt=f[6]||!f[5])&&(z.disabled=vt),_&4&&te(bt,f[2]),_&16&&_t!==(_t="badge "+(f[4]?"bg-success":"bg-danger"))&&n(Ee,"class",_t),f[3]?I?I.p(f,_):(I=Cl(f),I.c(),I.m(F,gt)):I&&(I.d(1),I=null),f[4]?L?L.p(f,_):(L=kl(f),L.c(),L.m(Q,Ct)):L&&(L.d(1),L=null),Vt!==(Vt=ll(f))&&($.d(1),$=Vt(f),$&&($.c(),$.m(J,null))),_&2048&&(J.disabled=f[11]),_&2&&ct!==(ct=(f[1].version||"Unknown")+"")&&te(kt,ct),_&2&&rt!==(rt=(f[1].build_time||"Unknown")+"")&&te(yt,rt),_&2&&it!==(it=(f[1].git_commit||"Unknown")+"")&&te(Et,it),_&2&&dt!==(dt=(f[1].go_version||"Unknown")+"")&&te(Dt,dt),_&1&&ut!==(ut=f[0].games_count+"")&&te(wt,ut),_&1&&ft!==(ft=f[0].platforms_count+"")&&te(xt,ft),_&1&&mt!==(mt=f[0].sessions_count+"")&&te(Tt,mt)},i:gl,o:gl,d(f){f&&a(t),X.d(),Y.d(),Z.d(),I&&I.d(),L&&L.d(),$.d(),Es=!1,El($s)}}}function yl(r,t){const l=URL.createObjectURL(r),e=document.createElement("a");e.href=l,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(l)}function jl(r,t,l){let e={games_count:0,platforms_count:0,sessions_count:0,files_count:0},d={version:"",build_time:"",git_commit:"",go_version:""},k="Checking...",O="",M=!1,T=null,N=!1,x=!1,E=!1,W=!1,S=!1,y=!1;Tl(async()=>{await Promise.all([p(),D(),se()])});async function p(){try{l(0,e=await A.getBackupInfo())}catch{K("Error","Failed to load backup info")}}async function D(){try{l(1,d=await A.getVersion())}catch{K("Error","Failed to load version info")}}async function se(){try{const u=await A.testNextcloudConnection();l(2,k=u.status),l(3,O=u.message),l(4,M=u.status==="success")}catch{l(2,k="Not configured"),l(3,O="Nextcloud connection not available"),l(4,M=!1)}}async function j(){l(7,x=!0);try{const u=await A.exportDatabase();yl(u,`pelico-backup-${new Date().toISOString().slice(0,10)}.json`),at("Export Complete","Database backup downloaded successfully")}catch(u){K("Export Failed",u.message)}finally{l(7,x=!1)}}async function R(){l(8,E=!0);try{const u=await A.exportGames();yl(u,`pelico-games-${new Date().toISOString().slice(0,10)}.json`),at("Export Complete","Games data downloaded successfully")}catch(u){K("Export Failed",u.message)}finally{l(8,E=!1)}}async function le(){if(T&&confirm("This will replace all existing data. Are you sure?")){l(6,N=!0);try{await A.importDatabase(T),at("Import Complete","Database restored successfully. Page will reload."),setTimeout(()=>window.location.reload(),2e3)}catch(u){K("Import Failed",u.message)}finally{l(6,N=!1)}}}async function pt(){l(9,W=!0);try{const u=await A.backupToNextcloud();at("Backup Complete",u.message)}catch(u){K("Backup Failed",u.message)}finally{l(9,W=!1)}}async function nt(){l(10,S=!0);try{const u=await A.exportGames(),be=new FormData,U=`pelico-games-${new Date().toISOString().slice(0,10)}.json`;be.append("backup",u,U);const _e=await A.backupToNextcloud();at("Games Upload Complete","Games data uploaded to Nextcloud successfully")}catch(u){K("Upload Failed",u.message)}finally{l(10,S=!1)}}async function q(){l(11,y=!0);try{const u=await A.testNextcloudConnection();u.status==="success"?at("Connection Test",u.message):K("Connection Test",u.message),l(2,k=u.status),l(3,O=u.message),l(4,M=u.status==="success")}catch(u){K("Connection Test Failed",u.message),l(2,k="error"),l(3,O="Connection failed"),l(4,M=!1)}finally{l(11,y=!1)}}async function B(){Il("Refreshing","Clearing cache and refreshing data...");try{await A.clearCache(),window.location.reload()}catch(u){K("Refresh Failed",u.message)}}function ot(u){const be=u.target;l(5,T=be.files?.[0]||null)}return[e,d,k,O,M,T,N,x,E,W,S,y,j,R,le,pt,nt,q,B,ot]}class Kl extends Dl{constructor(t){super(),wl(this,t,jl,Al,xl,{})}}export{Kl as component};
