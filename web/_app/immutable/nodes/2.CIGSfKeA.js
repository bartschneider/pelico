import{S as Gt,i as St,s as Nt,d as a,H as ut,u as jt,D as fe,E as ne,o as n,F as Xe,b as N,c as t,I as ht,m as dt,e as o,f as h,p as z,h as b,g as U,J as vt,q as Ye,j as r,k as g,t as W,K as mt,r as Ft,n as Ve,y as ct,a as ie,G as Ze}from"../chunks/kp0KmzAt.js";import{e as ft,u as Pt,o as At}from"../chunks/NZ8AIpzC.js";import"../chunks/IHki7fMi.js";import{a as Fe,A as it}from"../chunks/CGvhUVsK.js";import{G as $t}from"../chunks/DUTJA_9k.js";import{G as Rt,a as zt}from"../chunks/C_FSMx5Z.js";function kt(f,e,l){const s=f.slice();return s[18]=e[l],s}function yt(f,e,l){const s=f.slice();return s[18]=e[l],s}function Ot(f){let e,l,s,d,v,u,m=`<i class="fas fa-history me-2"></i>
              Recently Played`,E,I,i,c,_,G,A,y,w,S,$,K=`<i class="fas fa-plus-circle me-2"></i>
              Recently Added`,J,C,M,x,T,Q,P=f[0]&&Vt(f),D=f[1].length>0&&Ct(f);const p=[Wt,Ut],V=[];function Y(k,j){return k[1].length===0?0:1}c=Y(f),_=V[c]=p[c](f);let H=f[2].length>0&&Mt(f);const X=[Kt,Jt],ee=[];function ue(k,j){return k[2].length===0?0:1}return x=ue(f),T=ee[x]=X[x](f),{c(){P&&P.c(),e=g(),l=r("div"),s=r("div"),d=r("div"),v=r("div"),u=r("h5"),u.innerHTML=m,E=g(),D&&D.c(),I=g(),i=r("div"),_.c(),G=g(),A=r("div"),y=r("div"),w=r("div"),S=r("div"),$=r("h5"),$.innerHTML=K,J=g(),H&&H.c(),C=g(),M=r("div"),T.c(),this.h()},l(k){P&&P.l(k),e=b(k),l=o(k,"DIV",{class:!0});var j=h(l);s=o(j,"DIV",{class:!0});var ce=h(s);d=o(ce,"DIV",{class:!0});var B=h(d);v=o(B,"DIV",{class:!0});var le=h(v);u=o(le,"H5",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-tlwnjx"&&(u.innerHTML=m),E=b(le),D&&D.l(le),le.forEach(a),I=b(B),i=o(B,"DIV",{class:!0});var te=h(i);_.l(te),te.forEach(a),B.forEach(a),ce.forEach(a),j.forEach(a),G=b(k),A=o(k,"DIV",{class:!0});var ge=h(A);y=o(ge,"DIV",{class:!0});var he=h(y);w=o(he,"DIV",{class:!0});var O=h(w);S=o(O,"DIV",{class:!0});var ve=h(S);$=o(ve,"H5",{class:!0,"data-svelte-h":!0}),z($)!=="svelte-d8elzb"&&($.innerHTML=K),J=b(ve),H&&H.l(ve),ve.forEach(a),C=b(O),M=o(O,"DIV",{class:!0});var we=h(M);T.l(we),we.forEach(a),O.forEach(a),he.forEach(a),ge.forEach(a),this.h()},h(){n(u,"class","mb-0"),n(v,"class","card-header d-flex justify-content-between align-items-center"),n(i,"class","card-body"),n(d,"class","card"),n(s,"class","col-12"),n(l,"class","row mb-4"),n($,"class","mb-0"),n(S,"class","card-header d-flex justify-content-between align-items-center"),n(M,"class","card-body"),n(w,"class","card"),n(y,"class","col-12"),n(A,"class","row mb-4")},m(k,j){P&&P.m(k,j),N(k,e,j),N(k,l,j),t(l,s),t(s,d),t(d,v),t(v,u),t(v,E),D&&D.m(v,null),t(d,I),t(d,i),V[c].m(i,null),N(k,G,j),N(k,A,j),t(A,y),t(y,w),t(w,S),t(S,$),t(S,J),H&&H.m(S,null),t(w,C),t(w,M),ee[x].m(M,null),Q=!0},p(k,j){k[0]?P?P.p(k,j):(P=Vt(k),P.c(),P.m(e.parentNode,e)):P&&(P.d(1),P=null),k[1].length>0?D?D.p(k,j):(D=Ct(k),D.c(),D.m(v,null)):D&&(D.d(1),D=null);let ce=c;c=Y(k),c===ce?V[c].p(k,j):(Ze(),fe(V[ce],1,1,()=>{V[ce]=null}),Xe(),_=V[c],_?_.p(k,j):(_=V[c]=p[c](k),_.c()),ne(_,1),_.m(i,null)),k[2].length>0?H?H.p(k,j):(H=Mt(k),H.c(),H.m(S,null)):H&&(H.d(1),H=null);let B=x;x=ue(k),x===B?ee[x].p(k,j):(Ze(),fe(ee[B],1,1,()=>{ee[B]=null}),Xe(),T=ee[x],T?T.p(k,j):(T=ee[x]=X[x](k),T.c()),ne(T,1),T.m(M,null))},i(k){Q||(ne(_),ne(T),Q=!0)},o(k){fe(_),fe(T),Q=!1},d(k){k&&(a(e),a(l),a(G),a(A)),P&&P.d(k),D&&D.d(),V[c].d(),H&&H.d(),ee[x].d()}}}function qt(f){let e,l,s,d,v,u,m,E="Try Again",I,i;return{c(){e=r("div"),l=r("i"),s=g(),d=r("div"),v=W(f[5]),u=g(),m=r("button"),m.textContent=E,this.h()},l(c){e=o(c,"DIV",{class:!0});var _=h(e);l=o(_,"I",{class:!0}),h(l).forEach(a),s=b(_),d=o(_,"DIV",{});var G=h(d);v=U(G,f[5]),u=b(G),m=o(G,"BUTTON",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-10cr3o9"&&(m.textContent=E),G.forEach(a),_.forEach(a),this.h()},h(){n(l,"class","fas fa-exclamation-triangle me-2"),n(m,"class","btn btn-sm btn-outline-danger ms-2"),n(e,"class","alert alert-danger d-flex align-items-center")},m(c,_){N(c,e,_),t(e,l),t(e,s),t(e,d),t(d,v),t(d,u),t(d,m),I||(i=dt(m,"click",f[9]),I=!0)},p(c,_){_&32&&ie(v,c[5])},i:Ve,o:Ve,d(c){c&&a(e),I=!1,i()}}}function Bt(f){let e,l='<div class="text-center"><div class="spinner-border text-primary mb-3" role="status"><span class="visually-hidden">Loading...</span></div> <p class="text-muted">Loading dashboard...</p></div>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),z(e)!=="svelte-1xbbkmy"&&(e.innerHTML=l),this.h()},h(){n(e,"class","d-flex justify-content-center align-items-center"),ct(e,"height","300px")},m(s,d){N(s,e,d)},p:Ve,i:Ve,o:Ve,d(s){s&&a(e)}}}function Vt(f){let e,l,s,d,v,u,m,E="Total Games",I,i,c=f[0].total_games+"",_,G,A,y,w,S,$,K,J="Platforms",C,M,x=f[0].total_platforms+"",T,Q,P,D,p,V,Y,H,X="Play Sessions",ee,ue,k=f[0].total_sessions+"",j,ce,B,le,te,ge,he,O,ve="Total Hours",we,me,Se=(f[0].playtime_stats?.total_hours||0)+"",Ne,Ce,Ee,Ie,de,ae,He,xe,Ue="Shortlist",De,se,ke=f[0].total_shortlist+"",Le,Re,Me,oe,re,Te,ze,_e,Oe="Wishlist",qe,q,Z=f[0].total_wishlist+"",Be,Pe,ye,F=f[0].completion_stats&&wt(f);return{c(){e=r("div"),l=r("div"),s=r("div"),d=r("div"),v=r("i"),u=g(),m=r("h6"),m.textContent=E,I=g(),i=r("p"),_=W(c),G=g(),A=r("div"),y=r("div"),w=r("div"),S=r("i"),$=g(),K=r("h6"),K.textContent=J,C=g(),M=r("p"),T=W(x),Q=g(),P=r("div"),D=r("div"),p=r("div"),V=r("i"),Y=g(),H=r("h6"),H.textContent=X,ee=g(),ue=r("p"),j=W(k),ce=g(),B=r("div"),le=r("div"),te=r("div"),ge=r("i"),he=g(),O=r("h6"),O.textContent=ve,we=g(),me=r("p"),Ne=W(Se),Ce=g(),Ee=r("div"),Ie=r("div"),de=r("div"),ae=r("i"),He=g(),xe=r("h6"),xe.textContent=Ue,De=g(),se=r("p"),Le=W(ke),Re=g(),Me=r("div"),oe=r("div"),re=r("div"),Te=r("i"),ze=g(),_e=r("h6"),_e.textContent=Oe,qe=g(),q=r("p"),Be=W(Z),Pe=g(),F&&F.c(),ye=Ye(),this.h()},l(R){e=o(R,"DIV",{class:!0});var L=h(e);l=o(L,"DIV",{class:!0});var et=h(l);s=o(et,"DIV",{class:!0});var tt=h(s);d=o(tt,"DIV",{class:!0});var pe=h(d);v=o(pe,"I",{class:!0}),h(v).forEach(a),u=b(pe),m=o(pe,"H6",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-1a9i4pr"&&(m.textContent=E),I=b(pe),i=o(pe,"P",{class:!0});var lt=h(i);_=U(lt,c),lt.forEach(a),pe.forEach(a),tt.forEach(a),et.forEach(a),G=b(L),A=o(L,"DIV",{class:!0});var st=h(A);y=o(st,"DIV",{class:!0});var Ae=h(y);w=o(Ae,"DIV",{class:!0});var $e=h(w);S=o($e,"I",{class:!0}),h(S).forEach(a),$=b($e),K=o($e,"H6",{class:!0,"data-svelte-h":!0}),z(K)!=="svelte-33njsa"&&(K.textContent=J),C=b($e),M=o($e,"P",{class:!0});var at=h(M);T=U(at,x),at.forEach(a),$e.forEach(a),Ae.forEach(a),st.forEach(a),Q=b(L),P=o(L,"DIV",{class:!0});var Ge=h(P);D=o(Ge,"DIV",{class:!0});var ot=h(D);p=o(ot,"DIV",{class:!0});var be=h(p);V=o(be,"I",{class:!0}),h(V).forEach(a),Y=b(be),H=o(be,"H6",{class:!0,"data-svelte-h":!0}),z(H)!=="svelte-1qe5qi5"&&(H.textContent=X),ee=b(be),ue=o(be,"P",{class:!0});var rt=h(ue);j=U(rt,k),rt.forEach(a),be.forEach(a),ot.forEach(a),Ge.forEach(a),ce=b(L),B=o(L,"DIV",{class:!0});var We=h(B);le=o(We,"DIV",{class:!0});var je=h(le);te=o(je,"DIV",{class:!0});var Je=h(te);ge=o(Je,"I",{class:!0}),h(ge).forEach(a),he=b(Je),O=o(Je,"H6",{class:!0,"data-svelte-h":!0}),z(O)!=="svelte-1drisfj"&&(O.textContent=ve),we=b(Je),me=o(Je,"P",{class:!0});var _t=h(me);Ne=U(_t,Se),_t.forEach(a),Je.forEach(a),je.forEach(a),We.forEach(a),Ce=b(L),Ee=o(L,"DIV",{class:!0});var pt=h(Ee);Ie=o(pt,"DIV",{class:!0});var bt=h(Ie);de=o(bt,"DIV",{class:!0});var Ke=h(de);ae=o(Ke,"I",{class:!0}),h(ae).forEach(a),He=b(Ke),xe=o(Ke,"H6",{class:!0,"data-svelte-h":!0}),z(xe)!=="svelte-in51is"&&(xe.textContent=Ue),De=b(Ke),se=o(Ke,"P",{class:!0});var gt=h(se);Le=U(gt,ke),gt.forEach(a),Ke.forEach(a),bt.forEach(a),pt.forEach(a),Re=b(L),Me=o(L,"DIV",{class:!0});var Et=h(Me);oe=o(Et,"DIV",{class:!0});var It=h(oe);re=o(It,"DIV",{class:!0});var Qe=h(re);Te=o(Qe,"I",{class:!0}),h(Te).forEach(a),ze=b(Qe),_e=o(Qe,"H6",{class:!0,"data-svelte-h":!0}),z(_e)!=="svelte-9rj5pr"&&(_e.textContent=Oe),qe=b(Qe),q=o(Qe,"P",{class:!0});var Dt=h(q);Be=U(Dt,Z),Dt.forEach(a),Qe.forEach(a),It.forEach(a),Et.forEach(a),L.forEach(a),Pe=b(R),F&&F.l(R),ye=Ye(),this.h()},h(){n(v,"class","fas fa-gamepad fa-2x mb-2"),n(m,"class","card-title"),n(i,"class","card-text fs-3 fw-bold mb-0"),n(d,"class","card-body"),n(s,"class","card text-center h-100 bg-primary text-white"),n(l,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(S,"class","fas fa-desktop fa-2x mb-2"),n(K,"class","card-title"),n(M,"class","card-text fs-3 fw-bold mb-0"),n(w,"class","card-body"),n(y,"class","card text-center h-100 bg-secondary text-white"),n(A,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(V,"class","fas fa-play fa-2x mb-2"),n(H,"class","card-title"),n(ue,"class","card-text fs-3 fw-bold mb-0"),n(p,"class","card-body"),n(D,"class","card text-center h-100 bg-success text-white"),n(P,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(ge,"class","fas fa-clock fa-2x mb-2"),n(O,"class","card-title"),n(me,"class","card-text fs-3 fw-bold mb-0"),n(te,"class","card-body"),n(le,"class","card text-center h-100 bg-info text-white"),n(B,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(ae,"class","fas fa-list fa-2x mb-2"),n(xe,"class","card-title"),n(se,"class","card-text fs-3 fw-bold mb-0"),n(de,"class","card-body"),n(Ie,"class","card text-center h-100 bg-warning text-dark"),n(Ee,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(Te,"class","fas fa-heart fa-2x mb-2"),n(_e,"class","card-title"),n(q,"class","card-text fs-3 fw-bold mb-0"),n(re,"class","card-body"),n(oe,"class","card text-center h-100 bg-danger text-white"),n(Me,"class","col-lg-2 col-md-4 col-sm-6 mb-3"),n(e,"class","row mb-4")},m(R,L){N(R,e,L),t(e,l),t(l,s),t(s,d),t(d,v),t(d,u),t(d,m),t(d,I),t(d,i),t(i,_),t(e,G),t(e,A),t(A,y),t(y,w),t(w,S),t(w,$),t(w,K),t(w,C),t(w,M),t(M,T),t(e,Q),t(e,P),t(P,D),t(D,p),t(p,V),t(p,Y),t(p,H),t(p,ee),t(p,ue),t(ue,j),t(e,ce),t(e,B),t(B,le),t(le,te),t(te,ge),t(te,he),t(te,O),t(te,we),t(te,me),t(me,Ne),t(e,Ce),t(e,Ee),t(Ee,Ie),t(Ie,de),t(de,ae),t(de,He),t(de,xe),t(de,De),t(de,se),t(se,Le),t(e,Re),t(e,Me),t(Me,oe),t(oe,re),t(re,Te),t(re,ze),t(re,_e),t(re,qe),t(re,q),t(q,Be),N(R,Pe,L),F&&F.m(R,L),N(R,ye,L)},p(R,L){L&1&&c!==(c=R[0].total_games+"")&&ie(_,c),L&1&&x!==(x=R[0].total_platforms+"")&&ie(T,x),L&1&&k!==(k=R[0].total_sessions+"")&&ie(j,k),L&1&&Se!==(Se=(R[0].playtime_stats?.total_hours||0)+"")&&ie(Ne,Se),L&1&&ke!==(ke=R[0].total_shortlist+"")&&ie(Le,ke),L&1&&Z!==(Z=R[0].total_wishlist+"")&&ie(Be,Z),R[0].completion_stats?F?F.p(R,L):(F=wt(R),F.c(),F.m(ye.parentNode,ye)):F&&(F.d(1),F=null)},d(R){R&&(a(e),a(Pe),a(ye)),F&&F.d(R)}}}function wt(f){let e,l,s,d,v=`<h5 class="mb-0"><i class="fas fa-trophy me-2"></i>
                  Completion Progress</h5>`,u,m,E,I,i,c,_,G,A="Completed",y,w,S=f[0].completion_stats.completed+"",$,K,J,C,M,x,T,Q="In Progress",P,D,p=f[0].completion_stats.in_progress+"",V,Y,H,X,ee,ue,k,j="Not Started",ce,B,le=f[0].completion_stats.not_started+"",te,ge,he,O,ve,we,me,Se="Abandoned",Ne,Ce,Ee=f[0].completion_stats.abandoned+"",Ie,de,ae,He,xe="Overall Completion Rate",Ue,De,se,ke=nt(f[0].completion_stats.completed,f[0].total_games)+"",Le,Re,Me,oe,re=f[0].completion_stats.completed+"",Te,ze,_e=f[0].total_games+"",Oe,qe;return{c(){e=r("div"),l=r("div"),s=r("div"),d=r("div"),d.innerHTML=v,u=g(),m=r("div"),E=r("div"),I=r("div"),i=r("div"),c=r("i"),_=g(),G=r("h6"),G.textContent=A,y=g(),w=r("span"),$=W(S),K=g(),J=r("div"),C=r("div"),M=r("i"),x=g(),T=r("h6"),T.textContent=Q,P=g(),D=r("span"),V=W(p),Y=g(),H=r("div"),X=r("div"),ee=r("i"),ue=g(),k=r("h6"),k.textContent=j,ce=g(),B=r("span"),te=W(le),ge=g(),he=r("div"),O=r("div"),ve=r("i"),we=g(),me=r("h6"),me.textContent=Se,Ne=g(),Ce=r("span"),Ie=W(Ee),de=g(),ae=r("div"),He=r("h6"),He.textContent=xe,Ue=g(),De=r("div"),se=r("div"),Le=W(ke),Re=W("%"),Me=g(),oe=r("p"),Te=W(re),ze=W(" of "),Oe=W(_e),qe=W(" games completed"),this.h()},l(q){e=o(q,"DIV",{class:!0});var Z=h(e);l=o(Z,"DIV",{class:!0});var Be=h(l);s=o(Be,"DIV",{class:!0});var Pe=h(s);d=o(Pe,"DIV",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-15kzp07"&&(d.innerHTML=v),u=b(Pe),m=o(Pe,"DIV",{class:!0});var ye=h(m);E=o(ye,"DIV",{class:!0});var F=h(E);I=o(F,"DIV",{class:!0});var R=h(I);i=o(R,"DIV",{class:!0});var L=h(i);c=o(L,"I",{class:!0}),h(c).forEach(a),_=b(L),G=o(L,"H6",{"data-svelte-h":!0}),z(G)!=="svelte-fv7s79"&&(G.textContent=A),y=b(L),w=o(L,"SPAN",{class:!0});var et=h(w);$=U(et,S),et.forEach(a),L.forEach(a),R.forEach(a),K=b(F),J=o(F,"DIV",{class:!0});var tt=h(J);C=o(tt,"DIV",{class:!0});var pe=h(C);M=o(pe,"I",{class:!0}),h(M).forEach(a),x=b(pe),T=o(pe,"H6",{"data-svelte-h":!0}),z(T)!=="svelte-xnaco4"&&(T.textContent=Q),P=b(pe),D=o(pe,"SPAN",{class:!0});var lt=h(D);V=U(lt,p),lt.forEach(a),pe.forEach(a),tt.forEach(a),Y=b(F),H=o(F,"DIV",{class:!0});var st=h(H);X=o(st,"DIV",{class:!0});var Ae=h(X);ee=o(Ae,"I",{class:!0}),h(ee).forEach(a),ue=b(Ae),k=o(Ae,"H6",{"data-svelte-h":!0}),z(k)!=="svelte-k1p612"&&(k.textContent=j),ce=b(Ae),B=o(Ae,"SPAN",{class:!0});var $e=h(B);te=U($e,le),$e.forEach(a),Ae.forEach(a),st.forEach(a),ge=b(F),he=o(F,"DIV",{class:!0});var at=h(he);O=o(at,"DIV",{class:!0});var Ge=h(O);ve=o(Ge,"I",{class:!0}),h(ve).forEach(a),we=b(Ge),me=o(Ge,"H6",{"data-svelte-h":!0}),z(me)!=="svelte-qci1b6"&&(me.textContent=Se),Ne=b(Ge),Ce=o(Ge,"SPAN",{class:!0});var ot=h(Ce);Ie=U(ot,Ee),ot.forEach(a),Ge.forEach(a),at.forEach(a),F.forEach(a),de=b(ye),ae=o(ye,"DIV",{class:!0});var be=h(ae);He=o(be,"H6",{"data-svelte-h":!0}),z(He)!=="svelte-6xxneh"&&(He.textContent=xe),Ue=b(be),De=o(be,"DIV",{class:!0,style:!0});var rt=h(De);se=o(rt,"DIV",{class:!0,role:!0,style:!0});var We=h(se);Le=U(We,ke),Re=U(We,"%"),We.forEach(a),rt.forEach(a),Me=b(be),oe=o(be,"P",{class:!0});var je=h(oe);Te=U(je,re),ze=U(je," of "),Oe=U(je,_e),qe=U(je," games completed"),je.forEach(a),be.forEach(a),ye.forEach(a),Pe.forEach(a),Be.forEach(a),Z.forEach(a),this.h()},h(){n(d,"class","card-header"),n(c,"class","fas fa-check-circle fa-2x mb-1"),n(w,"class","fs-4 fw-bold"),n(i,"class","completion-stat text-success svelte-7xe000"),n(I,"class","col-3"),n(M,"class","fas fa-play-circle fa-2x mb-1"),n(D,"class","fs-4 fw-bold"),n(C,"class","completion-stat text-warning svelte-7xe000"),n(J,"class","col-3"),n(ee,"class","fas fa-pause-circle fa-2x mb-1"),n(B,"class","fs-4 fw-bold"),n(X,"class","completion-stat text-muted svelte-7xe000"),n(H,"class","col-3"),n(ve,"class","fas fa-times-circle fa-2x mb-1"),n(Ce,"class","fs-4 fw-bold"),n(O,"class","completion-stat text-danger svelte-7xe000"),n(he,"class","col-3"),n(E,"class","row text-center"),n(se,"class","progress-bar bg-success"),n(se,"role","progressbar"),ct(se,"width",nt(f[0].completion_stats.completed,f[0].total_games)+"%"),n(De,"class","progress mb-2"),ct(De,"height","20px"),n(oe,"class","text-muted mb-0"),n(ae,"class","text-center mt-3"),n(m,"class","card-body"),n(s,"class","card"),n(l,"class","col-12"),n(e,"class","row mb-4")},m(q,Z){N(q,e,Z),t(e,l),t(l,s),t(s,d),t(s,u),t(s,m),t(m,E),t(E,I),t(I,i),t(i,c),t(i,_),t(i,G),t(i,y),t(i,w),t(w,$),t(E,K),t(E,J),t(J,C),t(C,M),t(C,x),t(C,T),t(C,P),t(C,D),t(D,V),t(E,Y),t(E,H),t(H,X),t(X,ee),t(X,ue),t(X,k),t(X,ce),t(X,B),t(B,te),t(E,ge),t(E,he),t(he,O),t(O,ve),t(O,we),t(O,me),t(O,Ne),t(O,Ce),t(Ce,Ie),t(m,de),t(m,ae),t(ae,He),t(ae,Ue),t(ae,De),t(De,se),t(se,Le),t(se,Re),t(ae,Me),t(ae,oe),t(oe,Te),t(oe,ze),t(oe,Oe),t(oe,qe)},p(q,Z){Z&1&&S!==(S=q[0].completion_stats.completed+"")&&ie($,S),Z&1&&p!==(p=q[0].completion_stats.in_progress+"")&&ie(V,p),Z&1&&le!==(le=q[0].completion_stats.not_started+"")&&ie(te,le),Z&1&&Ee!==(Ee=q[0].completion_stats.abandoned+"")&&ie(Ie,Ee),Z&1&&ke!==(ke=nt(q[0].completion_stats.completed,q[0].total_games)+"")&&ie(Le,ke),Z&1&&ct(se,"width",nt(q[0].completion_stats.completed,q[0].total_games)+"%"),Z&1&&re!==(re=q[0].completion_stats.completed+"")&&ie(Te,re),Z&1&&_e!==(_e=q[0].total_games+"")&&ie(Oe,_e)},d(q){q&&a(e)}}}function Ct(f){let e,l=f[1].length+"",s,d;return{c(){e=r("small"),s=W(l),d=W(" games"),this.h()},l(v){e=o(v,"SMALL",{class:!0});var u=h(e);s=U(u,l),d=U(u," games"),u.forEach(a),this.h()},h(){n(e,"class","text-muted")},m(v,u){N(v,e,u),t(e,s),t(e,d)},p(v,u){u&2&&l!==(l=v[1].length+"")&&ie(s,l)},d(v){v&&a(e)}}}function Ut(f){let e,l=[],s=new Map,d,v,u,m=ft(f[1].slice(0,5));const E=i=>i[18].id;for(let i=0;i<m.length;i+=1){let c=yt(f,m,i),_=E(c);s.set(_,l[i]=Ht(_,c))}let I=f[1].length>5&&xt();return{c(){e=r("div");for(let i=0;i<l.length;i+=1)l[i].c();d=g(),I&&I.c(),v=Ye(),this.h()},l(i){e=o(i,"DIV",{class:!0});var c=h(e);for(let _=0;_<l.length;_+=1)l[_].l(c);c.forEach(a),d=b(i),I&&I.l(i),v=Ye(),this.h()},h(){n(e,"class","row")},m(i,c){N(i,e,c);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);N(i,d,c),I&&I.m(i,c),N(i,v,c),u=!0},p(i,c){c&55298&&(m=ft(i[1].slice(0,5)),Ze(),l=Pt(l,c,E,1,i,m,s,e,At,Ht,null,yt),Xe()),i[1].length>5?I||(I=xt(),I.c(),I.m(v.parentNode,v)):I&&(I.d(1),I=null)},i(i){if(!u){for(let c=0;c<m.length;c+=1)ne(l[c]);u=!0}},o(i){for(let c=0;c<l.length;c+=1)fe(l[c]);u=!1},d(i){i&&(a(e),a(d),a(v));for(let c=0;c<l.length;c+=1)l[c].d();I&&I.d(i)}}}function Wt(f){let e,l='<i class="fas fa-play fa-3x text-muted mb-3"></i> <h6>No recent sessions</h6> <p class="text-muted">Start playing games to see them here!</p>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-b5cck8"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center py-4")},m(s,d){N(s,e,d)},p:Ve,i:Ve,o:Ve,d(s){s&&a(e)}}}function Ht(f,e){let l,s,d,v;return s=new $t({props:{game:e[18]}}),s.$on("edit",e[11]),s.$on("delete",e[12]),s.$on("log",e[14]),s.$on("view",e[15]),{key:f,first:null,c(){l=r("div"),mt(s.$$.fragment),d=g(),this.h()},l(u){l=o(u,"DIV",{class:!0});var m=h(l);vt(s.$$.fragment,m),d=b(m),m.forEach(a),this.h()},h(){n(l,"class","col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-3"),this.first=l},m(u,m){N(u,l,m),ht(s,l,null),t(l,d),v=!0},p(u,m){e=u;const E={};m&2&&(E.game=e[18]),s.$set(E)},i(u){v||(ne(s.$$.fragment,u),v=!0)},o(u){fe(s.$$.fragment,u),v=!1},d(u){u&&a(l),ut(s)}}}function xt(f){let e,l='<a href="/collection" class="btn btn-outline-primary">View All Recent Games</a>';return{c(){e=r("div"),e.innerHTML=l,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1bemib1"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center")},m(s,d){N(s,e,d)},d(s){s&&a(e)}}}function Mt(f){let e,l=f[2].length+"",s,d;return{c(){e=r("small"),s=W(l),d=W(" games"),this.h()},l(v){e=o(v,"SMALL",{class:!0});var u=h(e);s=U(u,l),d=U(u," games"),u.forEach(a),this.h()},h(){n(e,"class","text-muted")},m(v,u){N(v,e,u),t(e,s),t(e,d)},p(v,u){u&4&&l!==(l=v[2].length+"")&&ie(s,l)},d(v){v&&a(e)}}}function Jt(f){let e,l=[],s=new Map,d,v,u='<a href="/collection" class="btn btn-outline-primary"><i class="fas fa-eye me-1"></i> View Full Collection</a>',m,E=ft(f[2]);const I=i=>i[18].id;for(let i=0;i<E.length;i+=1){let c=kt(f,E,i),_=I(c);s.set(_,l[i]=Tt(_,c))}return{c(){e=r("div");for(let i=0;i<l.length;i+=1)l[i].c();d=g(),v=r("div"),v.innerHTML=u,this.h()},l(i){e=o(i,"DIV",{class:!0});var c=h(e);for(let _=0;_<l.length;_+=1)l[_].l(c);c.forEach(a),d=b(i),v=o(i,"DIV",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-o00scw"&&(v.innerHTML=u),this.h()},h(){n(e,"class","row"),n(v,"class","text-center")},m(i,c){N(i,e,c);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);N(i,d,c),N(i,v,c),m=!0},p(i,c){c&55300&&(E=ft(i[2]),Ze(),l=Pt(l,c,I,1,i,E,s,e,At,Tt,null,kt),Xe())},i(i){if(!m){for(let c=0;c<E.length;c+=1)ne(l[c]);m=!0}},o(i){for(let c=0;c<l.length;c+=1)fe(l[c]);m=!1},d(i){i&&(a(e),a(d),a(v));for(let c=0;c<l.length;c+=1)l[c].d()}}}function Kt(f){let e,l,s,d,v="No games yet",u,m,E="Add your first game to get started!",I,i,c='<i class="fas fa-plus me-1"></i> Add Game',_,G;return{c(){e=r("div"),l=r("i"),s=g(),d=r("h6"),d.textContent=v,u=g(),m=r("p"),m.textContent=E,I=g(),i=r("button"),i.innerHTML=c,this.h()},l(A){e=o(A,"DIV",{class:!0});var y=h(e);l=o(y,"I",{class:!0}),h(l).forEach(a),s=b(y),d=o(y,"H6",{"data-svelte-h":!0}),z(d)!=="svelte-1r5zzm0"&&(d.textContent=v),u=b(y),m=o(y,"P",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-1varcz7"&&(m.textContent=E),I=b(y),i=o(y,"BUTTON",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-1ke8yth"&&(i.innerHTML=c),y.forEach(a),this.h()},h(){n(l,"class","fas fa-gamepad fa-3x text-muted mb-3"),n(m,"class","text-muted"),n(i,"class","btn btn-primary"),n(e,"class","text-center py-4")},m(A,y){N(A,e,y),t(e,l),t(e,s),t(e,d),t(e,u),t(e,m),t(e,I),t(e,i),_||(G=dt(i,"click",f[10]),_=!0)},p:Ve,i:Ve,o:Ve,d(A){A&&a(e),_=!1,G()}}}function Tt(f,e){let l,s,d,v;return s=new $t({props:{game:e[18]}}),s.$on("edit",e[11]),s.$on("delete",e[12]),s.$on("log",e[14]),s.$on("view",e[15]),{key:f,first:null,c(){l=r("div"),mt(s.$$.fragment),d=g(),this.h()},l(u){l=o(u,"DIV",{class:!0});var m=h(l);vt(s.$$.fragment,m),d=b(m),m.forEach(a),this.h()},h(){n(l,"class","col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-3"),this.first=l},m(u,m){N(u,l,m),ht(s,l,null),t(l,d),v=!0},p(u,m){e=u;const E={};m&4&&(E.game=e[18]),s.$set(E)},i(u){v||(ne(s.$$.fragment,u),v=!0)},o(u){fe(s.$$.fragment,u),v=!1},d(u){u&&a(l),ut(s)}}}function Lt(f){let e,l;return e=new zt({props:{game:f[8],show:f[7]}}),e.$on("close",f[17]),e.$on("edit",f[11]),e.$on("delete",f[12]),e.$on("log",f[14]),{c(){mt(e.$$.fragment)},l(s){vt(e.$$.fragment,s)},m(s,d){ht(e,s,d),l=!0},p(s,d){const v={};d&256&&(v.game=s[8]),d&128&&(v.show=s[7]),e.$set(v)},i(s){l||(ne(e.$$.fragment,s),l=!0)},o(s){fe(e.$$.fragment,s),l=!1},d(s){ut(e,s)}}}function Qt(f){let e,l,s,d=`<h1><i class="fas fa-home me-2 text-primary"></i>
        Dashboard</h1> <p class="text-muted mb-0">Welcome to your game collection</p>`,v,u,m,E,I,i,c,_,G='<i class="fas fa-plus me-1"></i> Add Game',A,y,w,S,$,K,J,C,M,x;const T=[Bt,qt,Ot],Q=[];function P(p,V){return p[4]?0:p[5]?1:2}y=P(f),w=Q[y]=T[y](f),$=new Rt({props:{game:f[8],platforms:f[3],show:f[6]}}),$.$on("submit",f[13]),$.$on("close",f[16]);let D=f[7]&&f[8]&&Lt(f);return{c(){e=r("div"),l=r("div"),s=r("div"),s.innerHTML=d,v=g(),u=r("div"),m=r("button"),E=r("i"),i=W(" Refresh"),c=g(),_=r("button"),_.innerHTML=G,A=g(),w.c(),S=g(),mt($.$$.fragment),K=g(),D&&D.c(),J=Ye(),this.h()},l(p){e=o(p,"DIV",{class:!0});var V=h(e);l=o(V,"DIV",{class:!0});var Y=h(l);s=o(Y,"DIV",{"data-svelte-h":!0}),z(s)!=="svelte-1ctjr4a"&&(s.innerHTML=d),v=b(Y),u=o(Y,"DIV",{class:!0});var H=h(u);m=o(H,"BUTTON",{class:!0});var X=h(m);E=o(X,"I",{class:!0}),h(E).forEach(a),i=U(X," Refresh"),X.forEach(a),c=b(H),_=o(H,"BUTTON",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-mzv9ad"&&(_.innerHTML=G),H.forEach(a),Y.forEach(a),A=b(V),w.l(V),V.forEach(a),S=b(p),vt($.$$.fragment,p),K=b(p),D&&D.l(p),J=Ye(),this.h()},h(){n(E,"class",I="fas fa-sync-alt "+(f[4]?"fa-spin":"")),n(m,"class","btn btn-outline-secondary"),m.disabled=f[4],n(_,"class","btn btn-primary"),n(u,"class","d-flex gap-2"),n(l,"class","d-flex justify-content-between align-items-center mb-4"),n(e,"class","container-fluid mt-4")},m(p,V){N(p,e,V),t(e,l),t(l,s),t(l,v),t(l,u),t(u,m),t(m,E),t(m,i),t(u,c),t(u,_),t(e,A),Q[y].m(e,null),N(p,S,V),ht($,p,V),N(p,K,V),D&&D.m(p,V),N(p,J,V),C=!0,M||(x=[dt(m,"click",f[9]),dt(_,"click",f[10])],M=!0)},p(p,[V]){(!C||V&16&&I!==(I="fas fa-sync-alt "+(p[4]?"fa-spin":"")))&&n(E,"class",I),(!C||V&16)&&(m.disabled=p[4]);let Y=y;y=P(p),y===Y?Q[y].p(p,V):(Ze(),fe(Q[Y],1,1,()=>{Q[Y]=null}),Xe(),w=Q[y],w?w.p(p,V):(w=Q[y]=T[y](p),w.c()),ne(w,1),w.m(e,null));const H={};V&256&&(H.game=p[8]),V&8&&(H.platforms=p[3]),V&64&&(H.show=p[6]),$.$set(H),p[7]&&p[8]?D?(D.p(p,V),V&384&&ne(D,1)):(D=Lt(p),D.c(),ne(D,1),D.m(J.parentNode,J)):D&&(Ze(),fe(D,1,1,()=>{D=null}),Xe())},i(p){C||(ne(w),ne($.$$.fragment,p),ne(D),C=!0)},o(p){fe(w),fe($.$$.fragment,p),fe(D),C=!1},d(p){p&&(a(e),a(S),a(K),a(J)),Q[y].d(),ut($,p),D&&D.d(p),M=!1,jt(x)}}}function nt(f,e){return e>0?Math.round(f/e*100):0}function Xt(f,e,l){let s=null,d=[],v=[],u=[],m=!0,E=null,I=!1,i=!1,c=null;Ft(async()=>{await _()});async function _(){try{l(4,m=!0),l(5,E=null);const[C,M,x,T]=await Promise.all([Fe.getStats().catch(()=>null),Fe.getRecentlyPlayedGames().catch(()=>[]),Fe.getRecentlyAddedGames(5).catch(()=>[]),Fe.getPlatforms().catch(()=>[])]);l(0,s=C),l(1,d=M||[]),l(2,v=x||[]),l(3,u=T||[])}catch(C){C instanceof it?l(5,E=`Failed to load data: ${C.message}`):l(5,E="Error connecting to the backend. Please check if the server is running."),console.error("Load data error:",C)}finally{l(4,m=!1)}}function G(){l(8,c=null),l(6,I=!0)}function A(C){l(8,c=C.detail),l(7,i=!1),l(6,I=!0)}async function y(C){const M=C.detail;try{await Fe.deleteGame(M),await _()}catch(x){x instanceof it?alert(`Failed to delete game: ${x.message}`):alert("An error occurred while deleting the game."),console.error("Delete game error:",x)}}async function w(C){const M=C.detail,x=!!c;try{x&&c?await Fe.updateGame(c.id,M):await Fe.createGame(M),l(6,I=!1),await _()}catch(T){T instanceof it?alert(`Failed to save game: ${T.message}`):alert("An error occurred while saving the game."),console.error("Save game error:",T)}}async function S(C){const M=C.detail;try{await Fe.createSession(M,{play_time_minutes:60,notes:"",date_played:new Date().toISOString()}),await _()}catch(x){x instanceof it?alert(`Failed to log session: ${x.message}`):alert("An error occurred while logging the session."),console.error("Log session error:",x)}}function $(C){l(8,c=C.detail),l(7,i=!0)}return[s,d,v,u,m,E,I,i,c,_,G,A,y,w,S,$,()=>l(6,I=!1),()=>l(7,i=!1)]}class al extends Gt{constructor(e){super(),St(this,e,Xt,Qt,Nt,{})}}export{al as component};
