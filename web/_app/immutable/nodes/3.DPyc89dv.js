import{S as rt,i as it,s as ft,n as ue,d as c,b as C,q as je,L as mt,u as ut,a as be,v as pe,o as i,w as ct,c as u,m as $,x as dt,e as h,f as g,g as P,h as D,p as K,j as _,t as U,k as T,H as qe,D as fe,E as ae,F as Be,I as Re,J as ze,K as Je,r as ht,y as _t,G as Fe}from"../chunks/kp0KmzAt.js";import{e as Ze,u as pt,o as bt}from"../chunks/NZ8AIpzC.js";import"../chunks/IHki7fMi.js";import{a as Le,A as Ue}from"../chunks/CGvhUVsK.js";import{G as vt}from"../chunks/DUTJA_9k.js";import{G as gt,a as kt}from"../chunks/C_FSMx5Z.js";function xe(s){let t,e,l,n,a,r=s[2]?"Edit":"Log",o,f,m=s[1].title+"",k,b,w,y,V,p,I,A,N='Start Time <span class="text-danger">*</span>',ve,Q,X,q,ee,re="End Time",se,R,E,S,M,L,ce="Rating (1-10)",ne,B,me,te,ie,F="Notes",Ce,z,W,de,le=s[6].length+"",we,H,O,d,v,j,oe="Cancel",ye,Z,ge,he,ke=s[2]?"Update":"Log",Ee,Ke,Me,De,Qe,Ye,x=!s[4]&&$e(),Y=s[3]&&s[4]&&et(s);return{c(){t=_("div"),e=_("div"),l=_("div"),n=_("div"),a=_("h5"),o=U(r),f=U(" Play Session - "),k=U(m),b=T(),w=_("button"),y=T(),V=_("form"),p=_("div"),I=_("div"),A=_("label"),A.innerHTML=N,ve=T(),Q=_("input"),X=T(),q=_("div"),ee=_("label"),ee.textContent=re,se=T(),R=_("input"),E=T(),x&&x.c(),S=T(),M=_("div"),L=_("label"),L.textContent=ce,ne=T(),B=_("input"),me=T(),te=_("div"),ie=_("label"),ie.textContent=F,Ce=T(),z=_("textarea"),W=T(),de=_("small"),we=U(le),H=U("/1000 characters"),O=T(),Y&&Y.c(),d=T(),v=_("div"),j=_("button"),j.textContent=oe,ye=T(),Z=_("button"),ge=_("i"),he=T(),Ee=U(ke),Ke=U(" Session"),Me=T(),De=_("div"),this.h()},l(G){t=h(G,"DIV",{class:!0,tabindex:!0,role:!0});var J=g(t);e=h(J,"DIV",{class:!0,role:!0});var We=g(e);l=h(We,"DIV",{class:!0});var Ve=g(l);n=h(Ve,"DIV",{class:!0});var Ne=g(n);a=h(Ne,"H5",{class:!0});var Ge=g(a);o=P(Ge,r),f=P(Ge," Play Session - "),k=P(Ge,m),Ge.forEach(c),b=D(Ne),w=h(Ne,"BUTTON",{type:!0,class:!0,"aria-label":!0}),g(w).forEach(c),Ne.forEach(c),y=D(Ve),V=h(Ve,"FORM",{});var Ae=g(V);p=h(Ae,"DIV",{class:!0});var _e=g(p);I=h(_e,"DIV",{class:!0});var He=g(I);A=h(He,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(A)!=="svelte-pzu865"&&(A.innerHTML=N),ve=D(He),Q=h(He,"INPUT",{type:!0,class:!0,id:!0}),He.forEach(c),X=D(_e),q=h(_e,"DIV",{class:!0});var Te=g(q);ee=h(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(ee)!=="svelte-1op33g"&&(ee.textContent=re),se=D(Te),R=h(Te,"INPUT",{type:!0,class:!0,id:!0,min:!0}),E=D(Te),x&&x.l(Te),Te.forEach(c),S=D(_e),M=h(_e,"DIV",{class:!0});var Oe=g(M);L=h(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(L)!=="svelte-8t176m"&&(L.textContent=ce),ne=D(Oe),B=h(Oe,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0,placeholder:!0}),Oe.forEach(c),me=D(_e),te=h(_e,"DIV",{class:!0});var Ie=g(te);ie=h(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(ie)!=="svelte-1yxjg8a"&&(ie.textContent=F),Ce=D(Ie),z=h(Ie,"TEXTAREA",{class:!0,id:!0,rows:!0,placeholder:!0,maxlength:!0}),g(z).forEach(c),W=D(Ie),de=h(Ie,"SMALL",{class:!0});var Xe=g(de);we=P(Xe,le),H=P(Xe,"/1000 characters"),Xe.forEach(c),Ie.forEach(c),O=D(_e),Y&&Y.l(_e),_e.forEach(c),d=D(Ae),v=h(Ae,"DIV",{class:!0});var Pe=g(v);j=h(Pe,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(j)!=="svelte-t8h2xj"&&(j.textContent=oe),ye=D(Pe),Z=h(Pe,"BUTTON",{type:!0,class:!0});var Se=g(Z);ge=h(Se,"I",{class:!0}),g(ge).forEach(c),he=D(Se),Ee=P(Se,ke),Ke=P(Se," Session"),Se.forEach(c),Pe.forEach(c),Ae.forEach(c),Ve.forEach(c),We.forEach(c),J.forEach(c),Me=D(G),De=h(G,"DIV",{class:!0}),g(De).forEach(c),this.h()},h(){i(a,"class","modal-title"),i(w,"type","button"),i(w,"class","btn-close"),i(w,"aria-label","Close"),i(n,"class","modal-header"),i(A,"for","startTime"),i(A,"class","form-label"),i(Q,"type","datetime-local"),i(Q,"class","form-control"),i(Q,"id","startTime"),Q.required=!0,i(I,"class","mb-3"),i(ee,"for","endTime"),i(ee,"class","form-label"),i(R,"type","datetime-local"),i(R,"class","form-control"),i(R,"id","endTime"),i(R,"min",s[3]),i(q,"class","mb-3"),i(L,"for","rating"),i(L,"class","form-label"),i(B,"type","number"),i(B,"class","form-control"),i(B,"id","rating"),i(B,"min","1"),i(B,"max","10"),i(B,"placeholder","How was this session?"),i(M,"class","mb-3"),i(ie,"for","notes"),i(ie,"class","form-label"),i(z,"class","form-control"),i(z,"id","notes"),i(z,"rows","3"),i(z,"placeholder","Any thoughts about this play session?"),i(z,"maxlength","1000"),i(de,"class","text-muted"),i(te,"class","mb-3"),i(p,"class","modal-body"),i(j,"type","button"),i(j,"class","btn btn-secondary"),i(ge,"class","fas fa-save me-1"),i(Z,"type","submit"),i(Z,"class","btn btn-primary"),i(v,"class","modal-footer"),i(l,"class","modal-content"),i(e,"class","modal-dialog modal-dialog-centered svelte-gb8wjm"),i(e,"role","document"),i(t,"class","modal fade show d-block svelte-gb8wjm"),i(t,"tabindex","-1"),i(t,"role","dialog"),i(De,"class","modal-backdrop fade show svelte-gb8wjm")},m(G,J){C(G,t,J),u(t,e),u(e,l),u(l,n),u(n,a),u(a,o),u(a,f),u(a,k),u(n,b),u(n,w),u(l,y),u(l,V),u(V,p),u(p,I),u(I,A),u(I,ve),u(I,Q),pe(Q,s[3]),u(p,X),u(p,q),u(q,ee),u(q,se),u(q,R),pe(R,s[4]),u(q,E),x&&x.m(q,null),u(p,S),u(p,M),u(M,L),u(M,ne),u(M,B),pe(B,s[5]),u(p,me),u(p,te),u(te,ie),u(te,Ce),u(te,z),pe(z,s[6]),u(te,W),u(te,de),u(de,we),u(de,H),u(p,O),Y&&Y.m(p,null),u(V,d),u(V,v),u(v,j),u(v,ye),u(v,Z),u(Z,ge),u(Z,he),u(Z,Ee),u(Z,Ke),C(G,Me,J),C(G,De,J),Qe||(Ye=[$(w,"click",s[8]),$(Q,"input",s[10]),$(R,"input",s[11]),$(B,"input",s[12]),$(z,"input",s[13]),$(j,"click",s[8]),$(V,"submit",dt(s[7])),$(t,"click",s[9])],Qe=!0)},p(G,J){J&4&&r!==(r=G[2]?"Edit":"Log")&&be(o,r),J&2&&m!==(m=G[1].title+"")&&be(k,m),J&8&&pe(Q,G[3]),J&8&&i(R,"min",G[3]),J&16&&pe(R,G[4]),G[4]?x&&(x.d(1),x=null):x||(x=$e(),x.c(),x.m(q,null)),J&32&&ct(B.value)!==G[5]&&pe(B,G[5]),J&64&&pe(z,G[6]),J&64&&le!==(le=G[6].length+"")&&be(we,le),G[3]&&G[4]?Y?Y.p(G,J):(Y=et(G),Y.c(),Y.m(p,null)):Y&&(Y.d(1),Y=null),J&4&&ke!==(ke=G[2]?"Update":"Log")&&be(Ee,ke)},d(G){G&&(c(t),c(Me),c(De)),x&&x.d(),Y&&Y.d(),Qe=!1,ut(Ye)}}}function $e(s){let t,e="Leave empty for ongoing session";return{c(){t=_("small"),t.textContent=e,this.h()},l(l){t=h(l,"SMALL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-15pa23w"&&(t.textContent=e),this.h()},h(){i(t,"class","text-muted")},m(l,n){C(l,t,n)},d(l){l&&c(t)}}}function et(s){let t,e,l,n=tt(s[3],s[4])+"",a;return{c(){t=_("div"),e=_("i"),l=U(`
                Duration: `),a=U(n),this.h()},l(r){t=h(r,"DIV",{class:!0});var o=g(t);e=h(o,"I",{class:!0}),g(e).forEach(c),l=P(o,`
                Duration: `),a=P(o,n),o.forEach(c),this.h()},h(){i(e,"class","fas fa-clock me-2"),i(t,"class","alert alert-info")},m(r,o){C(r,t,o),u(t,e),u(t,l),u(t,a)},p(r,o){o&24&&n!==(n=tt(r[3],r[4])+"")&&be(a,n)},d(r){r&&c(t)}}}function wt(s){let t,e=s[0]&&xe(s);return{c(){e&&e.c(),t=je()},l(l){e&&e.l(l),t=je()},m(l,n){e&&e.m(l,n),C(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=xe(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:ue,o:ue,d(l){l&&c(t),e&&e.d(l)}}}function tt(s,t){const e=new Date(s),n=new Date(t).getTime()-e.getTime(),a=Math.floor(n/6e4);if(a<60)return`${a} minute${a!==1?"s":""}`;const r=Math.floor(a/60),o=a%60;return o===0?`${r} hour${r!==1?"s":""}`:`${r} hour${r!==1?"s":""} ${o} minute${o!==1?"s":""}`}function yt(s,t,e){let{show:l=!1}=t,{game:n}=t,{session:a=null}=t;const r=mt();let o="",f="",m="",k="";function b(){if(!o){alert("Please select a start time");return}const N={start_time:new Date(o).toISOString(),end_time:f?new Date(f).toISOString():void 0,rating:m?parseInt(m):void 0,notes:k||void 0};r("submit",N)}function w(){r("close")}function y(N){N.target===N.currentTarget&&w()}function V(){o=this.value,e(3,o),e(0,l),e(2,a)}function p(){f=this.value,e(4,f),e(0,l),e(2,a)}function I(){m=ct(this.value),e(5,m),e(0,l),e(2,a)}function A(){k=this.value,e(6,k),e(0,l),e(2,a)}return s.$$set=N=>{"show"in N&&e(0,l=N.show),"game"in N&&e(1,n=N.game),"session"in N&&e(2,a=N.session)},s.$$.update=()=>{s.$$.dirty&5&&l&&(a?(e(3,o=new Date(a.start_time).toISOString().slice(0,16)),e(4,f=a.end_time?new Date(a.end_time).toISOString().slice(0,16):""),e(5,m=a.rating?.toString()||""),e(6,k=a.notes||"")):(e(3,o=new Date().toISOString().slice(0,16)),e(4,f=""),e(5,m=""),e(6,k="")))},[l,n,a,o,f,m,k,b,w,y,V,p,I,A]}class Et extends rt{constructor(t){super(),it(this,t,yt,wt,ft,{show:0,game:1,session:2})}}function lt(s,t,e){const l=s.slice();return l[24]=t[e],l}function st(s){let t,e='<i class="fas fa-times"></i>',l,n;return{c(){t=_("button"),t.innerHTML=e,this.h()},l(a){t=h(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),K(t)!=="svelte-82a2sv"&&(t.innerHTML=e),this.h()},h(){i(t,"class","btn btn-outline-secondary"),i(t,"type","button")},m(a,r){C(a,t,r),l||(n=$(t,"click",s[19]),l=!0)},p:ue,d(a){a&&c(t),l=!1,n()}}}function Ct(s){let t=s[0].length+"",e,l;return{c(){e=U(t),l=U(" games total")},l(n){e=P(n,t),l=P(n," games total")},m(n,a){C(n,e,a),C(n,l,a)},p(n,a){a&1&&t!==(t=n[0].length+"")&&be(e,t)},d(n){n&&(c(e),c(l))}}}function Dt(s){let t,e=s[9].length+"",l,n,a=s[0].length+"",r,o;return{c(){t=U("Showing "),l=U(e),n=U(" of "),r=U(a),o=U(" games")},l(f){t=P(f,"Showing "),l=P(f,e),n=P(f," of "),r=P(f,a),o=P(f," games")},m(f,m){C(f,t,m),C(f,l,m),C(f,n,m),C(f,r,m),C(f,o,m)},p(f,m){m&512&&e!==(e=f[9].length+"")&&be(l,e),m&1&&a!==(a=f[0].length+"")&&be(r,a)},d(f){f&&(c(t),c(l),c(n),c(r),c(o))}}}function Tt(s){let t,e=[],l=new Map,n,a=Ze(s[9]);const r=o=>o[24].id;for(let o=0;o<a.length;o+=1){let f=lt(s,a,o),m=r(f);l.set(m,e[o]=at(m,f))}return{c(){t=_("div");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){t=h(o,"DIV",{class:!0});var f=g(t);for(let m=0;m<e.length;m+=1)e[m].l(f);f.forEach(c),this.h()},h(){i(t,"class","row")},m(o,f){C(o,t,f);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);n=!0},p(o,f){f&176640&&(a=Ze(o[9]),Fe(),e=pt(e,f,r,1,o,a,l,t,bt,at,null,lt),Be())},i(o){if(!n){for(let f=0;f<a.length;f+=1)ae(e[f]);n=!0}},o(o){for(let f=0;f<e.length;f+=1)fe(e[f]);n=!1},d(o){o&&c(t);for(let f=0;f<e.length;f+=1)e[f].d()}}}function It(s){let t;function e(a,r){return a[1]?Vt:Mt}let l=e(s),n=l(s);return{c(){t=_("div"),n.c(),this.h()},l(a){t=h(a,"DIV",{class:!0});var r=g(t);n.l(r),r.forEach(c),this.h()},h(){i(t,"class","text-center py-5")},m(a,r){C(a,t,r),n.m(t,null)},p(a,r){l===(l=e(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(t,null)))},i:ue,o:ue,d(a){a&&c(t),n.d()}}}function Lt(s){let t,e,l,n,a,r,o,f="Try Again",m,k;return{c(){t=_("div"),e=_("i"),l=T(),n=_("div"),a=U(s[4]),r=T(),o=_("button"),o.textContent=f,this.h()},l(b){t=h(b,"DIV",{class:!0});var w=g(t);e=h(w,"I",{class:!0}),g(e).forEach(c),l=D(w),n=h(w,"DIV",{});var y=g(n);a=P(y,s[4]),r=D(y),o=h(y,"BUTTON",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-10cr3o9"&&(o.textContent=f),y.forEach(c),w.forEach(c),this.h()},h(){i(e,"class","fas fa-exclamation-triangle me-2"),i(o,"class","btn btn-sm btn-outline-danger ms-2"),i(t,"class","alert alert-danger d-flex align-items-center")},m(b,w){C(b,t,w),u(t,e),u(t,l),u(t,n),u(n,a),u(n,r),u(n,o),m||(k=$(o,"click",s[10]),m=!0)},p(b,w){w&16&&be(a,b[4])},i:ue,o:ue,d(b){b&&c(t),m=!1,k()}}}function St(s){let t,e='<div class="text-center"><div class="spinner-border text-primary mb-3" role="status"><span class="visually-hidden">Loading...</span></div> <p class="text-muted">Loading games...</p></div>';return{c(){t=_("div"),t.innerHTML=e,this.h()},l(l){t=h(l,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),K(t)!=="svelte-1g4zktf"&&(t.innerHTML=e),this.h()},h(){i(t,"class","d-flex justify-content-center align-items-center"),_t(t,"height","300px")},m(l,n){C(l,t,n)},p:ue,i:ue,o:ue,d(l){l&&c(t)}}}function at(s,t){let e,l,n,a;return l=new vt({props:{game:t[24]}}),l.$on("edit",t[12]),l.$on("delete",t[13]),l.$on("log",t[15]),l.$on("view",t[17]),{key:s,first:null,c(){e=_("div"),Je(l.$$.fragment),n=T(),this.h()},l(r){e=h(r,"DIV",{class:!0});var o=g(e);ze(l.$$.fragment,o),n=D(o),o.forEach(c),this.h()},h(){i(e,"class","col-xl-2 col-lg-3 col-md-4 col-sm-6 mb-4"),this.first=e},m(r,o){C(r,e,o),Re(l,e,null),u(e,n),a=!0},p(r,o){t=r;const f={};o&512&&(f.game=t[24]),l.$set(f)},i(r){a||(ae(l.$$.fragment,r),a=!0)},o(r){fe(l.$$.fragment,r),a=!1},d(r){r&&c(e),qe(l)}}}function Mt(s){let t,e,l,n="No games in your collection",a,r,o="Start building your collection by adding your first game!",f,m,k='<i class="fas fa-plus me-1"></i> Add Your First Game',b,w;return{c(){t=_("i"),e=T(),l=_("h4"),l.textContent=n,a=T(),r=_("p"),r.textContent=o,f=T(),m=_("button"),m.innerHTML=k,this.h()},l(y){t=h(y,"I",{class:!0}),g(t).forEach(c),e=D(y),l=h(y,"H4",{"data-svelte-h":!0}),K(l)!=="svelte-1d281y8"&&(l.textContent=n),a=D(y),r=h(y,"P",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-1vx8u7"&&(r.textContent=o),f=D(y),m=h(y,"BUTTON",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-9pz2no"&&(m.innerHTML=k),this.h()},h(){i(t,"class","fas fa-gamepad fa-3x text-muted mb-3"),i(r,"class","text-muted"),i(m,"class","btn btn-primary")},m(y,V){C(y,t,V),C(y,e,V),C(y,l,V),C(y,a,V),C(y,r,V),C(y,f,V),C(y,m,V),b||(w=$(m,"click",s[11]),b=!0)},p:ue,d(y){y&&(c(t),c(e),c(l),c(a),c(r),c(f),c(m)),b=!1,w()}}}function Vt(s){let t,e,l,n="No games found",a,r,o,f,m,k,b,w="Clear Search",y,V;return{c(){t=_("i"),e=T(),l=_("h4"),l.textContent=n,a=T(),r=_("p"),o=U('No games match your search "'),f=U(s[1]),m=U('"'),k=T(),b=_("button"),b.textContent=w,this.h()},l(p){t=h(p,"I",{class:!0}),g(t).forEach(c),e=D(p),l=h(p,"H4",{"data-svelte-h":!0}),K(l)!=="svelte-1o14eci"&&(l.textContent=n),a=D(p),r=h(p,"P",{class:!0});var I=g(r);o=P(I,'No games match your search "'),f=P(I,s[1]),m=P(I,'"'),I.forEach(c),k=D(p),b=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-ocaac3"&&(b.textContent=w),this.h()},h(){i(t,"class","fas fa-search fa-3x text-muted mb-3"),i(r,"class","text-muted"),i(b,"class","btn btn-outline-primary")},m(p,I){C(p,t,I),C(p,e,I),C(p,l,I),C(p,a,I),C(p,r,I),u(r,o),u(r,f),u(r,m),C(p,k,I),C(p,b,I),y||(V=$(b,"click",s[20]),y=!0)},p(p,I){I&2&&be(f,p[1])},d(p){p&&(c(t),c(e),c(l),c(a),c(r),c(k),c(b)),y=!1,V()}}}function nt(s){let t,e;return t=new kt({props:{game:s[8],show:s[6]}}),t.$on("close",s[22]),t.$on("edit",s[12]),t.$on("delete",s[13]),t.$on("log",s[15]),{c(){Je(t.$$.fragment)},l(l){ze(t.$$.fragment,l)},m(l,n){Re(t,l,n),e=!0},p(l,n){const a={};n&256&&(a.game=l[8]),n&64&&(a.show=l[6]),t.$set(a)},i(l){e||(ae(t.$$.fragment,l),e=!0)},o(l){fe(t.$$.fragment,l),e=!1},d(l){qe(t,l)}}}function ot(s){let t,e;return t=new Et({props:{game:s[8],show:s[7]}}),t.$on("submit",s[16]),t.$on("close",s[23]),{c(){Je(t.$$.fragment)},l(l){ze(t.$$.fragment,l)},m(l,n){Re(t,l,n),e=!0},p(l,n){const a={};n&256&&(a.game=l[8]),n&128&&(a.show=l[7]),t.$set(a)},i(l){e||(ae(t.$$.fragment,l),e=!0)},o(l){fe(t.$$.fragment,l),e=!1},d(l){qe(t,l)}}}function Nt(s){let t,e,l,n="Game Collection",a,r,o,f,m,k,b,w,y='<i class="fas fa-plus me-1"></i> Add Game',V,p,I,A,N,ve='<i class="fas fa-search"></i>',Q,X,q,ee,re,se,R,E,S,M,L,ce,ne,B,me,te,ie,F=s[1]&&st(s);function Ce(d,v){return d[1]?Dt:Ct}let z=Ce(s),W=z(s);const de=[St,Lt,It,Tt],le=[];function we(d,v){return d[3]?0:d[4]?1:d[9].length===0?2:3}E=we(s),S=le[E]=de[E](s),L=new gt({props:{game:s[8],platforms:s[2],show:s[5]}}),L.$on("submit",s[14]),L.$on("close",s[21]);let H=s[6]&&s[8]&&nt(s),O=s[7]&&s[8]&&ot(s);return{c(){t=_("div"),e=_("div"),l=_("h1"),l.textContent=n,a=T(),r=_("div"),o=_("button"),f=_("i"),k=U(" Refresh"),b=T(),w=_("button"),w.innerHTML=y,V=T(),p=_("div"),I=_("div"),A=_("div"),N=_("span"),N.innerHTML=ve,Q=T(),X=_("input"),q=T(),F&&F.c(),ee=T(),re=_("div"),se=_("p"),W.c(),R=T(),S.c(),M=T(),Je(L.$$.fragment),ce=T(),H&&H.c(),ne=T(),O&&O.c(),B=je(),this.h()},l(d){t=h(d,"DIV",{class:!0});var v=g(t);e=h(v,"DIV",{class:!0});var j=g(e);l=h(j,"H1",{"data-svelte-h":!0}),K(l)!=="svelte-8q22c4"&&(l.textContent=n),a=D(j),r=h(j,"DIV",{class:!0});var oe=g(r);o=h(oe,"BUTTON",{class:!0});var ye=g(o);f=h(ye,"I",{class:!0}),g(f).forEach(c),k=P(ye," Refresh"),ye.forEach(c),b=D(oe),w=h(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),K(w)!=="svelte-mzv9ad"&&(w.innerHTML=y),oe.forEach(c),j.forEach(c),V=D(v),p=h(v,"DIV",{class:!0});var Z=g(p);I=h(Z,"DIV",{class:!0});var ge=g(I);A=h(ge,"DIV",{class:!0});var he=g(A);N=h(he,"SPAN",{class:!0,"data-svelte-h":!0}),K(N)!=="svelte-1ag4q0b"&&(N.innerHTML=ve),Q=D(he),X=h(he,"INPUT",{type:!0,class:!0,placeholder:!0}),q=D(he),F&&F.l(he),he.forEach(c),ge.forEach(c),ee=D(Z),re=h(Z,"DIV",{class:!0});var ke=g(re);se=h(ke,"P",{class:!0});var Ee=g(se);W.l(Ee),Ee.forEach(c),ke.forEach(c),Z.forEach(c),R=D(v),S.l(v),v.forEach(c),M=D(d),ze(L.$$.fragment,d),ce=D(d),H&&H.l(d),ne=D(d),O&&O.l(d),B=je(),this.h()},h(){i(f,"class",m="fas fa-sync-alt "+(s[3]?"fa-spin":"")),i(o,"class","btn btn-outline-secondary"),o.disabled=s[3],i(w,"class","btn btn-primary"),i(r,"class","d-flex gap-2"),i(e,"class","d-flex justify-content-between align-items-center mb-4"),i(N,"class","input-group-text"),i(X,"type","text"),i(X,"class","form-control"),i(X,"placeholder","Search games by title, genre, or platform..."),i(A,"class","input-group"),i(I,"class","col-md-6"),i(se,"class","text-muted mt-2 mb-0"),i(re,"class","col-md-6"),i(p,"class","row mb-4"),i(t,"class","container-fluid mt-4")},m(d,v){C(d,t,v),u(t,e),u(e,l),u(e,a),u(e,r),u(r,o),u(o,f),u(o,k),u(r,b),u(r,w),u(t,V),u(t,p),u(p,I),u(I,A),u(A,N),u(A,Q),u(A,X),pe(X,s[1]),u(A,q),F&&F.m(A,null),u(p,ee),u(p,re),u(re,se),W.m(se,null),u(t,R),le[E].m(t,null),C(d,M,v),Re(L,d,v),C(d,ce,v),H&&H.m(d,v),C(d,ne,v),O&&O.m(d,v),C(d,B,v),me=!0,te||(ie=[$(o,"click",s[10]),$(w,"click",s[11]),$(X,"input",s[18])],te=!0)},p(d,[v]){(!me||v&8&&m!==(m="fas fa-sync-alt "+(d[3]?"fa-spin":"")))&&i(f,"class",m),(!me||v&8)&&(o.disabled=d[3]),v&2&&X.value!==d[1]&&pe(X,d[1]),d[1]?F?F.p(d,v):(F=st(d),F.c(),F.m(A,null)):F&&(F.d(1),F=null),z===(z=Ce(d))&&W?W.p(d,v):(W.d(1),W=z(d),W&&(W.c(),W.m(se,null)));let j=E;E=we(d),E===j?le[E].p(d,v):(Fe(),fe(le[j],1,1,()=>{le[j]=null}),Be(),S=le[E],S?S.p(d,v):(S=le[E]=de[E](d),S.c()),ae(S,1),S.m(t,null));const oe={};v&256&&(oe.game=d[8]),v&4&&(oe.platforms=d[2]),v&32&&(oe.show=d[5]),L.$set(oe),d[6]&&d[8]?H?(H.p(d,v),v&320&&ae(H,1)):(H=nt(d),H.c(),ae(H,1),H.m(ne.parentNode,ne)):H&&(Fe(),fe(H,1,1,()=>{H=null}),Be()),d[7]&&d[8]?O?(O.p(d,v),v&384&&ae(O,1)):(O=ot(d),O.c(),ae(O,1),O.m(B.parentNode,B)):O&&(Fe(),fe(O,1,1,()=>{O=null}),Be())},i(d){me||(ae(S),ae(L.$$.fragment,d),ae(H),ae(O),me=!0)},o(d){fe(S),fe(L.$$.fragment,d),fe(H),fe(O),me=!1},d(d){d&&(c(t),c(M),c(ce),c(ne),c(B)),F&&F.d(),W.d(),le[E].d(),qe(L,d),H&&H.d(d),O&&O.d(d),te=!1,ut(ie)}}}function Gt(s,t,e){let l=[],n=[],a=!0,r=null,o=!1,f=!1,m=!1,k=null,b="",w=[];ht(async()=>{await y()});async function y(){try{e(3,a=!0),e(4,r=null);const[E,S]=await Promise.all([Le.getGames(),Le.getPlatforms()]);e(0,l=E||[]),e(2,n=S||[])}catch(E){E instanceof Ue?e(4,r=`Failed to load data: ${E.message}`):e(4,r="Error connecting to the backend. Please check if the server is running."),console.error("Load data error:",E)}finally{e(3,a=!1)}}function V(){e(8,k=null),e(5,o=!0)}function p(E){e(8,k=E.detail),e(6,f=!1),e(5,o=!0)}async function I(E){const S=E.detail;try{await Le.deleteGame(S),e(0,l=l.filter(M=>M.id!==S))}catch(M){M instanceof Ue?alert(`Failed to delete game: ${M.message}`):alert("An error occurred while deleting the game."),console.error("Delete game error:",M)}}async function A(E){const S=E.detail,M=!!k;try{let L;if(M&&k){L=await Le.updateGame(k.id,S);const ce=l.findIndex(ne=>ne.id===k.id);ce!==-1&&(e(0,l[ce]=L,l),e(0,l=[...l]))}else L=await Le.createGame(S),e(0,l=[...l,L]);e(5,o=!1)}catch(L){L instanceof Ue?alert(`Failed to save game: ${L.message}`):alert("An error occurred while saving the game."),console.error("Save game error:",L)}}function N(E){const S=E.detail,M=l.find(L=>L.id===S);M&&(e(8,k=M),e(7,m=!0),e(6,f=!1))}async function ve(E){const S=E.detail;if(k)try{await Le.createSession(k.id,S),e(7,m=!1)}catch(M){M instanceof Ue?alert(`Failed to log session: ${M.message}`):alert("An error occurred while logging the session."),console.error("Log session error:",M)}}function Q(E){e(8,k=E.detail),e(6,f=!0)}function X(){b=this.value,e(1,b)}const q=()=>e(1,b=""),ee=()=>e(1,b=""),re=()=>e(5,o=!1),se=()=>e(6,f=!1),R=()=>e(7,m=!1);return s.$$.update=()=>{s.$$.dirty&3&&e(9,w=b?l.filter(E=>E.title.toLowerCase().includes(b.toLowerCase())||E.genre?.toLowerCase().includes(b.toLowerCase())||E.platform?.name?.toLowerCase().includes(b.toLowerCase())):l)},[l,b,n,a,r,o,f,m,k,w,y,V,p,I,A,N,ve,Q,X,q,ee,re,se,R]}class Ft extends rt{constructor(t){super(),it(this,t,Gt,Nt,ft,{})}}export{Ft as component};
