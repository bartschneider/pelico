import{S as Tt,i as Vt,s as Mt,n as at,d as n,z as Ct,u as Lt,v as Ee,A as _t,b as j,c as e,m as oe,x as Ht,o as l,B as St,e as a,f as h,p as V,h as p,q as pt,j as r,k as b,r as xt,a as xe,g as me,t as _e,y as wt,C as Pt}from"../chunks/kp0KmzAt.js";import{e as Ye}from"../chunks/NZ8AIpzC.js";import"../chunks/IHki7fMi.js";import{a as lt}from"../chunks/C_uHZB6E.js";import{s as st,a as Bt}from"../chunks/DFd06uIb.js";function bt(u,t,s){const i=u.slice();return i[20]=t[s],i}function gt(u,t,s){const i=u.slice();return i[23]=t[s],i}function yt(u){let t,s=u[23].name+"",i,f;return{c(){t=r("option"),i=_e(s),this.h()},l(d){t=a(d,"OPTION",{});var c=h(t);i=me(c,s),c.forEach(n),this.h()},h(){t.__value=f=u[23].id,Ee(t,t.__value)},m(d,c){j(d,t,c),e(t,i)},p(d,c){c&1&&s!==(s=d[23].name+"")&&xe(i,s),c&1&&f!==(f=d[23].id)&&(t.__value=f,Ee(t,t.__value))},d(d){d&&n(t)}}}function Ot(u){let t,s;return{c(){t=r("i"),s=_e("Start Scan"),this.h()},l(i){t=a(i,"I",{class:!0}),h(t).forEach(n),s=me(i,"Start Scan"),this.h()},h(){l(t,"class","fas fa-search me-1")},m(i,f){j(i,t,f),j(i,s,f)},d(i){i&&(n(t),n(s))}}}function Nt(u){let t,s;return{c(){t=r("i"),s=_e("Scanning..."),this.h()},l(i){t=a(i,"I",{class:!0}),h(t).forEach(n),s=me(i,"Scanning..."),this.h()},h(){l(t,"class","fas fa-spinner fa-spin me-1")},m(i,f){j(i,t,f),j(i,s,f)},d(i){i&&(n(t),n(s))}}}function Et(u){let t,s,i=`<h5 class="mb-0"><i class="fas fa-check-circle me-2 text-success"></i>
							Scan Results</h5>`,f,d,c,o,m,v,E,M,C=u[6].games_found+"",I,B,L,O="Games Found",se,N,g,y,q,H,k=(u[6].new_games||0)+"",K,A,x,we="New Games",pe,w,Y,W,ke,re,J=(u[6].updated_games||0)+"",X,le,ie,Ie="Updated Games",P,D=u[6].message&&kt(u);return{c(){t=r("div"),s=r("div"),s.innerHTML=i,f=b(),d=r("div"),c=r("div"),o=r("div"),m=r("div"),v=r("i"),E=b(),M=r("h4"),I=_e(C),B=b(),L=r("small"),L.textContent=O,se=b(),N=r("div"),g=r("div"),y=r("i"),q=b(),H=r("h4"),K=_e(k),A=b(),x=r("small"),x.textContent=we,pe=b(),w=r("div"),Y=r("div"),W=r("i"),ke=b(),re=r("h4"),X=_e(J),le=b(),ie=r("small"),ie.textContent=Ie,P=b(),D&&D.c(),this.h()},l(G){t=a(G,"DIV",{class:!0});var Z=h(t);s=a(Z,"DIV",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-8w5ycc"&&(s.innerHTML=i),f=p(Z),d=a(Z,"DIV",{class:!0});var $=h(d);c=a($,"DIV",{class:!0});var R=h(c);o=a(R,"DIV",{class:!0});var De=h(o);m=a(De,"DIV",{class:!0});var Q=h(m);v=a(Q,"I",{class:!0}),h(v).forEach(n),E=p(Q),M=a(Q,"H4",{class:!0});var Pe=h(M);I=me(Pe,C),Pe.forEach(n),B=p(Q),L=a(Q,"SMALL",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-rqyq7p"&&(L.textContent=O),Q.forEach(n),De.forEach(n),se=p(R),N=a(R,"DIV",{class:!0});var Ce=h(N);g=a(Ce,"DIV",{class:!0});var ee=h(g);y=a(ee,"I",{class:!0}),h(y).forEach(n),q=p(ee),H=a(ee,"H4",{class:!0});var te=h(H);K=me(te,k),te.forEach(n),A=p(ee),x=a(ee,"SMALL",{class:!0,"data-svelte-h":!0}),V(x)!=="svelte-93eoyn"&&(x.textContent=we),ee.forEach(n),Ce.forEach(n),pe=p(R),w=a(R,"DIV",{class:!0});var Le=h(w);Y=a(Le,"DIV",{class:!0});var ce=h(Y);W=a(ce,"I",{class:!0}),h(W).forEach(n),ke=p(ce),re=a(ce,"H4",{class:!0});var ae=h(re);X=me(ae,J),ae.forEach(n),le=p(ce),ie=a(ce,"SMALL",{class:!0,"data-svelte-h":!0}),V(ie)!=="svelte-ki3n64"&&(ie.textContent=Ie),ce.forEach(n),Le.forEach(n),R.forEach(n),P=p($),D&&D.l($),$.forEach(n),Z.forEach(n),this.h()},h(){l(s,"class","card-header"),l(v,"class","fas fa-gamepad fa-2x text-primary mb-2"),l(M,"class","mb-0"),l(L,"class","text-muted"),l(m,"class","border rounded p-3"),l(o,"class","col-md-4"),l(y,"class","fas fa-plus-circle fa-2x text-success mb-2"),l(H,"class","mb-0"),l(x,"class","text-muted"),l(g,"class","border rounded p-3"),l(N,"class","col-md-4"),l(W,"class","fas fa-sync-alt fa-2x text-info mb-2"),l(re,"class","mb-0"),l(ie,"class","text-muted"),l(Y,"class","border rounded p-3"),l(w,"class","col-md-4"),l(c,"class","row text-center"),l(d,"class","card-body"),l(t,"class","card")},m(G,Z){j(G,t,Z),e(t,s),e(t,f),e(t,d),e(d,c),e(c,o),e(o,m),e(m,v),e(m,E),e(m,M),e(M,I),e(m,B),e(m,L),e(c,se),e(c,N),e(N,g),e(g,y),e(g,q),e(g,H),e(H,K),e(g,A),e(g,x),e(c,pe),e(c,w),e(w,Y),e(Y,W),e(Y,ke),e(Y,re),e(re,X),e(Y,le),e(Y,ie),e(d,P),D&&D.m(d,null)},p(G,Z){Z&64&&C!==(C=G[6].games_found+"")&&xe(I,C),Z&64&&k!==(k=(G[6].new_games||0)+"")&&xe(K,k),Z&64&&J!==(J=(G[6].updated_games||0)+"")&&xe(X,J),G[6].message?D?D.p(G,Z):(D=kt(G),D.c(),D.m(d,null)):D&&(D.d(1),D=null)},d(G){G&&n(t),D&&D.d()}}}function kt(u){let t,s,i,f=u[6].message+"",d;return{c(){t=r("div"),s=r("i"),i=b(),d=_e(f),this.h()},l(c){t=a(c,"DIV",{class:!0});var o=h(t);s=a(o,"I",{class:!0}),h(s).forEach(n),i=p(o),d=me(o,f),o.forEach(n),this.h()},h(){l(s,"class","fas fa-info-circle me-2"),l(t,"class","alert alert-info mt-3")},m(c,o){j(c,t,o),e(t,s),e(t,i),e(t,d)},p(c,o){o&64&&f!==(f=c[6].message+"")&&xe(d,f)},d(c){c&&n(t)}}}function It(u){let t,s,i,f,d,c='<i class="fas fa-folder me-2"></i>Browse Directories',o,m,v,E,M,C,I,B="Cancel",L,O;function se(y,q){return y[8].length>0?At:qt}let N=se(u),g=N(u);return{c(){t=r("div"),s=r("div"),i=r("div"),f=r("div"),d=r("h5"),d.innerHTML=c,o=b(),m=r("button"),v=b(),E=r("div"),g.c(),M=b(),C=r("div"),I=r("button"),I.textContent=B,this.h()},l(y){t=a(y,"DIV",{class:!0,tabindex:!0,style:!0});var q=h(t);s=a(q,"DIV",{class:!0});var H=h(s);i=a(H,"DIV",{class:!0});var k=h(i);f=a(k,"DIV",{class:!0});var K=h(f);d=a(K,"H5",{class:!0,"data-svelte-h":!0}),V(d)!=="svelte-ku9u5s"&&(d.innerHTML=c),o=p(K),m=a(K,"BUTTON",{type:!0,class:!0}),h(m).forEach(n),K.forEach(n),v=p(k),E=a(k,"DIV",{class:!0});var A=h(E);g.l(A),A.forEach(n),M=p(k),C=a(k,"DIV",{class:!0});var x=h(C);I=a(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(I)!=="svelte-1u4c2ef"&&(I.textContent=B),x.forEach(n),k.forEach(n),H.forEach(n),q.forEach(n),this.h()},h(){l(d,"class","modal-title"),l(m,"type","button"),l(m,"class","btn-close"),l(f,"class","modal-header"),l(E,"class","modal-body"),l(I,"type","button"),l(I,"class","btn btn-secondary"),l(C,"class","modal-footer"),l(i,"class","modal-content"),l(s,"class","modal-dialog"),l(t,"class","modal fade show d-block"),l(t,"tabindex","-1"),wt(t,"background-color","rgba(0,0,0,0.5)")},m(y,q){j(y,t,q),e(t,s),e(s,i),e(i,f),e(f,d),e(f,o),e(f,m),e(i,v),e(i,E),g.m(E,null),e(i,M),e(i,C),e(C,I),L||(O=[oe(m,"click",u[13]),oe(I,"click",u[13])],L=!0)},p(y,q){N===(N=se(y))&&g?g.p(y,q):(g.d(1),g=N(y),g&&(g.c(),g.m(E,null)))},d(y){y&&n(t),g.d(),L=!1,Lt(O)}}}function qt(u){let t,s='<i class="fas fa-folder-open fa-3x text-muted mb-3"></i> <p class="text-muted">No suggested directories available.</p> <p class="small">You can manually enter a directory path in the form.</p>';return{c(){t=r("div"),t.innerHTML=s,this.h()},l(i){t=a(i,"DIV",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-121znde"&&(t.innerHTML=s),this.h()},h(){l(t,"class","text-center py-4")},m(i,f){j(i,t,f)},p:at,d(i){i&&n(t)}}}function At(u){let t,s="Select a directory from the available paths:",i,f,d=Ye(u[8]),c=[];for(let o=0;o<d.length;o+=1)c[o]=Dt(bt(u,d,o));return{c(){t=r("p"),t.textContent=s,i=b(),f=r("div");for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){t=a(o,"P",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-5tqol6"&&(t.textContent=s),i=p(o),f=a(o,"DIV",{class:!0});var m=h(f);for(let v=0;v<c.length;v+=1)c[v].l(m);m.forEach(n),this.h()},h(){l(t,"class","text-muted"),l(f,"class","list-group")},m(o,m){j(o,t,m),j(o,i,m),j(o,f,m);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(f,null)},p(o,m){if(m&4352){d=Ye(o[8]);let v;for(v=0;v<d.length;v+=1){const E=bt(o,d,v);c[v]?c[v].p(E,m):(c[v]=Dt(E),c[v].c(),c[v].m(f,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=d.length}},d(o){o&&(n(t),n(i),n(f)),Ct(c,o)}}}function Dt(u){let t,s,i=u[20]+"",f,d,c,o;function m(){return u[18](u[20])}return{c(){t=r("button"),s=r("i"),f=_e(i),d=b(),this.h()},l(v){t=a(v,"BUTTON",{type:!0,class:!0});var E=h(t);s=a(E,"I",{class:!0}),h(s).forEach(n),f=me(E,i),d=p(E),E.forEach(n),this.h()},h(){l(s,"class","fas fa-folder me-2"),l(t,"type","button"),l(t,"class","list-group-item list-group-item-action")},m(v,E){j(v,t,E),e(t,s),e(t,f),e(t,d),c||(o=oe(t,"click",m),c=!0)},p(v,E){u=v,E&256&&i!==(i=u[20]+"")&&xe(f,i)},d(v){v&&n(t),c=!1,o()}}}function Ut(u){let t,s,i='<div class="col-12"><div class="d-flex justify-content-between align-items-center mb-4"><div><h1 class="h2 mb-1"><i class="fas fa-search me-2 text-primary"></i>ROM Scanner</h1> <p class="text-muted mb-0">Scan directories for ROM files and add them to your collection</p></div></div></div>',f,d,c,o,m,v=`<h5 class="mb-0"><i class="fas fa-cog me-2"></i>
						Scan Configuration</h5>`,E,M,C,I,B,L,O,se='Directory Path <span class="text-danger">*</span>',N,g,y,q,H,k='<i class="fas fa-folder-open"></i> Browse',K,A,x,we='Server Location <span class="text-danger">*</span>',pe,w,Y,W,ke="Name of the server or storage device",re,J,X,le,ie='Platform <span class="text-danger">*</span>',Ie,P,D,G="Select Platform",Z,$,R,De,Q,Pe="Scan subdirectories",Ce,ee,te,Le,ce,ae,fe,be,rt='<h5 class="mb-0"><i class="fas fa-bolt me-2"></i>Quick Actions</h5>',Je,Te,ne,he,it='<i class="fas fa-desktop me-1"></i>Manage Platforms',Ke,ve,ct='<i class="fas fa-gamepad me-1"></i>View Collection',We,de,nt='<i class="fas fa-refresh me-1"></i>Refresh Paths',Xe,ge,ot='<div class="card-header"><h5 class="mb-0"><i class="fas fa-lightbulb me-2"></i>Scanning Tips</h5></div> <div class="card-body"><ul class="list-unstyled mb-0"><li class="mb-2"><i class="fas fa-check text-success me-2"></i> <small>Use recursive scan for nested folders</small></li> <li class="mb-2"><i class="fas fa-check text-success me-2"></i> <small>Organize ROMs by platform for better results</small></li> <li class="mb-2"><i class="fas fa-check text-success me-2"></i> <small>Scanner supports ZIP and 7Z archives</small></li> <li class="mb-0"><i class="fas fa-check text-success me-2"></i> <small>Metadata is fetched automatically</small></li></ul></div>',Be,Ve,$e,dt,Me=Ye(u[0]),U=[];for(let _=0;_<Me.length;_+=1)U[_]=yt(gt(u,Me,_));function ut(_,S){return _[5]?Nt:Ot}let Oe=ut(u),ue=Oe(u),z=u[6]&&Et(u),F=u[7]&&It(u);return{c(){t=r("div"),s=r("div"),s.innerHTML=i,f=b(),d=r("div"),c=r("div"),o=r("div"),m=r("div"),m.innerHTML=v,E=b(),M=r("div"),C=r("form"),I=r("div"),B=r("div"),L=r("div"),O=r("label"),O.innerHTML=se,N=b(),g=r("div"),y=r("input"),q=b(),H=r("button"),H.innerHTML=k,K=b(),A=r("div"),x=r("label"),x.innerHTML=we,pe=b(),w=r("input"),Y=b(),W=r("div"),W.textContent=ke,re=b(),J=r("div"),X=r("div"),le=r("label"),le.innerHTML=ie,Ie=b(),P=r("select"),D=r("option"),D.textContent=G;for(let _=0;_<U.length;_+=1)U[_].c();Z=b(),$=r("div"),R=r("input"),De=b(),Q=r("label"),Q.textContent=Pe,Ce=b(),ee=r("div"),te=r("button"),ue.c(),Le=b(),z&&z.c(),ce=b(),ae=r("div"),fe=r("div"),be=r("div"),be.innerHTML=rt,Je=b(),Te=r("div"),ne=r("div"),he=r("a"),he.innerHTML=it,Ke=b(),ve=r("a"),ve.innerHTML=ct,We=b(),de=r("button"),de.innerHTML=nt,Xe=b(),ge=r("div"),ge.innerHTML=ot,Be=b(),F&&F.c(),Ve=pt(),this.h()},l(_){t=a(_,"DIV",{class:!0});var S=h(t);s=a(S,"DIV",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-p0al7u"&&(s.innerHTML=i),f=p(S),d=a(S,"DIV",{class:!0});var T=h(d);c=a(T,"DIV",{class:!0});var ye=h(c);o=a(ye,"DIV",{class:!0});var Ne=h(o);m=a(Ne,"DIV",{class:!0,"data-svelte-h":!0}),V(m)!=="svelte-1pb75p4"&&(m.innerHTML=v),E=p(Ne),M=a(Ne,"DIV",{class:!0});var ft=h(M);C=a(ft,"FORM",{});var qe=h(C);I=a(qe,"DIV",{class:!0});var Ae=h(I);B=a(Ae,"DIV",{class:!0});var Ue=h(B);L=a(Ue,"DIV",{class:!0});var Re=h(L);O=a(Re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(O)!=="svelte-1ls8kia"&&(O.innerHTML=se),N=p(Re),g=a(Re,"DIV",{class:!0});var ze=h(g);y=a(ze,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),q=p(ze),H=a(ze,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(H)!=="svelte-77ol7i"&&(H.innerHTML=k),ze.forEach(n),Re.forEach(n),K=p(Ue),A=a(Ue,"DIV",{class:!0});var He=h(A);x=a(He,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(x)!=="svelte-yd0gea"&&(x.innerHTML=we),pe=p(He),w=a(He,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Y=p(He),W=a(He,"DIV",{class:!0,"data-svelte-h":!0}),V(W)!=="svelte-169kr1z"&&(W.textContent=ke),He.forEach(n),Ue.forEach(n),re=p(Ae),J=a(Ae,"DIV",{class:!0});var Fe=h(J);X=a(Fe,"DIV",{class:!0});var je=h(X);le=a(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(le)!=="svelte-1vzc6xc"&&(le.innerHTML=ie),Ie=p(je),P=a(je,"SELECT",{id:!0,class:!0});var et=h(P);D=a(et,"OPTION",{"data-svelte-h":!0}),V(D)!=="svelte-1116ke3"&&(D.textContent=G);for(let tt=0;tt<U.length;tt+=1)U[tt].l(et);et.forEach(n),je.forEach(n),Z=p(Fe),$=a(Fe,"DIV",{class:!0});var Ge=h($);R=a(Ge,"INPUT",{class:!0,type:!0,id:!0}),De=p(Ge),Q=a(Ge,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(Q)!=="svelte-12k90h2"&&(Q.textContent=Pe),Ge.forEach(n),Fe.forEach(n),Ae.forEach(n),Ce=p(qe),ee=a(qe,"DIV",{class:!0});var ht=h(ee);te=a(ht,"BUTTON",{type:!0,class:!0});var vt=h(te);ue.l(vt),vt.forEach(n),ht.forEach(n),qe.forEach(n),ft.forEach(n),Ne.forEach(n),Le=p(ye),z&&z.l(ye),ye.forEach(n),ce=p(T),ae=a(T,"DIV",{class:!0});var Ze=h(ae);fe=a(Ze,"DIV",{class:!0});var Qe=h(fe);be=a(Qe,"DIV",{class:!0,"data-svelte-h":!0}),V(be)!=="svelte-15zxc1h"&&(be.innerHTML=rt),Je=p(Qe),Te=a(Qe,"DIV",{class:!0});var mt=h(Te);ne=a(mt,"DIV",{class:!0});var Se=h(ne);he=a(Se,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(he)!=="svelte-1gd7q4m"&&(he.innerHTML=it),Ke=p(Se),ve=a(Se,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(ve)!=="svelte-gtex1d"&&(ve.innerHTML=ct),We=p(Se),de=a(Se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(de)!=="svelte-7downr"&&(de.innerHTML=nt),Se.forEach(n),mt.forEach(n),Qe.forEach(n),Xe=p(Ze),ge=a(Ze,"DIV",{class:!0,"data-svelte-h":!0}),V(ge)!=="svelte-1fwhq4o"&&(ge.innerHTML=ot),Ze.forEach(n),T.forEach(n),S.forEach(n),Be=p(_),F&&F.l(_),Ve=pt(),this.h()},h(){l(s,"class","row"),l(m,"class","card-header"),l(O,"for","directoryPath"),l(O,"class","form-label"),l(y,"type","text"),l(y,"id","directoryPath"),y.required=!0,y.readOnly=!0,l(y,"placeholder","/path/to/roms"),l(y,"class","form-control"),l(H,"type","button"),l(H,"class","btn btn-outline-secondary"),l(g,"class","input-group"),l(L,"class","mb-3"),l(x,"for","serverLocation"),l(x,"class","form-label"),l(w,"type","text"),l(w,"id","serverLocation"),w.required=!0,l(w,"placeholder","Home Server"),l(w,"class","form-control"),l(W,"class","form-text"),l(A,"class","mb-3"),l(B,"class","col-md-8"),l(le,"for","platformSelect"),l(le,"class","form-label"),D.__value="",Ee(D,D.__value),l(P,"id","platformSelect"),P.required=!0,l(P,"class","form-select"),u[3]===void 0&&St(()=>u[16].call(P)),l(X,"class","mb-3"),l(R,"class","form-check-input"),l(R,"type","checkbox"),l(R,"id","recursiveCheck"),l(Q,"class","form-check-label"),l(Q,"for","recursiveCheck"),l($,"class","form-check"),l(J,"class","col-md-4"),l(I,"class","row"),l(te,"type","submit"),te.disabled=u[5],l(te,"class","btn btn-primary"),l(ee,"class","d-grid gap-2 d-md-flex justify-content-md-end"),l(M,"class","card-body"),l(o,"class","card mb-4"),l(c,"class","col-lg-8"),l(be,"class","card-header"),l(he,"href","/platforms"),l(he,"class","btn btn-outline-primary"),l(ve,"href","/collection"),l(ve,"class","btn btn-outline-secondary"),l(de,"type","button"),l(de,"class","btn btn-outline-info"),l(ne,"class","d-grid gap-2"),l(Te,"class","card-body"),l(fe,"class","card mb-4"),l(ge,"class","card"),l(ae,"class","col-lg-4"),l(d,"class","row"),l(t,"class","container-fluid py-4")},m(_,S){j(_,t,S),e(t,s),e(t,f),e(t,d),e(d,c),e(c,o),e(o,m),e(o,E),e(o,M),e(M,C),e(C,I),e(I,B),e(B,L),e(L,O),e(L,N),e(L,g),e(g,y),Ee(y,u[1]),e(g,q),e(g,H),e(B,K),e(B,A),e(A,x),e(A,pe),e(A,w),Ee(w,u[2]),e(A,Y),e(A,W),e(I,re),e(I,J),e(J,X),e(X,le),e(X,Ie),e(X,P),e(P,D);for(let T=0;T<U.length;T+=1)U[T]&&U[T].m(P,null);_t(P,u[3],!0),e(J,Z),e(J,$),e($,R),R.checked=u[4],e($,De),e($,Q),e(C,Ce),e(C,ee),e(ee,te),ue.m(te,null),e(c,Le),z&&z.m(c,null),e(d,ce),e(d,ae),e(ae,fe),e(fe,be),e(fe,Je),e(fe,Te),e(Te,ne),e(ne,he),e(ne,Ke),e(ne,ve),e(ne,We),e(ne,de),e(ae,Xe),e(ae,ge),j(_,Be,S),F&&F.m(_,S),j(_,Ve,S),$e||(dt=[oe(y,"input",u[14]),oe(H,"click",u[11]),oe(w,"input",u[15]),oe(P,"change",u[16]),oe(R,"change",u[17]),oe(C,"submit",Ht(u[10])),oe(de,"click",u[9])],$e=!0)},p(_,[S]){if(S&2&&y.value!==_[1]&&Ee(y,_[1]),S&4&&w.value!==_[2]&&Ee(w,_[2]),S&1){Me=Ye(_[0]);let T;for(T=0;T<Me.length;T+=1){const ye=gt(_,Me,T);U[T]?U[T].p(ye,S):(U[T]=yt(ye),U[T].c(),U[T].m(P,null))}for(;T<U.length;T+=1)U[T].d(1);U.length=Me.length}S&9&&_t(P,_[3]),S&16&&(R.checked=_[4]),Oe!==(Oe=ut(_))&&(ue.d(1),ue=Oe(_),ue&&(ue.c(),ue.m(te,null))),S&32&&(te.disabled=_[5]),_[6]?z?z.p(_,S):(z=Et(_),z.c(),z.m(c,null)):z&&(z.d(1),z=null),_[7]?F?F.p(_,S):(F=It(_),F.c(),F.m(Ve.parentNode,Ve)):F&&(F.d(1),F=null)},i:at,o:at,d(_){_&&(n(t),n(Be),n(Ve)),Ct(U,_),ue.d(),z&&z.d(),F&&F.d(_),$e=!1,Lt(dt)}}}function Rt(u,t,s){let i=[],f="",d="",c=null,o=!0,m=!1,v=null,E=!1,M=[];xt(async()=>{await C(),await I()});async function C(){try{s(0,i=await lt.getPlatforms())}catch{st("Error","Failed to load platforms")}}async function I(){try{const k=await lt.getSuggestedPaths();s(8,M=k.paths||[])}catch{console.warn("Could not load suggested paths")}}async function B(){if(!f||!d||!c){st("Validation Error","Please fill in all required fields");return}s(5,m=!0),s(6,v=null);try{const k=await lt.scanDirectory({path:f,server_location:d,platform_id:c,recursive:o});s(6,v=k),Bt("Scan Complete",`Found ${k.games_found} games`)}catch(k){st("Scan Failed",k.message)}finally{s(5,m=!1)}}function L(){s(7,E=!0)}function O(k){s(1,f=k),s(7,E=!1)}function se(){s(7,E=!1)}function N(){f=this.value,s(1,f)}function g(){d=this.value,s(2,d)}function y(){c=Pt(this),s(3,c),s(0,i)}function q(){o=this.checked,s(4,o)}return[i,f,d,c,o,m,v,E,M,I,B,L,O,se,N,g,y,q,k=>O(k)]}class Qt extends Tt{constructor(t){super(),Vt(this,t,Rt,Ut,Mt,{})}}export{Qt as component};
